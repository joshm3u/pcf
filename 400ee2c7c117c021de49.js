webpackJsonp([0],{10:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CREATE_NOTIFICATION="CREATE_NOTIFICATION",t.UPDATE_NOTIFICATION="UPDATE_NOTIFICATION",t.DELETE_NOTIFICATION="DELETE_NOTIFICATION",t.createNotification=function(e){return{type:t.CREATE_NOTIFICATION,value:e.value}},t.updateNotification=function(e){return{type:t.UPDATE_NOTIFICATION,value:e.value}},t.deleteNotification=function(e){return{type:t.DELETE_NOTIFICATION,value:e.value}}},101:function(e,t,a){"use strict";function getDisplayRuleNames(e){if(null!=e&&e.length>0){var t="";return e.map(function(e,t){return JSON.parse(e)}).sort(function(e,t){return e.order-t.order}).map(function(a,r){t+=a.name,r<e.length-1&&(t+=", ")}),r.createElement("i",null,t)}return null}function getSelectedAttributeId(e){return null==e.condition?e.left:null!=e.children&&e.children.length>0?e.children[0].left.replace("-PARAMETER","").replace("-VALUE",""):null}function getSelectedOperator(e,t){if(null==e.condition)return e.operator;if(null!=e.children&&e.children.length>0)for(var a=0;a<e.children.length;a++)if(e.children[a].left.endsWith(t))return e.children[a].operator;return null}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0);t.getDisplayRuleNames=getDisplayRuleNames,t.getSelectedAttributeId=getSelectedAttributeId,t.getSelectedOperator=getSelectedOperator},1155:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4);t.getEvidentlyFlag=function(e,t){return r.default.request({method:"get",url:n.ServiceEndPoints.getFeatureFlag,params:{projectName:e,featureName:t}})}},1156:function(e,t,a){"use strict";function mapStateToProps(e){return{notifications:e.notifications}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(7),s=a(41),l=a(10),c=a(5),p=s.default.div(d||(d=r(["\n    position: fixed;\n    right: 0px;\n    top: ",";\n    z-index: 10000;\n    max-width: calc(100% - 78px);\n    min-width: 40%;\n    .awsui-flash-body {\n        display: flex;\n        -ms-flex-positive: 1;\n        -webkit-box-flex: 1;\n        flex-grow: 1;\n        min-width: 0;\n    }\n"],["\n    position: fixed;\n    right: 0px;\n    top: ",";\n    z-index: 10000;\n    max-width: calc(100% - 78px);\n    min-width: 40%;\n    .awsui-flash-body {\n        display: flex;\n        -ms-flex-positive: 1;\n        -webkit-box-flex: 1;\n        flex-grow: 1;\n        min-width: 0;\n    }\n"])),function(e){return"117px"}),u=function(e){function NotificationComponent(t){var a=e.call(this,t)||this;return a.state={},a}return n(NotificationComponent,e),NotificationComponent.prototype.componentDidMount=function(){},NotificationComponent.prototype.componentWillReceiveProps=function(e){var t=this,a=e.notifications;Object.keys(a).forEach(function(e){var r=a[e];r.duration&&!r._doNotTouch&&(console.log("yes?"),t.props.dispatch(l.updateNotification({value:{id:r.id,_doNotTouch:1}})),setTimeout(function(){console.log("trying to close"),t.props.dispatch(l.deleteNotification({value:r.id}))},r.duration))})},NotificationComponent.prototype.render=function(){var e=this,t=this.props.notifications,a=Object.keys(t).map(function(e){return t[e]}).filter(function(e){return"alert"==e.type}).map(function(t){var a=t.content||"";return"string"==typeof a&&(a=a.replace(/\(Service\:.*\)/,""),a=a.replace(/\(DAENERYS_MESSAGE\:.*/,"")),{type:t.status,content:a,dismissible:0!=t.dismissible,loading:t.loading,buttonText:t.buttonText,buttonClick:function(){e.props.dispatch(t.buttonClick)},dismiss:function(){e.props.dispatch(l.deleteNotification({value:t.id}))}}});return i.createElement(p,{className:"awsui",pathname:this.props.match.pathname},i.createElement(c.Flashbar,{items:a}))},NotificationComponent}(i.Component);t.default=o.connect(mapStateToProps)(u);var d},1160:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(0),o=function(e){function FooterComponent(){return null!==e&&e.apply(this,arguments)||this}return r(FooterComponent,e),FooterComponent.prototype.render=function(){return n.createElement("div",{className:"footer"},n.createElement("p",null,n.createElement("small",null,"AMAZON APPROVALS IS A SERVICE OFFERED BY AMAZON LEGAL TECHNOLOGIES"))," ",n.createElement("span",{style:{float:"right"}},"Powered By LOCOS"))},FooterComponent}(i.Component);t.default=o},1161:function(e,t,a){"use strict";function modalFeedback(){document.getElementById("home-feedback").classList.toggle("jsShow")}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(0),s=a(77),l=a(4),c=a(5),p=a(8),u=a(41),d=a(7),m=a(168),f=a(46),E=a(13),h=a(57),v=a(6),A=u.default.section(C||(C=r(["\n  .header1 {\n    color: #f79b00;\n    font-size: 18px;\n  }\n  .hideInPopUp {\n    display: none;\n  }\n  .header {\n    z-index: 10;\n    .dropDown {\n      &:hover {\n        .custom-dropdown-content {\n          display: block;\n          li {\n            a {\n              color: #232f3e;\n            }\n          }\n        }\n      }\n    }\n  }\n"],["\n  .header1 {\n    color: #f79b00;\n    font-size: 18px;\n  }\n  .hideInPopUp {\n    display: none;\n  }\n  .header {\n    z-index: 10;\n    .dropDown {\n      &:hover {\n        .custom-dropdown-content {\n          display: block;\n          li {\n            a {\n              color: #232f3e;\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),g=[{id:"Approvals",label:"Approvals"},{id:"Templates",label:"Templates"}],T=[{id:E.ApprovalStatus.PENDING,label:E.getDisplayApprovalStatus(E.ApprovalStatus.PENDING)},{id:E.ApprovalStatus.APPROVED,label:E.getDisplayApprovalStatus(E.ApprovalStatus.APPROVED)},{id:E.ApprovalStatus.APPROVED_WITH_CONDITION,label:E.getDisplayApprovalStatus(E.ApprovalStatus.APPROVED_WITH_CONDITION)},{id:E.ApprovalStatus.REJECTED,label:E.getDisplayApprovalStatus(E.ApprovalStatus.REJECTED)},{id:E.ApprovalStatus.CANCELLED,label:E.getDisplayApprovalStatus(E.ApprovalStatus.CANCELLED)},{id:E.ApprovalStatus.DRAFT,label:E.getDisplayApprovalStatus(E.ApprovalStatus.DRAFT)},{id:E.ApprovalStatus.INVALIDATED,label:E.getDisplayApprovalStatus(E.ApprovalStatus.INVALIDATED)},{id:E.ApprovalStatus.ON_HOLD,label:E.getDisplayApprovalStatus(E.ApprovalStatus.ON_HOLD)}],y=[{id:l.PriorityType.HIGH,label:l.DisplayPriority.HIGH,displayOrder:1},{id:l.PriorityType.MEDIUM,label:l.DisplayPriority.MEDIUM,displayOrder:2},{id:l.PriorityType.LOW,label:l.DisplayPriority.LOW,displayOrder:3},{id:l.PriorityType.NONE,label:l.DisplayPriority.NONE,displayOrder:4}],_=[{id:l.ApprovalUserRoleType.REQUESTER,label:"Approval requester",displayOrder:1},{id:l.ApprovalUserRoleType.ADMIN,label:"Approval admin",displayOrder:2},{id:l.ApprovalUserRoleType.PAST_APPROVER,label:"Past approver",displayOrder:3},{id:l.ApprovalUserRoleType.CURRENT_APPROVER,label:"Current approver",displayOrder:4},{id:l.ApprovalUserRoleType.FUTURE_APPROVER,label:"Future approver",displayOrder:5},{id:l.ApprovalUserRoleType.GENERAL_VIEWER,label:"General viewer",displayOrder:6},{id:l.ApprovalUserRoleType.PRIVATE_VIEWER,label:"Private viewer",displayOrder:7}],N=(O={},O.Approvals=[{component:E.PhraseSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__title"},"Title"),name:"title",placeholder:"Enter a title (use the checkbox to limit to exact matches)"}},{component:E.PeopleSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__requester"},"Requester"),name:"requester",placeholder:"Search for an Amazon employee",queryPeopleSearch:f.queryPeopleSearch}},{component:E.MultiSelectSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__my-role"},"My role"," ",i.createElement(c.Popover,{content:"Choose one or more roles. Only approval requests in which you're in any of the specified roles will show in the search results.",header:i.createElement("h2",null,'Search by "my role"')},i.createElement("span",{className:"advanced-search-new-field-badge awsui-util-font-size-0"},"New"))),name:"myrole",placeholder:"Choose roles",options:_.sort(E.byProp("displayOrder"))}},{component:E.TextSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__template-ID"},"Template ID"),name:"templateid",placeholder:"Enter comma (,) separated template ID's"}},{component:E.TextSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__external-ID"},"External ID"),name:"externalid",placeholder:"Enter comma (,) separated external ID's"}},{component:E.TextSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__tag"},"Tag"),name:"tag",placeholder:"Enter comma (,) separated tag names"}},{component:E.MultiSelectSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__status"},"Status"),name:"status",placeholder:"Choose status",options:T.sort(E.byProp("label"))}},{component:E.MultiSelectSearch,props:{label:i.createElement("span",{"data-testid":"advanced-search__priority"},"Priority"),name:"priority",placeholder:"Choose priority",options:y.sort(E.byProp("displayOrder"))}}],O.Templates=[],O),R={currentListPage:null,searchTerm:"",searchType:"Approvals",showAlert:!1,activeTab:h.TabId.search},S=function(e){function HeaderComponent(t){var a=e.call(this,t)||this;a.modalCancelButtonText="Go Back",a.modalSaveButtonText="Submit",a.doSearch=a.doSearch.bind(a),a.onApprovalsClick=a.onApprovalsClick.bind(a),a.onNavigationClick=a.onNavigationClick.bind(a),a.captureFeedbackComments=a.captureFeedbackComments.bind(a),a.dismissFeedbackModal=a.dismissFeedbackModal.bind(a),a.captureDelighted=a.captureDelighted.bind(a),a.captureDisappointed=a.captureDisappointed.bind(a),a.postFeedback=a.postFeedback.bind(a),a.setSearch=function(e){return a.search=e},a.resetSearch=a.resetSearch.bind(a),a.getSearchParams=a.getSearchParams.bind(a);var r=t.location.search,n=new URLSearchParams(r),i=n.get("ssid");return a.state={searchType:"Approvals",sourceSystemId:i,feedbackModalVisible:!1,feedbackModalContent:null,feedbackModalFooter:null,feedbackComments:"-",feedbackRating:null,feedbackModalSubtitle:null},a}return n(HeaderComponent,e),HeaderComponent.prototype.componentDidMount=function(){this.props.getQuickLinks(),this.resetSearch(this.getSearchParams())},HeaderComponent.prototype.componentDidUpdate=function(e,t){var a=this.getSearchParams();t.searchType!==this.state.searchType&&(R.searchType=this.state.searchType);var r=R.searchTerm,n=R.searchType;a.searchType===n&&a.searchTerm===r||this.resetSearch(a),R.currentListPage!==n&&(R.currentListPage=n),this.props.action(R)},HeaderComponent.prototype.getSearchParams=function(){var e=this.props.location,t=e.pathname,a=e.search,r=t.indexOf("Templates")>-1?"Templates":"Approvals",n=["Approvals","Templates"].some(function(e){return t.indexOf(e)>-1}),i=new URLSearchParams(a);return!n||R.currentListPage!==r&&!i.get("q")?{searchTerm:"",searchType:r}:{searchTerm:i.get("q")||R.searchTerm,searchType:r}},HeaderComponent.prototype.resetSearch=function(e){var t=e.searchTerm,a=e.searchType;this.search.setType(a),this.search.setValue(t),R.searchTerm=t,this.setState({searchType:a}),t&&(R.activeTab=h.TabId.search)},HeaderComponent.prototype.onNavigationClick=function(e){switch(e){case"delegation":this.props.history.push("/Home/DelegationSettings");break;case"transfer":this.props.history.push("/Home/TransferSettings");break;case"emailSettings":this.props.history.push("/Home/UserPreferences");break;case"quickLinks":this.props.history.push("/Home/QuickLinks");break;case"exports":var t=new URLSearchParams;t.append("metricName","accessedFrom"),t.append("metricValue","userPreferenceLink"),t.append("category","genericExports"),t.append("latency",""),t.append("referenceId",""),p.default.post(v.SERVICE_ENDPOINTS+v.API_ROUTES.PUBLISH_METRICS,t),this.props.history.push("/exports")}},HeaderComponent.prototype.getHTML=function(e){return{__html:e}},HeaderComponent.prototype.doSearch=function(e){var t=e.searchTerm,a=e.searchType;R.activeTab=h.TabId.search,R.searchTerm=t;var r=new URLSearchParams;switch(r.append("q",t),a){case"Approvals":this.props.history.push("/Approvals/search?"+r);break;case"Templates":this.props.history.push("/Templates/search?"+r);break;default:this.props.history.push("/Approvals/search?"+r)}this.setState({searchType:a})},HeaderComponent.prototype.onApprovalsClick=function(){this.props.history.push("/")},HeaderComponent.prototype.dismissFeedbackModal=function(){this.setState({feedbackModalVisible:!1,feedbackModalFooter:null,feedbackModalContent:null,feedbackModalSubtitle:null,feedbackComments:"-",feedbackRating:null})},HeaderComponent.prototype.displayFeedbackModal=function(){var e=i.createElement("span",{className:"awsui-util-f-r"},i.createElement("button",{onClick:this.postFeedback,className:"btn btn-primary",id:"sendFeedback"},this.modalSaveButtonText)),t=i.createElement("span",null,i.createElement(c.Textarea,{placeholder:"Feedback is optional but we would love to know more...",onChange:this.captureFeedbackComments,rows:2}));this.setState({feedbackModalVisible:!0,feedbackModalContent:t,feedbackModalFooter:e,feedbackModalSubtitle:'Please remember to click "Submit".'})},HeaderComponent.prototype.displayConfirmation=function(){var e=i.createElement("span",null,"Thank you for your feedback. We may reach out to you to learn more.");this.setState({feedbackModalVisible:!0,feedbackModalContent:e,feedbackModalFooter:null,feedbackModalSubtitle:null})},HeaderComponent.prototype.displayFeedbackFailure=function(){var e=i.createElement("span",null,"We are unable to post your feedback at the moment.");this.setState({feedbackModalVisible:!0,feedbackModalContent:e,feedbackModalFooter:null,feedbackModalSubtitle:null})},HeaderComponent.prototype.postFeedback=function(){var e=this;p.default.post(l.ServiceEndPoints.postFeedback+"?comment="+encodeURIComponent(this.state.feedbackComments)+"&rating="+this.state.feedbackRating).then(function(t){t.data.isError?e.displayFeedbackFailure():e.displayConfirmation()}).catch(function(){e.displayFeedbackFailure()})},HeaderComponent.prototype.captureFeedbackComments=function(e){this.setState({feedbackComments:e.detail.value})},HeaderComponent.prototype.captureDelighted=function(){this.setState({feedbackRating:5}),this.displayFeedbackModal()},HeaderComponent.prototype.captureDisappointed=function(){this.setState({feedbackRating:1}),this.displayFeedbackModal()},HeaderComponent.prototype.render=function(){var e=this,t=[];return this.props.isSucceeded&&this.props.quickLinksData&&this.props.quickLinksData.quickLinksList&&this.props.quickLinksData.quickLinksList.length>0&&this.props.quickLinksData.quickLinksList.forEach(function(e){"default"!==e.name&&t.push(i.createElement("li",null,i.createElement("a",{href:e.url,target:"_blank"},e.name)))}),i.createElement(A,{className:"header-item",style:R.showAlert?{height:"117px"}:{}},i.createElement("div",{className:"header withSearch",style:R.showAlert?{paddingTop:"45px",height:"117px"}:{}},R.showAlert?i.createElement("div",{className:"annoucements approvalAnnouncements"},i.createElement("div",{className:"message"},i.createElement("p",null,"This is Approvals 2.0 beta (not for production use â€“ data will NOT be migrated back to Approvals prod). We will launch on April 29. Please send feedback to approvals-feedback@amazon.com. Thank you!"))):null,i.createElement("div",{className:"logo"},i.createElement("a",{href:"/"},i.createElement("img",{src:"/assets/images/ApprovalsLogo.png",className:"desktop",alt:"Amazon Approvals"}),i.createElement("img",{src:"/assets/images/ApprovalsLogo_Mobile.png",className:"mobile",alt:"Amazon Approvals"}))),i.createElement(E.Search,{components:N,className:"header-search",id:"header-search-box",defaultSearchType:g[0],inputParams:{placeholder:"Search..."},buttonParams:{id:"home-search-button",className:"search-btn"},searchTypes:g,onSearch:function(t){return e.doSearch(t)},ref:this.setSearch,header:i.createElement("div",{className:"advanced-search"},i.createElement("h4",{"data-testid":"advanced-search__header"},"Advanced Search"),i.createElement(c.Popover,{position:"bottom",header:i.createElement("h4",null,"Bookmark the Results"),content:i.createElement("span",null,"You can now save your search by bookmarking the search results page. Visit the "," ",i.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/Advanced Search/",target:"_blank"},"Advanced Search documentation")," for more details.")},i.createElement("span",{"data-testid":"advanced-search__want-to -save"},"Want to save?")))}),i.createElement("div",{className:"userSettings"},i.createElement("ul",null,i.createElement("li",{className:"custom-dropdown dropDown moodAZ"},i.createElement("i",{className:"moodsIcon"}),i.createElement("div",{className:"arrow-down"}),i.createElement("ul",{id:"moodDropdown",className:"custom-dropdown-content"},i.createElement("div",null,i.createElement("p",null,"Are you satisfied with Approvals?"),i.createElement("div",{id:"moods"},i.createElement("div",{className:"delighted",onClick:this.captureDelighted},i.createElement("i",null)),i.createElement("div",{className:"disapointed",onClick:this.captureDisappointed},i.createElement("i",null)))))),i.createElement("li",{className:"custom-dropdown dropDown quickLinks","data-testid":"header__quick-links-dropdown"},i.createElement("div",null,i.createElement("i",{className:"custom-dropdown"}),i.createElement("div",{className:"arrow-down"}),i.createElement("ul",{id:"quicklinkDropdown",className:"custom-dropdown-content"},i.createElement("li",null,i.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/ReleaseNotes",target:"_blank"},i.createElement("b",null,"Release notes"))),i.createElement("li",null,i.createElement("a",{href:"https://inside.amazon.com/en/services/legal/us/spendingandtransaction/Pages/default.aspx",target:"_blank"},"Spending and Transaction Policy")),i.createElement("li",null,i.createElement("a",{href:"https://phonetool.amazon.com/",target:"_blank"},"PhoneTool")),i.createElement("li",{onClick:function(){return e.onNavigationClick("quickLinks")},className:"createQL"},"Add/Manage Quicklinks"),t))),i.createElement("li",{style:{width:"auto",marginLeft:"-15px"},className:"custom-dropdown dropDown"},i.createElement("div",null,i.createElement("i",{className:"custom-dropdown"}))),i.createElement("li",{className:"custom-dropdown dropDown settings","data-testid":"header__settings-dropdown"},i.createElement("i",{className:"custom-dropdown"}),i.createElement("div",{className:"arrow-down"}),i.createElement("ul",{id:"settingsDropdown",className:"custom-dropdown-content"},i.createElement("li",{onClick:function(){return e.onNavigationClick("exports")}},"Exports"),i.createElement("li",{onClick:function(){return e.onNavigationClick("delegation")}},"Delegate"),i.createElement("li",{onClick:function(){return e.onNavigationClick("transfer")}},"Transfer"),i.createElement("li",{onClick:function(){return e.onNavigationClick("emailSettings")}},"User Preferences"))),i.createElement("li",{className:"avatar"},i.createElement("a",{target:"_blank",href:l.ServiceEndPoints.phoneToolLink+document.getElementById("userAlias").value},i.createElement("div",{className:"avatarContainer"},i.createElement("img",{className:"circularHeader",src:l.ServiceEndPoints.phoneToolImage+document.getElementById("userAlias").value,alt:""}))))))),i.createElement("div",{id:"home-feedback",className:"moodModal feedBack"},i.createElement("h2",null,"Thank You! ",i.createElement("br",null),"We appreciate your feedback."),i.createElement("p",null,"If you are having a problem and need assistance, or if you want to give us more detailed feedback, be sure to"," ",i.createElement("a",{href:"https://sim.amazon.com/issues/create?template=71cc1090-06be-498e-bcd7-7c58d104b4fe",target:"_blank"},"contact us"),"."),i.createElement("span",{className:"closeModal",style:{fontSize:"2em"},onClick:modalFeedback},"x")),i.createElement("div",{className:"awsui"},i.createElement(c.Modal,{id:"feedbackModal",size:"large",visible:this.state.feedbackModalVisible,content:this.state.feedbackModalContent,footer:this.state.feedbackModalFooter,onDismiss:this.dismissFeedbackModal,header:i.createElement("div",null,i.createElement("span",{className:"nobackgroundcolor"},"Feedback"),i.createElement("p",{className:"modalSubtitle"},this.state.feedbackModalSubtitle))})))},HeaderComponent}(o.Component);t.HeaderComponent=S;var P=function(e){return{isLoading:e.QuickLinks.isLoading,isError:e.QuickLinks.isError,isSucceeded:e.QuickLinks.isSucceeded,quickLinksData:e.QuickLinks.quickLinksData,errorMessage:e.QuickLinks.errorMessage}},b=function(e){return{getQuickLinks:function(){e(m.getQuickLinks())},dispatch:e}};t.default=s.withRouter(d.connect(P,b)(S));var C,O},1162:function(e,t,a){"use strict";function mapStateToProps(e){}function mapDispatchToProps(e){return{dispatch:e}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(7),s=a(0),l=a(77),c=a(41),p=a(6),u=a(8),d=c.default.section(f||(f=r(['\n  z-index: 10;\n  font-family: "Amazon Ember";\n  height: 100%;\n  .create {\n    position: relative;\n    .createSection {\n      padding: 16px 20px;\n      width: max-content;\n      height: auto;\n      position: absolute;\n      top: 0;\n      left: 78px;\n      font-size: 16px;\n      display: none;\n      background: #222e3e;\n      a {\n        padding: 5px 0;\n        width: max-content;\n        color: #a6abb1;\n        &:hover {\n          color: white;\n        }\n      }\n    }\n    &:hover {\n      .createSection {\n        display: block;\n      }\n  }\n  ',";\n"],['\n  z-index: 10;\n  font-family: "Amazon Ember";\n  height: 100%;\n  .create {\n    position: relative;\n    .createSection {\n      padding: 16px 20px;\n      width: max-content;\n      height: auto;\n      position: absolute;\n      top: 0;\n      left: 78px;\n      font-size: 16px;\n      display: none;\n      background: #222e3e;\n      a {\n        padding: 5px 0;\n        width: max-content;\n        color: #a6abb1;\n        &:hover {\n          color: white;\n        }\n      }\n    }\n    &:hover {\n      .createSection {\n        display: block;\n      }\n  }\n  ',";\n"])),function(e){var t="okokok";return e.pathname.match(/^\/Approvals$/i)?t="approvals":e.pathname.match(/^\/Template$/i)||e.pathname.match(/^\/Templates$/i)?t="templates":e.pathname.match(/^\/reports$/i)?t="reporting":e.pathname.match(/^\/$/)&&(t="Homepage"),"\n            ."+t+"{\n                background: url(../assets/images/bg_sideNav-Hover.png) no-repeat left center;\n            }\n        "}),m=function(e){function LeftNavComponent(t){var a=e.call(this,t)||this;return a.onIconClick=a.onIconClick.bind(a),a}return n(LeftNavComponent,e),LeftNavComponent.prototype.onIconClick=function(e){switch(e.currentTarget.id){case"approvals":this.props.history.push("/Approvals"),this.props.action({searchTerm:"",searchType:"",activeTab:"PENDING_NOW"});break;case"templates":this.props.history.push("/Templates"),this.props.action({searchTerm:"",searchType:"",activeTab:"MY_ACTIVE_TEMPLATES"});break;case"requests":this.props.history.push("/Approvals"),this.props.action({searchTerm:"",searchType:"",activeTab:"ALL"});case"genericExports":var t=new URLSearchParams;t.append("metricName","accessedFrom"),t.append("metricValue","leftNavLink"),t.append("category","genericExports"),t.append("latency",""),t.append("referenceId",""),u.default.post(p.SERVICE_ENDPOINTS+p.API_ROUTES.PUBLISH_METRICS,t),this.props.history.push("/exports")}},LeftNavComponent.prototype.render=function(){return i.createElement(d,{className:"nav-column-item",pathname:this.props.history.location.pathname},i.createElement("div",{className:"horizontalNav"},i.createElement("ul",null,i.createElement("li",{className:"create dropdown createNewSubMenu","data-testid":"left-navbar__create"},i.createElement(l.Link,{to:"/approval/create",id:"imgCreateApproval"},i.createElement("i",null),"Create"," "),i.createElement("div",{className:"createSection"},i.createElement(l.Link,{to:"/approval/create"},"Approval"),i.createElement(l.Link,{to:"/template/create","data-testid":"left-navbar__create-templates"},"Template"))),i.createElement("div",{id:"approvals",onClick:this.onIconClick},i.createElement("li",{className:"approvals","data-testid":"left-navbar__approvals"},i.createElement("i",null)," Approvals")),i.createElement("div",{id:"templates",onClick:this.onIconClick},i.createElement("li",{className:"templates","data-testid":"left-navbar__templates"},i.createElement("i",null)," Templates")),i.createElement("li",{className:"create dropdown reporting","data-testid":"left-navbar__reporting"},i.createElement(l.Link,{to:"/reports?outputType=APPROVAL_ID%2CAPPROVAL_TITLE%2CENDED_AT%2CSTATUS%2CSTARTED_AT"},i.createElement("i",null)," Reporting"),i.createElement("div",{className:"createSection"},i.createElement(l.Link,{to:"/reports?outputType=APPROVAL_ID%2CAPPROVAL_TITLE%2CENDED_AT%2CSTATUS%2CSTARTED_AT"},"Reports"),i.createElement("div",{id:"genericExports",className:"generic-exports-link",onClick:this.onIconClick},"Exports"))),i.createElement("li",{className:"create dropdown tourNewSubMenu"},i.createElement(l.Link,{to:""},i.createElement("div",null,i.createElement("i",{className:"fa fa-3x fa-question-circle"}),"Help"," ")),i.createElement("div",{className:"createSection "},this.props.tours.length>0&&i.createElement("div",{className:"tourMenu"},i.createElement(l.Link,{to:"#"},i.createElement("div",{className:"tourSubMenu"},"How do I ?"," ")),i.createElement("div",{className:"createTourSection"},this.props.tours.map(function(e){var t=e.label,a=e.start;return i.createElement("div",{onClick:a},t)})),i.createElement("hr",{className:"solid"})),i.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/Getting Started/"},"User Guide"),i.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/Team"},"Contact Us"),i.createElement("a",{href:"https://issues.amazon.com/issues/create?template=08471fc5-569a-413a-9293-69c3d591eac5"},"Suggest a feature"),i.createElement("a",{href:"https://t.corp.amazon.com/create/templates/c7575a28-0bed-4ebf-a0dd-5da56dee030c"},"Report a bug"),i.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/Roadmap/"},"Roadmap"),i.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/FAQs/"}," FAQ")))),i.createElement("span",{className:"poweredBy"},"Powered By LOCOS")))},LeftNavComponent}(s.Component);t.LeftNavComponent=m,t.default=o.connect(mapStateToProps,mapDispatchToProps)(l.withRouter(m));var f},1163:function(e,t,a){"use strict";function mapStateToProps(e){return{approvals:e.AllApprovals}}function mapDispatchToProps(e){return p.bindActionCreators({allApprovals:u.default},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(0),c=a(7),p=a(23),u=a(190),d=a(4),m=a(8),f=a(51),E=a(1168),h=a(1179),v=a(1185),A=a(1),g=a(46),T=a(6),y=a(5),_=a(266),N=a(30),R=a(57),S=a(13),P=[d.ApproverAction.APPROVE,d.ApproverAction.RECOMMEND_FOR_APPROVAL],b=[d.ApproverAction.RECOMMEND_FOR_REJECTION,d.ApproverAction.REJECT],C=[d.ApproverAction.APPROVE_WITH_CONDITION],O=[d.ApproverAction.BULK_ACTION],I=P.concat(b,C,O),D=[{label:"Approval properties",options:[{id:R.ColumnId.TITLE,label:"Title",editable:!0,visible:!0},{id:R.ColumnId.ID,label:"Approval Id",editable:!1,visible:!0},{id:R.ColumnId.CREATED_AT,label:"Created On",editable:!0,visible:!0},{id:R.ColumnId.NEEDED_ON,label:"Needed By",editable:!0,visible:!0},{id:R.ColumnId.CHANGED,label:"Last Updated",editable:!0,visible:!0},{id:R.ColumnId.COMPLETED_ON,label:"Completed On",editable:!0,visible:!0},{id:R.ColumnId.REQUESTER,label:"Requester",editable:!0,visible:!0},{id:R.ColumnId.STATUS,label:"Status",editable:!0,visible:!0},{id:R.ColumnId.PRIVACY_TYPE,label:"Privacy Type",editable:!0,visible:!0},{id:R.ColumnId.CURRENT_APPROVERS,label:"Current Approvers",editable:!0,visible:!0},{id:R.ColumnId.TAGS,label:"Tags",editable:!0,visible:!0},{id:R.ColumnId.PRIORITY,label:"Priority",editable:!0,visible:!0},{id:R.ColumnId.TOTAL_APPROVAL_TIME,label:"Total time in approvals",editable:!0,visible:!0}]}],L=[{value:10,label:"10 Approvals"},{value:20,label:"20 Approvals"},{value:30,label:"30 Approvals"},{value:50,label:"50 Approvals"},{value:100,label:"100 Approvals"}],w=0,M=20;t.ACTION_STATE={INFO:{message:"Action in progress",type:"info",loading:!0},SUCCESS:{message:"Action successful",type:"success"},FAILED:{message:"Action Failed. Please try again after sometime",type:"error"}};var U={CONDITIONAL:{modalHeader:"Approval Conditions",commentRequired:!0,content:"Please enter the approval conditions below. The conditions will be added to the approval",placeholder:"Add approval conditions here. Amazon Approvals records these conditions and notifies the requestor,but Amazon Approvals does not send follow up notices regarding them"},NON_CONDITIONAL:{modalHeader:"Approval Comments",commentRequired:!1,content:"Please enter the approval comments below. The comments will be added to the approval correspondence",placeholder:"Comments optional..."},REASON:{modalHeader:"Rejection Reason",commentRequired:!0,content:"Please enter rejection reasons below. Reasons will be added to the approval",placeholder:"Add rejection reasons here. Amazon Approvals records these reasons and notifies the requestor,but Amazon Approvals does not send follow up notices regarding them"}},k=function(e){function HomeComponent(t){var a=e.call(this,t)||this;return a.dateColumnFilters=[],a.textColumnFilters=[],a.metricPageLatencyTimer=new N.MetricPageLatencyTimer,a.onTabChange=a.onTabChange.bind(a),a.updateApprovals=a.updateApprovals.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.openModal=a.openModal.bind(a),a.sendBulkEditRequest=a.sendBulkEditRequest.bind(a),a.countUpdate=a.countUpdate.bind(a),a.getTableColumns=a.getTableColumns.bind(a),a.getTableItems=a.getTableItems.bind(a),a.updateFilters=a.updateFilters.bind(a),a.onTransferModalDismiss=a.onTransferModalDismiss.bind(a),a.onTransferAction=a.onTransferAction.bind(a),a.onDelegateModalDismiss=a.onDelegateModalDismiss.bind(a),a.onDelegateAction=a.onDelegateAction.bind(a),a.getAllowedBulkAction=a.getAllowedBulkAction.bind(a),a.resetAllFilters=a.resetAllFilters.bind(a),a.addDateCF=function(e){return a.dateColumnFilters.push(e)},a.addTextCF=function(e){return a.textColumnFilters.push(e)},a.setListTable=function(e){return a.listTable=e},a.ViewState={From:w,Size:M,CurrentTab:a.props.redirectedState.activeTab,SearchTerm:a.props.redirectedState.searchTerm,SearchType:a.props.redirectedState.searchType,SearchVariables:S.generateSearchVariables(a.props.redirectedState.searchTerm),SearchKeywords:S.generateSearchKeywords(a.props.redirectedState.searchTerm),sortBy:R.ColumnId.CREATED_AT,sortDesc:!0,selectedApprovalId:null,selectedApprovalList:null,actionComplete:!0,actorId:null,action:null,filters:{},selectedPersonFilter:null,sortOption:a.props.redirectedState.activeTab===R.TabId.search?R.SortOptionId.RELEVANCE:R.SortOptionId.COLUMN},a.state={allowedActions:[],actionState:null,condition:null,showCommentModal:!1,modalState:U.CONDITIONAL,showTransferModal:!1,showDelegateModal:!1,enableDelegateButton:null,enableTransferButton:null,showBulkActionsButton:null,pendingSoonCount:null,pendingNowCount:null,sharedWithMeCount:null,approvedByMeCount:null,myRequestCount:null,onHoldCount:null,adminCount:null,allCount:null,searchCount:null,showDropDown:!1},a}return r(HomeComponent,e),HomeComponent.prototype.componentWillMount=function(){var e=this;document.title="Amazon Approvals",this.countUpdate(),"/Approvals"===this.props.location.pathname&&this.props.history.replace("/Approvals/pending"),this.props.allApprovals(this.ViewState).then(function(){e.ViewState.CurrentTab!==R.TabId.search?e.setState({searchCount:"0"}):e.setState({searchCount:e.props.approvals.data.data.ApprovalSearch.total})})},HomeComponent.prototype.componentDidUpdate=function(){var e=this;"/Approvals"===this.props.location.pathname&&this.props.history.replace("/Approvals/pending"),this.ViewState.SearchTerm===this.props.redirectedState.searchTerm&&this.ViewState.SearchType===this.props.redirectedState.searchType&&this.ViewState.CurrentTab===this.props.redirectedState.activeTab||(this.ViewState.SearchTerm=this.props.redirectedState.searchTerm,this.ViewState.SearchType=this.props.redirectedState.searchType,this.ViewState.CurrentTab=this.props.redirectedState.activeTab,this.ViewState.SearchVariables=S.generateSearchVariables(this.props.redirectedState.searchTerm),this.ViewState.SearchKeywords=S.generateSearchKeywords(this.props.redirectedState.searchTerm),this.listTable.setDataProps({from:w,sortOption:this.ViewState.CurrentTab===R.TabId.search?R.SortOptionId.RELEVANCE:R.SortOptionId.COLUMN}),this.setState({allowedActions:[]}),this.ViewState.selectedApprovalId=null,this.ViewState.selectedApprovalList=null,this.ViewState.CurrentTab===R.TabId.search&&this.props.allApprovals(this.ViewState).then(function(){e.setState({searchCount:e.props.approvals.data.data.ApprovalSearch.total})})),this.state.pendingNowCount&&this.state.pendingSoonCount&&this.state.sharedWithMeCount&&this.state.approvedByMeCount&&this.state.myRequestCount&&this.state.onHoldCount&&this.state.adminCount&&this.state.allCount&&this.metricPageLatencyTimer.publishPageLatency(T.CLIENT_METRICS_METHOD_NAMES.SEARCH_APPROVALS)},HomeComponent.prototype.countUpdate=function(){var e=this;[{key:"pendingNowCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_PENDING\\"] match:{ status: \\"PENDING\\"} ) {total} }'},{key:"pendingSoonCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_PENDING_IN_FUTURE\\"] match:{ status: \\"PENDING\\"} ) {total} }'},{key:"sharedWithMeCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"VIEWER\\",\\"PRIVATE_VIEWER\\",\\"LEGAL_COUNSEL\\"]  matchAnyInList :{ status: [\\"PENDING\\" , \\"CANCELLED\\", \\"APPROVED_WITH_CONDITION\\",\\"REJECTED\\",\\"APPROVED\\" ] } ) {total} }'},{key:"approvedByMeCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_APPROVED\\", \\"APPROVER_APPROVED_WITH_CONDITION\\",\\"APPROVER_RECOMMEND\\",\\"APPROVER_REJECTED\\" , \\"APPROVER_RECOMMEND_FOR_APPROVAL\\" , \\"APPROVER_RECOMMEND_FOR_REJECTION\\" ,  \\"APPROVER_DECISION_MADE_BY_PARALLEL_APPROVER\\"] matchAnyInList:{ status: [\\"PENDING\\" , \\"CANCELLED\\", \\"APPROVED_WITH_CONDITION\\",\\"REJECTED\\",\\"APPROVED\\"]} ) {total} }'},{key:"myRequestCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"REQUESTER\\"] ) {total} }'},{key:"onHoldCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"REQUESTER\\",\\"APPROVER\\",\\"APPROVAL_ADMIN\\"] match:{ status: \\"ON_HOLD\\"} ) {total} }'},{key:"adminCount",query:'{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVAL_ADMIN\\"] ) {total} }'},{key:"allCount",query:"{ApprovalSearch(from:0 size:0 roleList:[] assignmentStatusList:[] ) {total} }"}].forEach(function(t){var a=t.key,r=t.query,n=new URLSearchParams;n.append("query",r),m.default.post(d.baseUrl+"/api/homepage/container/post",n).then(function(t){e.setState((r={},r[a]=t.data.data.ApprovalSearch.total,r));var r})})},HomeComponent.prototype.onTabChange=function(e){var t=this;this.ViewState.CurrentTab=this.props.redirectedState.activeTab=e.detail.activeTabId,this.ViewState.selectedApprovalId=null,this.ViewState.selectedApprovalList=null,this.listTable.setDataProps({from:w,sortOption:this.ViewState.CurrentTab===R.TabId.search?R.SortOptionId.RELEVANCE:R.SortOptionId.COLUMN}),this.resetAllFilters(),this.setState({showBulkActionsButton:!1,allowedActions:[]}),this.ViewState.CurrentTab===R.TabId.search&&this.props.allApprovals(this.ViewState).then(function(){t.setState({searchCount:t.props.approvals.data.data.ApprovalSearch.total})});var a="";if(this.ViewState.SearchTerm&&this.ViewState.CurrentTab===R.TabId.search){var r=new URLSearchParams;r.append("q",this.ViewState.SearchTerm),a="?"+r}this.props.history.push("/Approvals/"+R.tabPath[this.ViewState.CurrentTab]+a)},HomeComponent.prototype.resetAllFilters=function(){this.ViewState.filters={},this.ViewState.selectedPersonFilter=null,this.ViewState.actorFilter=null,this.textColumnFilters.forEach(function(e){return e&&e.setValue("")}),this.dateColumnFilters.forEach(function(e){return e&&e.resetState()})},HomeComponent.prototype.getApprovalActions=function(e){return new Promise(function(t,a){return m.default.get(d.ServiceEndPoints.getApprovalPlan+e).then(function(a){var r=a.data,i={actorId:null,allowedActions:[]};e:for(var o=0,s=r.data;o<s.length;o++){var l=s[o];if(l.some(function(e){var t=e.route;return t&&t.status===d.RouteStatus.ROUTE_PENDING}))for(var c=0,p=l;c<p.length;c++)for(var u=p[c],m=0,f=u.approvers;m<f.length;m++)for(var E=f[m],h=0,v=E;h<v.length;h++){var A=v[h],g=A.allowedApproverActions,T=A.assignmentStatus,y=A.id;if(g.length>0&&T===S.ActorAssignmentStatus.APPROVER_PENDING){i={actorId:y,allowedActions:g.filter(function(e){return I.indexOf(e)>-1})};break e}}}t(n({},i,{approvalId:e}))}).catch(function(e){return a(e)})})},HomeComponent.prototype.onSelectionChange=function(e){return i(this,void 0,void 0,function(){var t,a,r,n,i,s,l,s,c,p,u,d,m,f,E,h=this;return o(this,function(o){if(t=e.map(function(e){return e.id}),0===t.length)return this.ViewState.selectedApprovalId=null,this.ViewState.selectedApprovalList=null,this.setState({actionState:null,allowedActions:[]}),[2];if(this.ViewState.selectedApprovalId=t,this.ViewState.selectedApprovalList=e,a=document.getElementById("userAlias").value,[R.TabId.pending,R.TabId.future,R.TabId.shared,R.TabId.createdbyme].includes(this.ViewState.CurrentTab)&&this.setState({showBulkActionsButton:!0}),this.setState({enableTransferButton:!1}),this.ViewState.CurrentTab===R.TabId.createdbyme){if(r=this.ViewState.selectedApprovalList.filter(function(e){return e.status!==S.ApprovalStatus.PENDING}),r.length>0)return this.setState({enableTransferButton:!1}),[2];this.setState({enableTransferButton:!0})}if([R.TabId.pending,R.TabId.future,R.TabId.shared].includes(this.ViewState.CurrentTab))for(n=function(e){var t=i.ViewState.selectedApprovalList[e],r=t.approverList,n=t.status,o=r&&r.length>0,s=!1;if(o&&n===S.ApprovalStatus.PENDING)for(var l=0;l<r.length;l++)if(r[l].actor.alias){var c=a.toLowerCase()===r[l].actor.alias.toLowerCase(),p=[S.ActorAssignmentStatus.APPROVER_PENDING,S.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE].includes(r[l].assignmentStatus);if(c&&p){s=!0;break}s=!1}var u=i.ViewState.selectedApprovalList[e].viewerList;u&&u.length>0&&u.forEach(function(e){e.actor.alias&&a.toLowerCase()===e.actor.alias.toLowerCase()&&(s=!0)});var d=i.ViewState.selectedApprovalList[e].legalCounselList;if(d&&d.length>0&&d.forEach(function(e){e.actor.alias&&a.toLowerCase()===e.actor.alias.toLowerCase()&&(s=!0)}),i.setState({enableTransferButton:s}),!s)return"break"},i=this,s=0;s<this.ViewState.selectedApprovalList.length&&"break"!==(l=n(s));s++);for(this.setState({enableDelegateButton:!1}),s=0;s<this.ViewState.selectedApprovalList.length;s++)if(c=this.ViewState.selectedApprovalList[s],p=c.approverList,u=c.status,d=!1,p&&p.length>0&&u==S.ApprovalStatus.PENDING){for(m=0;m<p.length;m++)if(p[m].actor.alias){if(f=a.toLowerCase()===p[m].actor.alias.toLowerCase(),E=[S.ActorAssignmentStatus.APPROVER_PENDING,S.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE].includes(p[m].assignmentStatus),f&&E){d=!0;break}d=!1}if(this.setState({enableDelegateButton:d}),!d)break}return[2,Promise.all(t.map(function(e){return h.getApprovalActions(e)})).then(function(e){h.ViewState.actorId=e.reduce(function(e,t){var a=t.approvalId,r=t.actorId;return e[a]=r,e},{});var t=e[0],a=t.allowedActions,r=t.actionState;if(e.length>1){var n=h.getAllowedBulkAction(e),i=n.bulkActions,o=n.bulkActionError;h.ViewState.actionComplete=!o,a=i,r=null}h.ViewState.selectedApprovalList&&0!==h.ViewState.selectedApprovalList.length&&a.push("BULK_ACTION"),h.setState({allowedActions:a,actionState:r},function(){!h.state.actionState&&h.state.allowedActions&&h.state.allowedActions.length>0&&(document.getElementById("home-action").classList.remove("jsHide"),document.getElementById("home-table").classList.add("home-table-action-active"),document.getElementById("home-table").classList.remove("home-table-action-deactive"))})})]})})},HomeComponent.prototype.getAllowedBulkAction=function(e){var t=e.filter(function(e){return!e.allowedActions.includes("APPROVE")}).map(function(e){return e.approvalId});return{bulkActionError:t.length?{message:'"Approve" is not a valid action on: '+t.join(", "),type:"error"}:null,bulkActions:t.length?[]:["APPROVE"]}},HomeComponent.prototype.updateApprovals=function(){var e=this;return this.ViewState.actionComplete=!1,this.setState({actionState:t.ACTION_STATE.INFO}),Promise.all(this.ViewState.selectedApprovalId.map(function(t){var a=new URLSearchParams;return a.append("action",e.ViewState.action),a.append("approvalId",t),a.append("approverId",e.ViewState.actorId[t]),e.state.condition&&a.append("body",e.state.condition),m.default.post(d.baseUrl+"/api/homepage/approvalaction/post",a)})).then(function(){e.setState({actionState:t.ACTION_STATE.SUCCESS},function(){e.setState({showCommentModal:!1,condition:null}),setTimeout(function(){e.props.allApprovals(e.ViewState),e.countUpdate()},3e3)})}).catch(function(a){console.error(a),e.setState({actionState:t.ACTION_STATE.FAILED})}).finally(function(){document.getElementById("home-action")&&document.getElementById("home-action").classList.add("jsHide"),document.getElementById("home-table").classList.add("home-table-action-deactive"),document.getElementById("home-table").classList.remove("home-table-action-active")})},HomeComponent.prototype.sendBulkEditRequest=function(){if(this.ViewState.selectedApprovalList){(new URLSearchParams).append("selectedApprovalList",JSON.stringify(this.ViewState.selectedApprovalList))}this.props.history.push({pathname:"/bulkAction",state:{selectedApprovalList:this.ViewState.selectedApprovalList}})},HomeComponent.prototype.onTransferModalDismiss=function(){this.setState({showTransferModal:!1})},HomeComponent.prototype.onTransferAction=function(){this.setState({showTransferModal:!0})},HomeComponent.prototype.onDelegateModalDismiss=function(){this.setState({showDelegateModal:!1})},HomeComponent.prototype.onDelegateAction=function(){this.setState({showDelegateModal:!0})},HomeComponent.prototype.openModal=function(e){var t=this;if(this.ViewState.action=e.currentTarget.id,this.ViewState.selectedApprovalId&&this.ViewState.selectedApprovalId.length>1)return this.updateApprovals();this.setState({modalState:function(e){return(t={},t[d.ApproverAction.APPROVE_WITH_CONDITION]=U.CONDITIONAL,t[d.ApproverAction.RECOMMEND_FOR_REJECTION]=U.REASON,t[d.ApproverAction.REJECT]=U.REASON,t)[e]||U.NON_CONDITIONAL;var t}(e.currentTarget.id)},function(){t.setState({showCommentModal:!0})})},HomeComponent.prototype.getTableColumns=function(){var e=[];return e.push({id:R.ColumnId.TITLE,cell:function(e){if(e.isFilter)return e.title;var t=document.createElement("textarea");return t.innerHTML=e.title,s.createElement("div",null,s.createElement("a",{className:"wordBreakAll",href:"/Approval"+("DRAFT"===e.status?"/Edit/":"/Details/")+e.id},t.value))},header:function(){return"Title"},allowLineWrap:!0,minWidth:"230px",sortable:!0},{id:R.ColumnId.ID,header:function(){return"ID"},cell:function(e){if(e.isFilter)return e.id;var t=e.externalId?e.externalId:e.id;return s.createElement("div",{className:"flex"},s.createElement("a",{href:"/Approval"+("DRAFT"===e.status?"/Edit/":"/Details/")+e.id},t),e.externalId&&s.createElement("div",{className:"external-badge"},"External"))},allowLineWrap:!0,minWidth:"140px",sortable:!0},{id:R.ColumnId.CREATED_AT,header:function(){return"Created On"},cell:function(e){return e.isFilter?e.createdAt:s.createElement("span",null,A(e.createdAt).format("MM-DD-YYYY"))},allowLineWrap:!0,minWidth:"160px",sortable:!0},{id:R.ColumnId.NEEDED_ON,header:function(){return"Needed By"},cell:function(e){return e.isFilter?e.neededOnDate:s.createElement("span",null,A(e.neededOnDate).format("MM-DD-YYYY"))},allowLineWrap:!0,minWidth:"160px",sortable:!0},{id:R.ColumnId.CHANGED,header:function(){return"Last Updated"},cell:function(e){return e.isFilter?e.changedAt:s.createElement("span",null,A(e.changedAt).format("MM-DD-YYYY"))},allowLineWrap:!0,minWidth:"160px",sortable:!0},{id:R.ColumnId.STATUS,header:function(){return"Status"},cell:function(e){if(e.isFilter)return e.status;switch(e.status){case S.ApprovalStatus.APPROVED_WITH_CONDITION:return s.createElement("span",{className:"home-status-approved-conditions"},"Approved with conditions");case S.ApprovalStatus.APPROVED:return s.createElement("span",{className:"home-status-approved"},"Approved");case S.ApprovalStatus.REJECTED:return s.createElement("span",{className:"home-status-rejected"},"Rejected");case S.ApprovalStatus.DRAFT:return s.createElement("span",{className:"home-status-draft"},"Draft");case S.ApprovalStatus.CANCELLED:return s.createElement("span",{className:"home-status-cancelled"},"Cancelled");case S.ApprovalStatus.PENDING:return s.createElement("span",{className:"home-status-pending"},"Pending");case S.ApprovalStatus.INVALIDATED:return s.createElement("span",{className:"home-status-invalidated"},"Invalidated");case S.ApprovalStatus.ON_HOLD:return s.createElement("span",{className:"home-status-on-hold"},"On Hold");default:return"_"}},allowLineWrap:!0,minWidth:"150px"}),["PENDING_NOW","PENDING_SOON"].includes(this.ViewState.CurrentTab)?e.push({id:R.ColumnId.TOTAL_APPROVAL_TIME,header:function(){return"Total Approval Time"},cell:function(e){return e.isFilter?e.totalApprovalTime:s.createElement("span",null,S.getTotalApprovalTime(e.createdAt))},allowLineWrap:!0,minWidth:"175px",sortable:!1}):e.push({id:R.ColumnId.COMPLETED_ON,header:function(){return"Completed On"},cell:function(e){return e.isFilter?e.endedAt:s.createElement("span",null,e.endedAt?A(e.endedAt).format("MM-DD-YYYY"):"-")},allowLineWrap:!0,minWidth:"155px",sortable:!0}),this.props.privateApprovalsFeatureEnabled&&e.push({id:R.ColumnId.PRIVACY_TYPE,header:function(){return s.createElement("div",{"data-testid":"dashboard__privacy-type-header"},"Privacy Type")},cell:function(e){return e.isFilter?e.privacytype:e.isPrivate?s.createElement("span",{"data-testid":"dashboard__privacy-type-badge"},"Includes private info"):s.createElement("span",{"data-testid":"dashboard__privacy-type-badge"},"General")},allowLineWrap:!0,minWidth:"190px"}),e.push({id:"pendingapprovers",header:function(){return s.createElement("div",null,"Current Approvers",s.createElement("span",{style:{position:"absolute"}},s.createElement(y.Tooltip,{text:"Try filtering for the person/group using alias, name, department, or a combination of any of them",position:"top"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":!0}))))},cell:function(e){if(e.isFilter)return e.pendingapprovers;var t=e&&e.id?e.id:null;if(e.approverList){var a=[];return e.approverList.forEach(function(e){"APPROVER_PENDING"===e.assignmentStatus&&a.push(e.actor.displayName+":"+e.actor.alias+":"+e.actor.type)}),a.length>1?s.createElement("div",null,a[0].split(":")[0],"Â +",s.createElement("a",{"data-tip":t+"","data-for":t+""},a.length-1),s.createElement(_,{className:"extraClass",id:t+"",delayHide:"500",place:"bottom",type:"light",effect:"solid"},s.createElement("div",{className:"awsui"},s.createElement(S.PendingApproverList,{approvers:a,getGroupDetailsLink:f.getGroupDetailsLink})))):1===a.length?a[0].split(":")[0]:"-"}return"-"},allowLineWrap:!0,minWidth:"230px"}),e.push({id:R.ColumnId.TAGS,header:"Tags",cell:function(e){if(e.isFilter)return e.tags;var t=e&&e.id?e.id:null;if(e.tagList){var a=[];return e.tagList.forEach(function(e){return a.push(e.tagName)}),a.length>1?s.createElement("div",null,s.createElement("a",{href:"/Approvals/search?q=tag:+"+a[0]},a[0]),"Â +",s.createElement("a",{"data-tip":!0,"data-for":t+"tag"},a.length-1),s.createElement(_,{className:"extraClass",id:t+"tag",delayHide:"500",place:"bottom",type:"light",effect:"solid"},s.createElement("div",{className:"awsui"},s.createElement("div",{className:"awsui-grid"},a.map(function(e){return s.createElement("div",{className:"awsui-row",key:e},s.createElement("a",{rel:"noopener noreferrer",href:"/Approvals/search?q=tag:+"+e,className:"col-12"},e))}))))):1==a.length?s.createElement("a",{href:"/Approvals/search?q=tag:+"+a[0]},a[0]):"-"}return"-"},allowLineWrap:!0,minWidth:"180px"}),e.push({id:R.ColumnId.PRIORITY,header:function(){return"Priority"},cell:function(e){if(e.isFilter)return e.priority;switch(e.priority){case"NONE":return s.createElement("span",null,"None");case"LOW":return s.createElement("span",null,"Low");case"MEDIUM":return s.createElement("span",null,"Medium");case"HIGH":return s.createElement("span",null,"High");default:return s.createElement("span",null,"-")}},allowLineWrap:!0,minWidth:"150px",sortable:!0}),"MY_REQUESTS"!==this.ViewState.CurrentTab&&e.push({id:"requester",header:function(){return s.createElement("div",null,"Requester",s.createElement("span",{style:{position:"absolute"}},s.createElement(y.Tooltip,{text:"Try filtering for the person using alias, name, department, or a combination of any of them",position:"top"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":!0}))))},cell:function(e){return e.isFilter?e.requester:s.createElement("span",null,e.requester.actor.displayName)},allowLineWrap:!0,minWidth:"230px"}),e},HomeComponent.prototype.getTableItems=function(){var e=this;if(null==this.props.approvals)return[];var t=Array.from(this.props.approvals.data.data.ApprovalSearch.approvals),a=[{filterColumn:"id",filterType:"TextColumnFilter",id:"approvalId",updateParentText:this.updateFilters,ref:this.addTextCF},{filterColumn:"title",filterType:"TextColumnFilter",id:"title",updateParentText:this.updateFilters,ref:this.addTextCF,disabled:this.ViewState.SearchVariables.has("title")},{filterColumn:"createdAt",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval created on date",ref:this.addDateCF,updateDateFilter:function(t){e.updateFilters({createdAt:t})}},{filterColumn:"neededOnDate",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval needed by date",ref:this.addDateCF,updateDateFilter:function(t){return e.updateFilters({neededOnDate:t})}},{filterColumn:"changedAt",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval last updated date",ref:this.addDateCF,updateDateFilter:function(t){return e.updateFilters({changedAt:t})}},{filterColumn:"endedAt",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval completed on date",ref:this.addDateCF,updateDateFilter:function(t){return e.updateFilters({endedAt:t})}},{filterColumn:"requester",filterType:"PeopleSearchColumnFilter",excludeGroups:!0,queryPeopleSearch:g.queryPeopleSearch,onUpdateSelected:function(t){var a=t.detail;e.ViewState.selectedPersonFilter=a,e.ViewState.actorFilter=a?"requester":null,e.props.allApprovals(e.ViewState)},disabled:this.ViewState.CurrentTab===R.TabId.search&&this.ViewState.SearchVariables.has("requester")||"approver"===this.ViewState.actorFilter},{filterColumn:"status",filterType:"OptionColumnFilter",updateParent:function(t){var a=t.id;e.updateFilters({status:"ANY"===a?"":a})},disabled:"PENDING_NOW"===this.ViewState.CurrentTab||"PENDING_SOON"===this.ViewState.CurrentTab||this.ViewState.CurrentTab===R.TabId.search&&this.ViewState.SearchVariables.has("status"),className:"home-filter-status",items:R.STATUS_FILTER_DROPDOWN},{filterColumn:"privacytype",filterType:"OptionColumnFilter",updateParent:function(t){var a=t.id;e.updateFilters({isPrivate:"ALL"===a?"":a})},disabled:!1,className:"home-filter-status",items:R.PRIVACYTYPE_FILTER_DROPDOWN},{filterColumn:"pendingapprovers",filterType:"PeopleSearchColumnFilter",queryPeopleSearch:g.queryPeopleSearch,onUpdateSelected:function(t){var a=t.detail;e.ViewState.selectedPersonFilter=a,e.ViewState.actorFilter=a?"approver":null,e.props.allApprovals(e.ViewState)},disabled:this.ViewState.CurrentTab===R.TabId.search&&this.ViewState.SearchVariables.has("requester")||"requester"===this.ViewState.actorFilter},{filterColumn:"tags",filterType:"TextColumnFilter",id:"tags",updateParentText:this.updateFilters,ref:this.addTextCF,disabled:this.ViewState.SearchVariables.has("tag")},{filterColumn:"priority",filterType:"OptionColumnFilter",updateParent:function(t){var a=t.id;e.updateFilters({priority:"ALL"===a?"":a})},disabled:this.ViewState.CurrentTab===R.TabId.search&&this.ViewState.SearchVariables.has("priority"),className:"home-filter-status",items:R.PRIORITY_FILTER_DROPDOWN},{filterColumn:"totalApprovalTime",filterType:"TotalApprovalTimeFilter",ref:this.addDateCF,updateFilter:function(t){e.updateFilters({totalApprovalTime:t})}}],r=R.getFilterEnabledTableItems(a);return r.isFilter=!0,t.unshift(r),t},HomeComponent.prototype.updateFilters=function(e){this.ViewState.filters=n({},this.ViewState.filters,e),this.ViewState.From=w,this.setState({allowedActions:[]}),this.props.allApprovals(this.ViewState)},HomeComponent.prototype.render=function(){var e=this,t=[R.createTab(R.TabId.pending,{text:"Pending My Approval",tooltipText:"Requests pending your decision now",width:"145px",totalCount:this.state.pendingNowCount,color:"red"}),R.createTab(R.TabId.future,{text:"My Future Approvals",tooltipText:"Requests where you are a future approver",width:"140px",totalCount:this.state.pendingSoonCount}),R.createTab(R.TabId.previous,{text:"My Previous Decisions",tooltipText:"Requests approved by you in the past",width:"150px",totalCount:this.state.approvedByMeCount}),R.createTab(R.TabId.shared,{text:"Shared With Me",tooltipText:"Requests where you are a Viewer or Legal Counsel",width:"110px",totalCount:this.state.sharedWithMeCount}),R.createTab(R.TabId.onHold,{text:"On Hold",tooltipText:"Requests that are on hold with you",width:"80px",totalCount:this.state.onHoldCount}),R.createTab(R.TabId.createdbyme,{text:"Created By Me",tooltipText:"Requests you have created",width:"100px",totalCount:this.state.myRequestCount}),R.createTab(R.TabId.admin,{text:"Admin By Me",tooltipText:"Requests where you are an admin",width:"100px",totalCount:this.state.adminCount}),R.createTab(R.TabId.all,{text:"All",tooltipText:"All requests that you are associated with",totalCount:this.state.allCount})],a=R.createTab(R.TabId.search,{text:"Search Results for Approvals",totalCount:this.state.searchCount}),r=[{label:"Column",description:"Use sort indicators on columns",id:R.SortOptionId.COLUMN},{label:"Relevance",description:"Sort by relevance to search term",disabled:this.ViewState.CurrentTab!==R.TabId.search,id:R.SortOptionId.RELEVANCE}];return s.createElement("div",null,s.createElement("section",{className:"wrapper createApprovals"},s.createElement("div",{className:"awsui"},s.createElement(y.Tabs,{id:"home-tabs",tabs:(this.ViewState.SearchTerm||this.ViewState.CurrentTab===R.TabId.search?t.concat([a]):t).map(function(e){var t=e.id,a=e.labelProps;return{id:t,label:s.createElement(S.PageTabLabel,n({},a)),content:null}}),activeTabId:this.ViewState.CurrentTab,onChange:this.onTabChange}),null!=this.state.actionState?s.createElement(y.Flash,{onDismiss:function(){e.ViewState.actionComplete=!0},id:"home-flash",type:this.state.actionState.type,dismissible:!0,content:this.state.actionState.message,visible:!this.ViewState.actionComplete,loading:!!this.state.actionState.loading&&this.state.actionState.loading}):s.createElement("div",null),s.createElement("div",{id:"home-table",className:"home-table-action-deactive"},s.createElement(S.ListTableWithModal,{cancelLabel:"Cancel",columnDefinitions:this.getTableColumns(),condition:this.state.condition,empty:"No data",items:this.getTableItems(),confirmLabel:"Confirm",contentSelectorOptions:D,contentSelectorTitle:"Columns to display",data:this.props.approvals&&this.props.approvals.data.data.ApprovalSearch,defaultSortBy:R.ColumnId.CREATED_AT,defaultSortOption:this.ViewState.sortOption,modalState:this.state.modalState,onTakeAction:function(){return e.updateApprovals()},pageSizeInit:M,pageSizeOptions:L,pageSizeSelectorTitle:"Items per page",preferencesTitle:"Preferences",ref:this.setListTable,setParentState:function(t){return e.setState(t)},showCommentModal:this.state.showCommentModal,sortable:"columnSort"===this.ViewState.sortOption,sortOptions:this.ViewState.CurrentTab===R.TabId.search?r:null,submitButtonText:"Submit",updateDataProps:function(t){var a=e.ViewState,r=function(e){return{from:"From",pageSize:"Size"}[e]||e};Object.entries(t).forEach(function(e){var t=e[0],n=e[1];a[r(t)]=n}),e.props.allApprovals(e.ViewState)},updateSelection:this.onSelectionChange}))),s.createElement(v.default,{actionState:this.state.actionState,allowedActions:this.state.allowedActions,showBulkActionsButton:this.state.showBulkActionsButton,enableTransferButton:this.state.enableTransferButton,ViewState:this.ViewState,enableDelegateButton:this.state.enableDelegateButton,onTransferAction:this.onTransferAction,onDelegateAction:this.onDelegateAction,sendBulkEditRequest:this.sendBulkEditRequest,openModal:this.openModal}),s.createElement(E.default,{showTransferModal:this.state.showTransferModal,approvalList:this.ViewState.selectedApprovalList,onDismissClick:this.onTransferModalDismiss}),s.createElement(h.default,{showDelegateModal:this.state.showDelegateModal,approvalList:this.ViewState.selectedApprovalList,onDismissClick:this.onDelegateModalDismiss})))},HomeComponent}(l.Component);t.default=c.connect(mapStateToProps,mapDispatchToProps)(k)},1164:function(e,t,a){"use strict";function DashboardQueryBuilder(e,t){if(void 0===t&&(t=null),null==e)return null;var a=e.sortDesc?"desc":"asc",s=("id"==e.sortBy||e.sortBy,'[{field:\\"'+e.sortBy+'\\" order: \\"'+a+'\\"}]'),l="";if(e.selectedPersonFilter)switch(e.actorFilter){case"requester":l='{isActor:true,roleList:[\\"REQUESTER\\"],userInput:{alias:\\"'+e.selectedPersonFilter.alias+'\\",type:\\"PRINCIPAL\\"}}';break;default:l="PRINCIPAL"===e.selectedPersonFilter.type?'{isActor:true assignmentStatusList:[ \\"APPROVER_PENDING\\"] roleList:[\\"APPROVER\\"],userInput:{alias:\\"'+e.selectedPersonFilter.alias+'\\",type:\\"'+e.selectedPersonFilter.type+'\\"}}':'{isActor:true assignmentStatusList:[ \\"APPROVER_PENDING\\"] roleList:[\\"APPROVER\\"],userInput:{groupName:\\"'+e.selectedPersonFilter.groupName+'\\",type:\\"'+e.selectedPersonFilter.type+'\\"}}'}if(e.isTransfer){var c=document.getElementById("userAlias").value.toLowerCase(),p='{isActor:true,userInput:{alias:\\"'+c+'\\",type:\\"PRINCIPAL\\"}}',u="match:{",d="multiMatchWithPrefix:{",m="datetimeRange: {";if(!e.filters.status&&e.approvalStatus&&(u=u+'status : \\"'+e.approvalStatus+'\\" '),e.filters&&(isNotNullNotEmpty(e.filters.title)&&(u=u+'title : \\"'+e.filters.title+'\\" '),isNotNullNotEmpty(e.filters.approvalId)&&(d=d+'id : \\"'+e.filters.approvalId+'\\" ')),e.filters.createdAt){var f=e.filters.createdAt.split(n.DELIMITER);m=m+'createdAt : { gte:\\"'+r(f[0]).startOf("day").utc().format()+'\\" lte:\\"'+r(f[1]).endOf("day").utc().format()+'\\"} '}if(e.filters.startedAt){var f=e.filters.startedAt.split(n.DELIMITER);m=m+'startedAt : { gte:\\"'+r(f[0]).startOf("day").utc().format()+'\\" lte:\\"'+r(f[1]).endOf("day").utc().format()+'\\"} '}u+="}",d+="}",m+="}";var E=[u,d,m].filter(function(e){return e}).join(" ");return"{ApprovalSearch(from:"+e.from+" size:"+e.to+" roleList:["+(e.role?'\\"'+e.role+'\\"':"")+"] assignmentStatusList:["+(e.assignmentStatus?'\\"'+e.assignmentStatus+'\\"':"")+'] sortList:[{field:\\"title\\" order: \\"asc\\"}] '+E+" limitUserList:["+p+"] ) "+o+" }"}if(e.isDelegate){var c=document.getElementById("userAlias").value.toLowerCase(),p='{isActor:true,roleList:[\\"APPROVER\\"],hasDelegatee:false,userInput:{alias:\\"'+c+'\\",type:\\"PRINCIPAL\\"}}',u='match:{status : \\"PENDING\\"',d="multiMatchWithPrefix:{";e.filters&&(isNotNullNotEmpty(e.filters.title)&&(u=u+', title : \\"'+e.filters.title+'\\" '),isNotNullNotEmpty(e.filters.approvalId)&&(d=d+'id : \\"'+e.filters.approvalId+'\\" ')),u+="}",d+="}";var h=[u,d].filter(function(e){return e}).join(" ");return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+' roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_PENDING\\", \\"APPROVER_PENDING_IN_FUTURE\\"] sortList:[{field:\\"title\\" order: \\"asc\\"}] '+h+" limitUserList:["+p+"] ) "+o+" }"}var v=createFilterString(e);switch(null!=t&&(o=t),e.CurrentTab){case"PENDING_NOW":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.PENDING_NOW.ROLE_LIST+"] assignmentStatusList:["+i.PENDING_NOW.ASSIGNMENT_STATUS_LIST+"] sortList:"+s+" "+v+" limitUserList:["+l+"] ) "+o+" }";case"PENDING_SOON":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.PENDING_SOON.ROLE_LIST+"] assignmentStatusList:["+i.PENDING_SOON.ASSIGNMENT_STATUS_LIST+"] sortList:"+s+" "+v+"  limitUserList:["+l+"] ) "+o+"}";case"APPROVED_BY_ME":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.APPROVED_BY_ME.ROLE_LIST+"] assignmentStatusList:["+i.APPROVED_BY_ME.ASSIGNMENT_STATUS_LIST+"] sortList:"+s+"  "+v+" limitUserList:["+l+"] ) "+o+"}";case"SHARED_WITH_ME":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.SHARED_WITH_ME.ROLE_LIST+"] sortList:"+s+" "+v+" limitUserList:["+l+"] ) "+o+"}";case"ON_HOLD":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.ON_HOLD.ROLE_LIST+"] sortList:"+s+" "+v+" limitUserList:["+l+"] ) "+o+"}";case"ALL":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.ALL.ROLE_LIST+"] assignmentStatusList:["+i.ALL.ASSIGNMENT_STATUS_LIST+"] sortList:"+s+" "+v+" limitUserList:["+l+"] )  "+o+"}";case"SEARCH_RESULT":return"relevanceSort"===e.sortOption?"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.SEARCH_RESULT.ROLE_LIST+"] assignmentStatusList:["+i.SEARCH_RESULT.ASSIGNMENT_STATUS_LIST+"] "+v+'  keywords: \\"'+e.SearchTerm+'\\" limitUserList:['+l+"] ) "+o+"}":"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.SEARCH_RESULT.ROLE_LIST+"] assignmentStatusList:["+i.SEARCH_RESULT.ASSIGNMENT_STATUS_LIST+"] sortList:"+s+" "+v+'  keywords: \\"'+e.SearchTerm+'\\" limitUserList:['+l+"] ) "+o+"}";case"MY_REQUESTS":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.MY_REQUESTS.ROLE_LIST+"] sortList:"+s+" "+v+" limitUserList:["+l+"]) "+o+"}";case"ADMIN_BY_ME":return"{ApprovalSearch(from:"+e.From+" size:"+e.Size+" roleList:["+i.ADMIN_BY_ME.ROLE_LIST+"] sortList:"+s+" "+v+" limitUserList:["+l+"]) "+o+"}"}return null}function createFilterString(e){var t="match:{",a="matchAnyInList:{",i="datetimeRange: {",o="wildcardMatch:{",s="multiMatchWithPrefix:{";if(e.filters){if(isNotNullNotEmpty(e.filters.title)&&(t=t+'title : \\"'+e.filters.title+'\\" '),isNotNullNotEmpty(e.filters.approvalId)&&(s=s+'id : \\"'+e.filters.approvalId+'\\" ',s=s+'externalId : \\"'+e.filters.approvalId+'\\" '),isNotNullNotEmpty(e.filters.status)&&(t=t+'status : \\"'+e.filters.status+'\\" '),isNotNullNotEmpty(e.filters.isPrivate)&&("GENERAL"===e.filters.isPrivate?t+="isPrivate : false, ":t+="isPrivate : true, "),e.filters.createdAt){var l=e.filters.createdAt.split(n.DELIMITER);i=i+'createdAt : { gte:\\"'+r(l[0]).startOf("day").utc().format()+'\\" lte:\\"'+r(l[1]).endOf("day").utc().format()+'\\"} '}if(e.filters.neededOnDate){var l=e.filters.neededOnDate.split(n.DELIMITER);i=i+'neededOnDate : { gte:\\"'+r(l[0]).startOf("day").utc().format()+'\\" lte:\\"'+r(l[1]).endOf("day").utc().format()+'\\"} '}if(e.filters.changedAt){var l=e.filters.changedAt.split(n.DELIMITER);i=i+'changedAt : { gte:\\"'+r(l[0]).startOf("day").utc().format()+'\\" lte:\\"'+r(l[1]).endOf("day").utc().format()+'\\"} '}if(e.filters.endedAt){var l=e.filters.endedAt.split(n.DELIMITER);i=i+'endedAt : { gte:\\"'+r(l[0]).startOf("day").utc().format()+'\\" lte:\\"'+r(l[1]).endOf("day").utc().format()+'\\"} '}if(e.filters.totalApprovalTime){if(!e.filters.createdAt){var c=e.filters.totalApprovalTime,p=r(Date.now()).utc();if("lt"===c.type){i+='createdAt : { gt:\\"'+p.subtract(c.time).format()+'\\"} '}else if("gt"===c.type){var u=p.subtract(c.time).format();i+='createdAt : { lt:\\"'+u+'\\"} '}}}isNotNullNotEmpty(e.filters.priority)&&(t=t+'priority : \\"'+e.filters.priority+'\\" ')}switch(e.CurrentTab){case"PENDING_NOW":case"PENDING_SOON":e.filters&&isNotNullNotEmpty(e.filters.status)||(t+='status : \\"PENDING\\"');break;case"ON_HOLD":e.filters&&isNotNullNotEmpty(e.filters.status)||(t+='status : \\"ON_HOLD\\"');break;case"APPROVED_BY_ME":case"SHARED_WITH_ME":e.filters&&isNotNullNotEmpty(e.filters.status)||(a+='status: [\\"PENDING\\" , \\"CANCELLED\\", \\"APPROVED_WITH_CONDITION\\",\\"REJECTED\\",\\"APPROVED\\" ] ')}return t+="}",a+="}",i+="}",o+="}",s+="}",[t,a,i,o,s,e.filters&&e.filters.tags?'tag: [\\"'+e.filters.tags+'\\"]':""].filter(function(e){return e}).join(" ")}function isNotNullNotEmpty(e){return!(!e||""==e.trim())}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),n=a(6),i={PENDING_NOW:{ROLE_LIST:['\\"APPROVER\\"'],ASSIGNMENT_STATUS_LIST:['\\"APPROVER_PENDING\\"']},APPROVED_BY_ME:{ROLE_LIST:['\\"APPROVER\\"'],ASSIGNMENT_STATUS_LIST:['\\"APPROVER_APPROVED\\"','\\"APPROVER_APPROVED_WITH_CONDITION\\"','\\"APPROVER_RECOMMEND\\"','\\"APPROVER_REJECTED\\"','\\"APPROVER_RECOMMEND_FOR_APPROVAL\\"','\\"APPROVER_RECOMMEND_FOR_REJECTION\\"','\\"APPROVER_DECISION_MADE_BY_PARALLEL_APPROVER\\"']},PENDING_SOON:{ROLE_LIST:['\\"APPROVER\\"'],ASSIGNMENT_STATUS_LIST:['\\"APPROVER_PENDING_IN_FUTURE\\"']},SHARED_WITH_ME:{ROLE_LIST:['\\"VIEWER\\"','\\"PRIVATE_VIEWER\\"','\\"LEGAL_COUNSEL\\"'],ASSIGNMENT_STATUS_LIST:[]},MY_REQUESTS:{ROLE_LIST:['\\"REQUESTER\\"']},ON_HOLD:{ROLE_LIST:['\\"REQUESTER\\"','\\"APPROVER\\"','\\"APPROVAL_ADMIN\\"']},ADMIN_BY_ME:{ROLE_LIST:['\\"APPROVAL_ADMIN\\"']},ALL:{ROLE_LIST:[],ASSIGNMENT_STATUS_LIST:[]},SEARCH_RESULT:{ROLE_LIST:[],ASSIGNMENT_STATUS_LIST:[]}},o="{ total, approvals{ neededOnDate , id, externalId, status, title, shortSummary, createdAt, startedAt, changedAt, endedAt, requester{ actor{alias, displayName} } , approverList{actor{displayName , alias , type} , assignmentStatus, delegateAssignee{alias}}, viewerList{actor{displayName, alias}}, legalCounselList{actor{displayName, alias}}, tagList {tagName}, priority, isPrivate } }";t.default=DashboardQueryBuilder},1167:function(e,t,a){"use strict";function AdvancedQueryBuilder(e){if(null==e)return null;var t=e.From,a=e.SearchKeywords,c=e.SearchVariables,p=e.Size,u=e.filters,d=e.selectedPersonFilter,m=e.sortBy,f=e.sortDesc,E=e.sortOption,h=[];E===i.SortOptionId.COLUMN&&h.push({field:m,order:f?"desc":"asc"});var v,A={templateId:c.get(n.AdvancedSearchVar.TEMPLATE_ID),externalId:c.get(n.AdvancedSearchVar.EXTERNAL_ID),status:c.get(n.AdvancedSearchVar.STATUS),priority:c.get(n.AdvancedSearchVar.PRIORITY)},g=u.tags,T=c.get(n.AdvancedSearchVar.TAG);T?v=T:g&&(v=[],v.push(g));var y;u.approvalId&&u.approvalId.trim()&&(y="*"+u.approvalId+"*");var _=u.title&&u.title.trim()||"",N=c.get(n.AdvancedSearchVar.TITLE),R=!1;N&&(_=N[0]||"",_=l.stripquotes(_),_.startsWith("[exact]")&&(R=!0,_=_.replace(/^\[exact]\s*/,"")));var S,P={id:y,title:R&&_.trim()?_.trim():void 0},b={status:A.status?void 0:u.status,title:R||!_.trim()?void 0:_.trim(),priority:A.priority?void 0:u.priority,isPrivate:u.isPrivate?"GENERAL"!==u.isPrivate:void 0},C=c.get(n.AdvancedSearchVar.REQUESTER)||[];if(0===C.length&&d){var O="PRINCIPAL"===e.selectedPersonFilter.type?e.selectedPersonFilter.alias:e.selectedPersonFilter.groupName,I="PRINCIPAL"===e.selectedPersonFilter.type?"alias":"groupName";S={isActor:!0,assignmentStatusList:["APPROVER_PENDING"],roleList:["APPROVER"],userInput:(F={},F[I]=O,F.type=e.selectedPersonFilter.type,F)}}else S=C.map(function(e){return{isActor:!0,roleList:["REQUESTER"],userInput:{alias:e,type:"PRINCIPAL"}}});var D=c.get(n.AdvancedSearchVar.MY_ROLE)||[],L=[],w=[];D.forEach(function(e){switch(e){case"REQUESTER":L.push("REQUESTER");break;case"APPROVAL_ADMIN":L.push("APPROVAL_ADMIN");break;case"GENERAL_VIEWER":L.push("VIEWER");break;case"PRIVATE_VIEWER":L.push("PRIVATE_VIEWER");break;case"PAST_APPROVER":L.push("APPROVER");var t=["PENDING","CANCELLED","APPROVED_WITH_CONDITION","REJECTED","APPROVED"],a=["APPROVER_APPROVED","APPROVER_APPROVED_WITH_CONDITION","APPROVER_RECOMMEND","APPROVER_REJECTED","APPROVER_RECOMMEND_FOR_APPROVAL","APPROVER_RECOMMEND_FOR_REJECTION","APPROVER_DECISION_MADE_BY_PARALLEL_APPROVER"];w.push.apply(w,a),A.status?(r=A.status).push.apply(r,t):A.status=t.slice();break;case"CURRENT_APPROVER":L.push("APPROVER"),t=["PENDING"],a=["APPROVER_PENDING"],w.push.apply(w,a),A.status?(n=A.status).push.apply(n,t):A.status=t.slice();break;case"FUTURE_APPROVER":L.push("APPROVER"),t=["PENDING"],a=["APPROVER_PENDING_IN_FUTURE"],w.push.apply(w,a),A.status?(i=A.status).push.apply(i,t):A.status=t.slice()}var r,n,i});var M=["createdAt","neededOnDate","changedAt","endedAt"],U=Object.entries(u).filter(function(e){var t=e[0];return M.includes(t)}).filter(function(e){return"string"==typeof e[1]}).map(function(e){var t=e[0],a=e[1],r=a.split(o.DELIMITER),n=r[0],i=r[1];return[t,{gte:s(n).startOf("day").utc().format(),lte:s(i).endOf("day").utc().format()}]}).reduce(function(e,t){var a=t[0],n=t[1];return r({},e,(i={},i[a]=n,i));var i},{}),k={roleList:L,assignmentStatusList:w,sortList:h,limitUserList:S,matchAnyInList:A,match:b,wildcardMatch:P,datetimeRange:U,tag:v,from:t,size:p,keywords:a.toString().trim()},V=new URLSearchParams;return V.append("query","query ApprovalSearch(\n    $sortList: [QuerySortType],\n    $keywords: String,\n    $matchAnyInList: QueryMatchAnyInListType,\n    $match: QueryMatchType,\n    $wildcardMatch: QueryWildcardMatchType,\n    $datetimeRange: QueryDateRangeType,\n    $limitUserList: [QueryLimitUserType],\n    $tag: [String]\n    $from: Int,\n    $size: Int,\n    $roleList: [String],\n    $assignmentStatusList: [String]\n  ) {\n    ApprovalSearch(\n      assignmentStatusList: $assignmentStatusList\n      sortList: $sortList,\n      keywords: $keywords,\n      matchAnyInList: $matchAnyInList,\n      match: $match,\n      wildcardMatch: $wildcardMatch,\n      datetimeRange: $datetimeRange,\n      limitUserList: $limitUserList,\n      tag: $tag,\n      from: $from,\n      size: $size,\n      roleList: $roleList\n    ) {\n      total,\n      approvals{\n        neededOnDate,\n        id,\n        externalId,\n        status,\n        title,\n        shortSummary,\n        createdAt,\n        changedAt,\n        endedAt,\n        templateId,\n        priority,\n        isPrivate,\n        requester{\n          actor{\n            displayName\n          }\n        },\n        approverList{\n          actor{\n            displayName, alias, type\n          },\n          assignmentStatus\n        },\n        tagList{\n          tagName\n        }\n      }\n    }\n  }"),V.append("variables",JSON.stringify(k)),V;var F}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),i=a(57),o=a(6),s=a(1),l=a(13);t.default=AdvancedQueryBuilder},1168:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(46),o=a(10),s=a(5),l=a(7),c=a(4),p=a(140),u=a(653),d=a(654),m=function(e){function BulkTransferModalPickerComponent(t){var a=e.call(this,t)||this;return a.searchResult=[],a.pendingAlertId=Math.random(),a.selectedActor=null,a.state={query:null,showTransferModal:a.props.showTransferModal},a.searchPeople=a.searchPeople.bind(a),a.selectPeople=a.selectPeople.bind(a),a.onTransferClick=a.onTransferClick.bind(a),a}return r(BulkTransferModalPickerComponent,e),BulkTransferModalPickerComponent.prototype.onTransferClick=function(){if(this.selectedActor){for(var e=[],t=0;t<this.props.approvalList.length;t++){var a={objectId:this.props.approvalList[t].id,objectTypeId:1,bulkTransferOptionType:u.getRoleForApproval(this.props.approvalList[t],!1)};e.push(a)}this.props.transferApprovalRequests(this.selectedActor.alias,e,null,!1),this.props.onDismissClick(),window.location.reload(!0)}else this.props.showNotification({id:Math.random(),content:"please select the user to whom you want to transfer the request",type:"alert",status:"info"})},BulkTransferModalPickerComponent.prototype.componentWillReceiveProps=function(e){e.isTransferSucceeded&&e.isTransferSucceeded!=this.props.isTransferSucceeded&&(this.props.onDismissClick(),window.location.reload(!0))},BulkTransferModalPickerComponent.prototype.selectPeople=function(e,t){this.searchResult.map(function(e){e.selected=!1}),this.selectedActor=e,this.searchResult[t].selected=!0,this.forceUpdate()},BulkTransferModalPickerComponent.prototype.searchPeople=function(e){this.setState({query:e.detail.value}),e.detail.value.length>2&&this.props.callPeopleSearchApi(this.state.query)},BulkTransferModalPickerComponent.prototype.render=function(){var e=this;return this.props.peopleResults.data&&this.props.peopleResults.data.length>0?this.searchResult=this.props.peopleResults.data:this.searchResult=[],n.createElement("div",{className:"awsui"},n.createElement(s.Modal,{size:"large",content:n.createElement("div",{className:"transfer-picker modal-search-container"},n.createElement("awsui-token-group",{initialized:"true"},n.createElement("div",null,"The selected approvals to be transferred"),n.createElement("div",{className:"awsui-token-group awsui-token-group-horizontal"},this.props.approvalList&&this.props.approvalList.map(function(e){return n.createElement("div",{key:e.id,className:"awsui-token"},n.createElement("div",{className:"awsui-select-option"},n.createElement("div",{className:"awsui-select-option-content"},n.createElement("div",{className:"awsui-select-option-label-content"},n.createElement("a",{href:"/Approval/Details/"+e.id},e.id)))))}))),n.createElement("div",null,n.createElement(s.ColumnLayout,{columns:1},n.createElement("div",{style:{marginTop:"2%"},"data-awsui-column-layout-root":"true"},n.createElement(s.FormField,{label:"Transfer to"},n.createElement("span",{style:{color:"#b1b1b1"}},"Choose the user you want to transfer these approvals to. They'll replace you in the approval plan."),n.createElement(s.Input,{autocomplete:!1,type:"search",value:this.state.query,onChange:this.searchPeople}))))),n.createElement("div",{className:"awsui-util-mt-l legalCounselResults"},n.createElement(s.ColumnLayout,{columns:2},n.createElement("div",{"data-awsui-column-layout-root":"true",className:"awsui-util-pt-m "},this.props.isPeopleSearchLoading&&n.createElement(s.Spinner,null),this.searchResult.map(function(t,a){return t.type==c.ActoryType.PRINCIPAL?n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.alias},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:c.ServiceEndPoints.phoneToolImage+t.alias,alt:""}),n.createElement("div",{className:"favorite-star"}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:c.ServiceEndPoints.phoneToolLink+t.alias,target:"blank",className:"name"},t.firstName," ",t.lastName)),n.createElement("p",{className:"title"},t.title),n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("p",{className:"department"},t.departmentName,n.createElement("span",{className:"deptID"},"(",t.departmentId,")"))),n.createElement(s.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}),n.createElement("div",{className:"levelTab"},"L",t.jobLevel)))):null}))))),visible:this.props.showTransferModal,header:"Transfer approval requests",onDismiss:function(t){e.props.onDismissClick()},footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:this.props.onDismissClick},"Cancel"),n.createElement("button",{className:"btn btn-primary",onClick:this.onTransferClick},"Transfer"))}),n.createElement(d.default,null))},BulkTransferModalPickerComponent}(n.Component),f=function(e){return{peopleResults:e.PeopleSearch.peopleResults,isPeopleSearchLoading:e.PeopleSearch.isPending,isTransferPending:e.TransferService.isTransferPending,isTransferSucceeded:e.TransferService.isTransferSucceeded,isTransferFailed:e.TransferService.isTransferFailed}},E=function(e){return{callPeopleSearchApi:function(t){e(i.queryPeopleSearch(t,!0))},transferApprovalRequests:function(t,a,r,n){e(p.postBulkTransfer(t,a,r,n))},showNotification:function(t){e(o.updateNotification({value:t}))}}};t.default=l.connect(f,E)(m)},1179:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(46),o=a(139),s=a(86),l=a(72),c=a(10),p=a(5),u=a(7),d=a(4),m=a(61),f=a(51),E=function(e){function BulkDelegateModalPickerComponent(t){var a=e.call(this,t)||this;return a.searchResult=[],a.pendingAlertId=Math.random(),a.selectedActor=null,a.state={query:null,fromDate:null,toDate:null,delegationCreationFailed:!1},a.searchPeople=a.searchPeople.bind(a),a.selectPeople=a.selectPeople.bind(a),a.onDelegationSave=a.onDelegationSave.bind(a),a}return r(BulkDelegateModalPickerComponent,e),BulkDelegateModalPickerComponent.prototype.selectPeople=function(e,t){this.searchResult.map(function(e){e.selected=!1}),this.selectedActor=e,this.searchResult[t].selected=!0,this.forceUpdate()},BulkDelegateModalPickerComponent.prototype.searchPeople=function(e){13==e.detail.keyCode&&this.props.callPeopleSearchApi(this.state.query)},BulkDelegateModalPickerComponent.prototype.componentWillReceiveProps=function(e){e.isCreateDelegationPending&&this.props.isCreateDelegationPending!=e.isCreateDelegationPending&&this.props.showNotification({id:this.pendingAlertId,content:"Adding delegation rule",loading:!0,type:"alert",status:"info"}),e.delegationCreated&&this.props.delegationCreated!=e.delegationCreated&&(this.props.deleteNotification(this.pendingAlertId),this.props.showNotification({id:Math.random(),content:"Delegation added successfully.",loading:!1,type:"alert",status:"success",duration:2500}),this.props.onDismissClick(),window.location.reload(!0)),e.delegationFailed&&this.props.delegationFailed!=e.delegationFailed&&(this.props.deleteNotification(this.pendingAlertId),this.props.showNotification({id:Math.random(),content:e.delegationFailedMsg,loading:!1,type:"alert",status:"error"})),this.props.showDelegateModal!=e.showDelegateModal&&(this.searchResult=[],this.selectedActor=null,this.setState({fromDate:"",toDate:"",query:null}),this.props.clearPeopleSearch())},BulkDelegateModalPickerComponent.prototype.render=function(){var e=this;return this.props.peopleResults.data&&this.props.peopleResults.data.length>0?this.searchResult=this.props.peopleResults.data:this.searchResult=[],n.createElement("div",{className:"awsui"},n.createElement(p.Modal,{size:"large",content:n.createElement("div",{className:"delegatee modal-search-container"},n.createElement("awsui-token-group",{initialized:"true"},n.createElement("div",null,"The selected approvals to be delegated"),n.createElement("div",{className:"awsui-token-group awsui-token-group-horizontal"},this.props.approvalList&&this.props.approvalList.map(function(e){return n.createElement("div",{key:e.id,className:"awsui-token"},n.createElement("div",{className:"awsui-select-option"},n.createElement("div",{className:"awsui-select-option-content"},n.createElement("div",{className:"awsui-select-option-label-content"},n.createElement("a",{href:"/Approval/Details/"+e.id},e.id)))))}))),n.createElement("div",null,n.createElement(p.ColumnLayout,{columns:3},n.createElement("div",{style:{marginTop:"2%"},"data-awsui-column-layout-root":"true"},n.createElement(p.FormField,{label:n.createElement("b",null,"Search for Delegatee")},n.createElement(p.Input,{autocomplete:!1,onKeyup:this.searchPeople,type:"search",value:this.state.query,onChange:function(t){e.setState({query:t.detail.value})}})),n.createElement(p.FormField,{label:n.createElement("b",null,"Start Date")},n.createElement("div",{className:"DatePickerContainer"},n.createElement(s.default,{inputProps:{className:"awsui-input"},formatDate:l.formatDate,parseDate:l.parseDate,value:this.state.fromDate||"",disabled:!1,dayPickerProps:{disabledDays:{before:new Date}},onDayChange:function(t,a){e.setState({fromDate:t})},placeholder:"MM/DD/YYYY"}))),n.createElement(p.FormField,{label:n.createElement("b",null,"End Date")},n.createElement("div",{className:"DatePickerContainer"},n.createElement(s.default,{inputProps:{className:"awsui-input"},formatDate:l.formatDate,parseDate:l.parseDate,disabled:!1,value:this.state.toDate||"",dayPickerProps:{disabledDays:{before:new Date}},onDayChange:function(t,a){e.setState({toDate:t})},placeholder:"MM/DD/YYYY"})))))),n.createElement("div",{className:"awsui-util-mt-l legalCounselResults"},n.createElement(p.ColumnLayout,{columns:2},n.createElement("div",{"data-awsui-column-layout-root":"true",className:"awsui-util-pt-m "},this.props.isPeopleSearchLoading&&n.createElement(p.Spinner,null),this.searchResult.map(function(t,a){return t.type==d.ActoryType.PRINCIPAL?n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.alias},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:d.ServiceEndPoints.phoneToolImage+t.alias,alt:""}),n.createElement("div",{className:"favorite-star"}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:d.ServiceEndPoints.phoneToolLink+t.alias,target:"blank",className:"name"},t.firstName," ",t.lastName)),n.createElement("p",{className:"title"},t.title),n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("p",{className:"department"},t.departmentName,n.createElement("span",{className:"deptID"},"(",t.departmentId,")"))),n.createElement(p.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}),n.createElement("div",{className:"levelTab"},"L",t.jobLevel)))):n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.groupName},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:"/assets/images/GroupImage.png",alt:""}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:f.getGroupDetailsLink(t),target:"blank"},n.createElement("h5",{title:t.groupName,className:"userName"},t.groupName))),n.createElement("p",{className:"title"},f.getGroupDisplayName(t.type)),n.createElement("span",{className:"awsui-util-clearfix"})),n.createElement(p.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}))))}))))),visible:this.props.showDelegateModal,header:"Delegate approval requests",onDismiss:function(t){e.props.onDismissClick()},footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:function(t){e.props.onDismissClick()}},"Cancel"),n.createElement("button",{className:"btn btn-primary",onClick:function(t){e.onDelegationSave()}},"Delegate"))}))},BulkDelegateModalPickerComponent.prototype.onDelegationSave=function(){if(!this.selectedActor)return void this.props.showNotification({id:Math.random(),content:"Please select delegatee",type:"alert",status:"info"});if(!this.state.fromDate)return void this.props.showNotification({id:Math.random(),content:"Please select Start date",type:"alert",status:"info"});if(!this.state.toDate)return void this.props.showNotification({id:Math.random(),content:"Please select End date",type:"alert",status:"info"});if(this.state.toDate<this.state.fromDate)return void this.props.showNotification({id:Math.random(),content:"Start Date should be always greater than End Date",type:"alert",status:"info"});var e=this.selectedActor.type==d.ActoryType.PRINCIPAL?this.selectedActor.alias:this.selectedActor.groupName,t=[];this.props.approvalList.map(function(e){t.push(e.id)}),this.props.createDelegationRule(t,e,this.selectedActor.type,this.state.fromDate,this.state.toDate)},BulkDelegateModalPickerComponent}(n.Component),h=function(e){return{peopleResults:e.PeopleSearch.peopleResults,modalHeader:e.PeoplePickerModal.modalHeaderText,modalType:e.PeoplePickerModal.modalType,isCreateDelegationPending:e.DelegationService.isCreateDelegationPending,delegationCreated:e.DelegationService.isCreateDelegationSucceeded,delegationFailed:e.DelegationService.isCreateDelegationFailed,delegationFailedMsg:e.DelegationService.createDelegationErrorMsg,isPeopleSearchLoading:e.PeopleSearch.isPending}},v=function(e){return{callPeopleSearchApi:function(t){e(i.queryPeopleSearch(t))},showNotification:function(t){e(c.updateNotification({value:t}))},createDelegationRule:function(t,a,r,n,i){e(o.createDelegationRuleForMultipleApproval(t,a,r,n,i))},deleteNotification:function(t){e(c.deleteNotification({value:t}))},clearPeopleSearch:function(){e(i.clearPeopleResults())},approvalPlanChange:function(t,a){e(m.approvalPlanChange({routesByLevel:t,approvalPlanVersion:a}))}}};t.default=u.connect(h,v)(E)},1185:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(4),o=a(5),s=a(57),l=function(e){function DashboardActionsFooter(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showDropDown:!1},t.getFooterButtons=function(){for(var e=t.props,a=e.allowedActions,r=e.showBulkActionsButton,l=e.enableTransferButton,c=e.ViewState,p=e.enableDelegateButton,u=[],d=0,m=a;d<m.length;d++){switch(m[d]){case i.ApproverAction.BULK_ACTION:u.push(r&&n.createElement("div",{key:"bulkAction",className:"action-button delegate ewr"+(a.length+(r?1:0)),onClick:function(){return t.setState({showDropDown:!t.state.showDropDown})}},n.createElement("span",{id:"moreActions",className:"flex-col bulkactions-dropdown-content "+(t.state.showDropDown?"show":"")},l?n.createElement("div",{onClick:t.props.onTransferAction,className:"bulk-action-drop-up-items flex"},n.createElement("i",{className:"fa fa-angle-double-right fa-4x",style:{color:"#e47f0b"},"aria-hidden":"true"}),n.createElement("div",{className:"flex-col"},n.createElement("span",{className:"awsui-util-label"},"Transfer"),n.createElement("span",{className:"awsui-util-status-inactive",style:{width:"397px"}},"Transfer your role in the approval plan to someone else."))):n.createElement(o.Popover,{content:"You can only transfer a pending approval request when you are an individual approver, requester, viewer, or legal counsel; not as a member of an ANT, LDAP, or POSIX group in any of these roles. You can also only transfer to individuals, not groups.",triggerType:"custom",header:n.createElement("h2",null,"Cannot transfer approval request(s)"),position:"right",trigger:n.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"bulk-action-drop-up-items flex"},n.createElement("i",{className:"fa fa-angle-double-right fa-4x",style:{color:"#e47f0b"},"aria-hidden":"true"}),n.createElement("div",{className:"flex-col"},n.createElement("span",{className:"awsui-util-label"},"Transfer"),n.createElement("span",{className:"awsui-util-status-inactive",style:{width:"397px"}},"Transfer your role in the approval plan to someone else.")))}),c.CurrentTab==s.TabId.shared||c.CurrentTab==s.TabId.createdbyme?null:p?n.createElement("div",{onClick:t.props.onDelegateAction,className:"bulk-action-drop-up-items flex"},n.createElement("i",{className:"fa fa-user fa-4x",style:{color:"#e47f0b"},"aria-hidden":"true"}),n.createElement("div",{className:"flex-col"},n.createElement("span",{className:"awsui-util-label"},"Delegate"),n.createElement("span",{className:"awsui-util-status-inactive"},"Delegate an approval to another person for a temporary period of time."))):n.createElement(o.Popover,{content:"You can only delegate pending approval request(s) when you are an individual approver, not a member of an ANT, LDAP, or POSIX group.",triggerType:"custom",position:"right",header:n.createElement("h2",null,"Cannot delegate approval request(s)"),trigger:n.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"bulk-action-drop-up-items flex"},n.createElement("i",{className:"fa fa-user fa-4x",style:{color:"#e47f0b"},"aria-hidden":"true"}),n.createElement("div",{className:"flex-col"},n.createElement("span",{className:"awsui-util-label"},"Delegate"),n.createElement("span",{className:"awsui-util-status-inactive"},"Delegate an approval to another person for a temporary period of time.")))})),n.createElement("span",{className:"moreActions-alignment btn-bulkActions"},n.createElement("span",null,"Bulk actions"),n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))),n.createElement("div",{key:"bulkEdit",className:"action-button delegate ewr"+(a.length+(r?1:0))},n.createElement("a",{href:"javascript:void(0)",onClick:t.props.sendBulkEditRequest},n.createElement("span",{className:"moreActions-alignment btn-bulkActions"},"Bulk edit"))));break;case i.ApproverAction.APPROVE:u.push(n.createElement("div",{key:"bulkApprove",className:"action-button approval ewr"+(a.length+(r?1:0))},n.createElement("a",{href:"javascript:void(0)",id:i.ApproverAction.APPROVE,onClick:t.props.openModal},n.createElement("i",{className:"fa fas fa-thumbs-up fa-lg"}),"Bulk approve")));break;case i.ApproverAction.APPROVE_WITH_CONDITION:u.push(n.createElement("div",{key:"bulkConditions",className:"action-button conditions ewr"+(a.length+(r?1:0))},n.createElement("a",{href:"javascript:void(0)",id:i.ApproverAction.APPROVE_WITH_CONDITION,onClick:t.props.openModal},n.createElement("i",{className:"fa fas fa-check-square fa-lg"}),"Bulk approve with conditions")));break;case i.ApproverAction.REJECT:u.push(n.createElement("div",{key:"bulkReject",className:"action-button reject ewr"+(a.length+(r?1:0))},n.createElement("a",{href:"javascript:void(0)",id:i.ApproverAction.REJECT,onClick:t.props.openModal},n.createElement("i",{className:"fa fas fa-thumbs-down fa-lg"}),"Bulk reject")))}}return u},t}return r(DashboardActionsFooter,e),DashboardActionsFooter.prototype.render=function(){var e=this.props,t=e.actionState,a=e.allowedActions;return!t&&a&&a.length>0?n.createElement("div",{className:"jsHide",id:"home-action"},n.createElement("div",{className:"stickyFooter detailsPageActions"},n.createElement("div",{className:"stickyNavigation awsui"},this.getFooterButtons()))):null},DashboardActionsFooter}(n.Component);t.default=l},1197:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1198),n=a(677),i=a(6);t.MetricsPublisher=new r.LegalMetricsPublisher({serviceName:"AmazonApprovals",shouldPublishMetrics:function(){var e=window.location.hostname;return e===i.BETA_HOSTNAME||e===i.GAMMA_HOSTNAME||e==i.PROD_HOSTNAME}(),domain:function(){switch(window.location.hostname){case i.BETA_HOSTNAME:case i.GAMMA_HOSTNAME:return n.MetricDomain.Test;case i.PROD_HOSTNAME:return n.MetricDomain.Prod;default:return n.MetricDomain.Test}}()})},1201:function(e,t){},1237:function(e,t,a){"use strict";function createSummary(e){return e?{__html:e.replace(/\n/g,"<br/>")}:null}function mapStateToProps(e){return{draftApprovalRequestId:e.approvalRequest.approvalRequestId,approvalAdmins:e.approvalAdmins,approvalPlanVersion:e.approvalRequest.approvalPlanVersion,permissionedContent:e.permissionedContent,groupMembers:e.groupMembers}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(5),l=a(1238),c=a(681),p=a(1257),u=a(684),d=a(4),m=a(13),f=a(191),E=a(685),h=a(1371),v=a(713),A=a(719),g=a(306),T=a(213),y=a(86),_=a(748),N=a(72),R=a(99),S=a(6),P=a(8),b=a(7),C=a(61),O=a(749),I=a(750),D=a(319),L=a(1495),w=a(751),M=a(1496),U=a(1497),k=a(52),V=a(41),F=a(4),x=a(138),B=a(1498),H=a(752),Y=a(214),G=a(37),q=a(753),j=a(135),W=a(158),Q=a(78),z=a(10),K=V.default.div(le||(le=r(["\n"],["\n"]))),J=a(1),X=a(754),Z=a(30),ee=a(174),te=a(144),ae=a(1502),re=function(e){function ApprovalDetailComponent(t){var a=e.call(this,t)||this;return a.displayViewersEditIcon=!0,a.summaryText="",a.pendingActors=[],a.pendingApprovers=[],a.messages=[],a.allowLegalCounselUpdate=!1,a.modalCancelButtonText="Cancel",a.modalSaveButtonText="Save",a.actorApproverId=null,a.metricPageLatencyTimer=new Z.MetricPageLatencyTimer,a.state={approvalFull:null,addCorrespondence:!1,correspondenceWrapperActive:!1,correspondenceActive:!1,rfiActive:!1,errorMessage:null,accessRequestResponseMessage:"",accessRequestSuccess:null,alertIds:[],approvalPlan:null,approvalPlanVersion:null,approvalPlanloading:!0,displayFlash:!1,displayFlashLoading:!1,displayFlashType:"success",approvalTitle:"",approvalSummary:"",approvalPriority:"",displayQuickViewModal:!1,quickViewModalTitle:"",quickViewContent:"",neededOnDate:null,onHoldUntil:null,isTitleInValid:!1,hasValidLinkback:!1,loading:!0,approverId:null,error:!1,version:"",editorState:"",correspondenceCount:0,correspondenceList:null,disableAdmins:!0,disableViewers:!0,disablePrivateViewers:!0,disableApprovalPlan:!0,displayCommentsModal:!1,displayCopyToNewWarningModal:!1,displayCancelConfirmationModel:!1,displayRemindersModal:!1,displayEscalationModal:!1,displayAccessRequestModal:!1,displayOnHoldModal:!1,displayResumeModal:!1,disableBasicDetails:!0,disableAttachments:!0,disableKeyDetails:!0,commentsModalTitle:"",showTransferModel:!1,approvalComments:"",accessRequestComments:"",legalPrivilegedAdvice:!1,approvalCommentsInvalid:!1,fullScreenSummary:!1,canSendReminder:!1,unreadCount:0,tourRunning:!1,referenceId:"",start:"",stepIndex:0,steps:"",tourLifecycle:"",tourAction:"",template:null,templateLoading:!1,canEdit:!1,isEscalationEnabled:!1,hasPermissionedContent:!1,permissionedContent:"",templateURL:"",privateApproval:!1,privacyConfirmModalOpen:!1},a.loadApprovalRequest=a.loadApprovalRequest.bind(a),a.reloadApprovalPlan=a.reloadApprovalPlan.bind(a),a.fetchUnreadCorrespondence=a.fetchUnreadCorrespondence.bind(a),a.fetchPrivateViewers=a.fetchPrivateViewers.bind(a),a.addPrivateViewer=a.addPrivateViewer.bind(a),a.removePrivateViewer=a.removePrivateViewer.bind(a),a.toggleCorrespondenceWrapper=a.toggleCorrespondenceWrapper.bind(a),a.openCorrespondenceTab=a.openCorrespondenceTab.bind(a),a.openRfiTab=a.openRfiTab.bind(a),a.getCorrespondenceList=a.getCorrespondenceList.bind(a),a.handleCorrespondenceChange=a.handleCorrespondenceChange.bind(a),a.updateApproverAction=a.updateApproverAction.bind(a),a.enableInlineEditing=a.enableInlineEditing.bind(a),a.cancelInlineEditing=a.cancelInlineEditing.bind(a),a.captureApprovalComments=a.captureApprovalComments.bind(a),a.captureAccessRequestComments=a.captureAccessRequestComments.bind(a),a.approvalSaveClick=a.approvalSaveClick.bind(a),a.approvalCancelClick=a.approvalCancelClick.bind(a),a.onHoldCancelClick=a.onHoldCancelClick.bind(a),a.onHoldSaveClick=a.onHoldSaveClick.bind(a),a.resumeCancelClick=a.resumeCancelClick.bind(a),a.resumeSaveClick=a.resumeSaveClick.bind(a),a.onApproveWithConditions=a.onApproveWithConditions.bind(a),a.onApproveAction=a.onApproveAction.bind(a),a.onRejectAction=a.onRejectAction.bind(a),a.onRecommendApprove=a.onRecommendApprove.bind(a),a.onRecommendReject=a.onRecommendReject.bind(a),a.onCancelAction=a.onCancelAction.bind(a),a.onDelegateAction=a.onDelegateAction.bind(a),a.onRestartAction=a.onRestartAction.bind(a),a.onInvalidateAction=a.onInvalidateAction.bind(a),a.onHoldAction=a.onHoldAction.bind(a),a.resumeAction=a.resumeAction.bind(a),a.sendAccessRequest=a.sendAccessRequest.bind(a),a.displayApprovalConditionsModal=a.displayApprovalConditionsModal.bind(a),a.displayCurrentsApproversModal=a.displayCurrentsApproversModal.bind(a),a.displayRemindersModal=a.displayRemindersModal.bind(a),a.displayEscalationModal=a.displayEscalationModal.bind(a),a.dismissRemindersModal=a.dismissRemindersModal.bind(a),a.dismissEscalationModal=a.dismissEscalationModal.bind(a),a.createCloneApproval=a.createCloneApproval.bind(a),a.generatePDF=a.generatePDF.bind(a),a.onTransferModalDismiss=a.onTransferModalDismiss.bind(a),a.onTransferAction=a.onTransferAction.bind(a),a.onCorrespondenceCheckBoxChange=a.onCorrespondenceCheckBoxChange.bind(a),a.startTour=a.startTour.bind(a),a.publishMetrics=a.publishMetrics.bind(a),a.endTour=a.endTour.bind(a),a.nextStep=a.nextStep.bind(a),a}return n(ApprovalDetailComponent,e),ApprovalDetailComponent.prototype.startTour=function(){this.setState({tourRunning:!0})},ApprovalDetailComponent.prototype.publishMetrics=function(e){var t=this.getMetrics(e);if(null!=t&&null!=t.metricName){var a=new URLSearchParams(t);if(a.append("latency",""),P.default.post(d.baseUrl+"/api/approvalrequest/publishmetrics",a),("close"===e.action||e.index==e.size-1)&&"complete"===e.lifecycle){var r=new URLSearchParams({metricName:"tourDuration",metricValue:t.duration,referenceId:t.referenceId,category:t.category,latency:""});P.default.post(d.baseUrl+"/api/approvalrequest/publishmetrics",r);var n=new URLSearchParams({metricName:"stepsCompleted",metricValue:this.state.steps,referenceId:t.referenceId,category:t.category,latency:""});P.default.post(d.baseUrl+"/api/approvalrequest/publishmetrics",n)}}},ApprovalDetailComponent.prototype.getMetrics=function(e){var t=e.action,a=e.index,r=e.size,n=e.lifecycle;if("complete"!==n&&"next"!==t&&("start"!==t||"ready"!==n))return null;var i=null,o=0,s=this.state,l=s.referenceId,c=s.start;return"start"===t&&"ready"===n?(i="tourStarted",l=f.v4(),this.setState({referenceId:l,start:J(),steps:"1"})):"complete"===n?(a==r-1?i="tourCompleted":"close"===t&&(i="tourStopped"),o=J.duration(J().diff(c)).asMilliseconds()):"next"===t&&this.setState({steps:""+(a+1)}),{metricName:i,metricValue:"ApprovalPlan",referenceId:l,category:d.MetricCategory.TOUR,duration:o}},ApprovalDetailComponent.prototype.nextStep=function(e,t,a,r){var n=e.action,i=e.index,o=(e.status,e.lifecycle),s=e.type;if(0==i&&"complete"==o&&this.enableInlineEditing("ApprovalPlan"),"tooltip"==o)if(1==i)var l="sushapar",c=0,p=setInterval(function(){$("#searchText_input").children(".awsui-input-container").find("input").trigger("keypress").val(function(e,t){return t+l.charAt(c)}),++c==l.length&&clearInterval(p)},400);else $("#searchText_input").children(".awsui-input-container").find("input").trigger("keypress").val(function(e,t){return""});[t.STEP_AFTER,t.TARGET_NOT_FOUND].includes(s)&&this.setState({stepIndex:i+(n===a.NEXT?1:-1)}),this.setState({tourLifecycle:o,tourAction:n})},ApprovalDetailComponent.prototype.endTour=function(){this.cancelInlineEditing("ApprovalPlan"),this.setState({stepIndex:0,tourRunning:!1})},ApprovalDetailComponent.prototype.createCloneApproval=function(){var e=this.state.approvalFull.approval,t=e.templateId,a=e.id;if(t&&"1"!==t)return void this.setState({displayCopyToNewWarningModal:!0,templateURL:"/template/details/"+t});this.props.dispatch(L.createCloneApproval(a))},ApprovalDetailComponent.prototype.onCorrespondenceCheckBoxChange=function(e){e.checked?this.setState({addCorrespondence:!0}):this.setState({addCorrespondence:!1})},ApprovalDetailComponent.prototype.generatePDF=function(){this.state.addCorrespondence?this.props.dispatch(w.generatePdf(this.state.approvalFull.approval.id,this.state.approvalFull.approval.title,"true")):this.props.dispatch(w.generatePdf(this.state.approvalFull.approval.id,this.state.approvalFull.approval.title,"false"))},ApprovalDetailComponent.prototype.onTransferModalDismiss=function(){this.setState({showTransferModel:!1})},ApprovalDetailComponent.prototype.onTransferAction=function(e){e&&(this.actorApproverId=e,this.setState({showTransferModel:!0}))},ApprovalDetailComponent.prototype.onHoldAction=function(e){this.setState({displayOnHoldModal:!0}),e&&(this.actorApproverId=e)},ApprovalDetailComponent.prototype.resumeAction=function(e){this.setState({displayResumeModal:!0}),e&&(this.actorApproverId=e)},ApprovalDetailComponent.prototype.addPrivateViewer=function(e,t,a){var r=this,n=new FormData;n.append("entityType","APPROVAL"),n.append("entityId",e),n.append("roleName","PRIVATE_VIEWER"),n.append("actorType",t),n.append("actorId",a),P.default.post(S.SERVICE_ENDPOINTS+S.API_ROUTES.ADD_ACTOR_TO_ROLE,n).then(function(){r.fetchPrivateViewers()}).catch(function(e){console.log(e)})},ApprovalDetailComponent.prototype.removePrivateViewer=function(e){var t=this,a={entityType:"APPROVAL",entityId:this.state.approvalFull.approval.id,roleName:d.UserRole.PRIVATE_VIEWER,actorId:e},r=new URLSearchParams;r.append("payload",JSON.stringify(a)),P.default.request({method:"delete",url:S.SERVICE_ENDPOINTS+S.API_ROUTES.REMOVE_ACTOR_FROM_ROLE,params:r}).then(function(){t.fetchPrivateViewers()}).catch(function(e){console.log(e)})},ApprovalDetailComponent.prototype.decodeHtml=function(e){if(null===e||void 0===e)return"";var t=document.createElement("textarea");return t.innerHTML=e,t.value},ApprovalDetailComponent.prototype.displayRemindersModal=function(){this.setState({displayRemindersModal:!0})},ApprovalDetailComponent.prototype.dismissRemindersModal=function(){this.setState({displayRemindersModal:!1})},ApprovalDetailComponent.prototype.displayEscalationModal=function(){this.setState({displayEscalationModal:!0})},ApprovalDetailComponent.prototype.dismissEscalationModal=function(){this.setState({displayEscalationModal:!1})},ApprovalDetailComponent.prototype.getBoldText=function(e){return o.createElement("b",{style:{color:"black"}},e)},ApprovalDetailComponent.prototype.onClickTemplateIdFromCopyWarning=function(e){this.setState({displayCopyToNewWarningModal:!1}),window.open("/Template/Details/"+e)},ApprovalDetailComponent.prototype.getIcon=function(e){switch(e){case d.DisplayApprovalAction.REJECTED:return o.createElement("i",{style:{color:"red",overflow:"initial"},className:"fa fas fa-thumbs-down fa-lg"});case d.DisplayApprovalAction.APPROVED:return o.createElement("i",{style:{color:"green",overflow:"initial"},className:"fa fas fa-thumbs-up fa-lg"});case d.DisplayApprovalAction.CANCEL:return o.createElement("i",{style:{color:"red",overflow:"initial"},className:"fa fas fa-ban fa-lg"});case d.DisplayApprovalAction.RECOMMEND_FOR_APPROVAL:return o.createElement("i",{style:{color:"green",overflow:"initial"},className:"fa fas fa-thumbs-o-up fa-lg"});case d.DisplayApprovalAction.RECOMMEND_FOR_REJECTION:return o.createElement("i",{style:{color:"red",overflow:"initial"},className:"fa fas fa-thumbs-o-down fa-lg"});case d.DisplayApprovalAction.CANCEL:return o.createElement("i",{style:{color:"red"},className:"fa fas fa-ban fa-lg"});case d.DisplayApprovalAction.RESTART_APPROVAL:return o.createElement("i",{style:{color:"red"},className:"fa fas fa-retweet fa-lg"});case d.DisplayApprovalAction.INVALIDATE_APPROVAL:return o.createElement("i",{style:{color:"grey"},className:"fa fas fa-power-off"});default:return null}},ApprovalDetailComponent.prototype.getApprovalActorListForAuditLog=function(e,t){return[e.requester].concat(m.getApproversFrom(e.approvalPlan),e.viewerList,e.legalCounselList,t.admins||[],e.approvalActorList||[])},ApprovalDetailComponent.prototype.render=function(){var e,t=this,a=this.state.hasValidLinkback?200:113,r=this,n=1,u=null;this.pendingActors=[],this.pendingApprovers=[],this.messages=[];var f=new Set([d.UserRole.REQUESTER,d.UserRole.APPROVAL_ADMIN]),P=new Set([d.UserRole.REQUESTER,d.UserRole.APPROVAL_ADMIN,d.UserRole.APPROVER,d.UserRole.PRIVATE_VIEWER]),b=new Set(f);b.add(d.UserRole.APPROVER);var C=new Set(b),O=new Set(b),w=this.props,V=w.approvalAdmins,F=w.groupMembers,x=w.getGroupMembers,G=w.updateNotification,z=w.privateApprovalsFeatureEnabled,$=this.state.approvalPrivateViewers,Z=function(){var e=t.state,a=e.error,r=e.errorMessage,n=e.displayAccessRequestModal;a&&(r||t.props.updateNotification({content:o.createElement("div",null,"Unable to load details for this approval request. Please retry after sometime and",o.createElement("a",{target:"blank",href:"https://tt.amazon.com/quicklink/Q000299572"},"contact us"),"if the issue still persists."),type:"alert",status:"error"}),r.startsWith("You do not have permission to access this approval")||t.props.updateNotification({content:r,type:"alert",status:"error"}),n||t.props.updateNotification({content:o.createElement("div",{className:"access-request-notification"},r+" or use the button below to request access.",o.createElement("br",null),o.createElement(s.Button,{className:"awsui-button-icon",onClick:function(){return t.setState({displayAccessRequestModal:!0})}},"Request Access")),type:"alert",status:"error"}))};if(!this.state.approvalPlanloading&&this.state.approvalPlan&&this.state.approvalPlan.length>0&&(this.state.approvalPlan.forEach(function(a){a&&a.length>0&&a.forEach(function(a){a.route&&a.approvers&&a.approvers.length>0&&a.approvers.forEach(function(a){a.forEach(function(a){a.assignmentStatus===m.ActorAssignmentStatus.APPROVER_PENDING&&(r.pendingActors.push(o.createElement("div",{className:"userCard-Viewer",key:a.id},o.createElement(R.default,{actor:a.actor,delegate:a.delegateAssignee,internalProps:{showDelete:!1,escalatedTo:a.escalatedTo,escalatedAt:a.escalatedAt,approvalStatus:t.state.approvalFull.approval.status}}))),r.pendingApprovers.push(a)),a.assignmentStatus===m.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION&&(e="Approval Conditions",r.messages.push(o.createElement("div",{key:a.id,className:"message-view"},o.createElement(oe,{displayName:a.actor.displayName,key:a.id,actionByActor:a.actionBy,approverActor:a.actor,comments:a.approveCondition,dateCreated:a.decisionMadeOn,alias:a.actor.alias}))))})})})}),0===this.messages.length&&this.state.correspondenceList&&this.state.correspondenceList.length>0)){var ee=this.state.correspondenceList[this.state.correspondenceList.length-1];e="Last Correspondence",r.messages.push(o.createElement("div",{key:ee.id,className:"message-view"},o.createElement(oe,{dateCreated:ee.createdAt,comments:ee.comment,displayName:ee.createdBy.displayName,key:ee.id,alias:ee.createdBy.alias})))}if(this.state.loading)return o.createElement("section",{className:"wrapper createApprovals"},o.createElement("section",{className:"content-column-item longPage "},o.createElement("div",{className:"element-wrapper"},o.createElement("div",{className:"awsui loadingApprovalDetails",id:"basicInfo"},o.createElement(s.Modal,{id:"accessRequestModal",size:"medium",visible:this.state.displayAccessRequestModal,onDismiss:function(){t.setState({displayAccessRequestModal:!1}),Z()},header:"Request Viewer Access",content:o.createElement("span",null,this.state.accessRequestSuccess?o.createElement(s.Flash,{type:"success",dismissible:!1,visible:this.state.accessRequestSuccess,content:this.state.accessRequestResponseMessage}):o.createElement(s.Flash,{type:"error",dismissible:!1,visible:null!=this.state.accessRequestSuccess,content:this.state.accessRequestResponseMessage}),o.createElement("div",null,"You do not have permission to access this approval. Please contact the requester or use the button below to request access."),o.createElement("br",null),o.createElement("div",null,"Enter reason for access request below and click Send. (Note: Clicking send will send an email to the requester with the comments entered.)"),o.createElement(s.Textarea,{rows:1,value:this.state.accessRequestComments,onChange:this.captureAccessRequestComments})),footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement(s.Button,{variant:"primary",onClick:this.sendAccessRequest},"Send"))})))));var te=this.state,re=te.approvalFull,se=te.template;re.attributeList.forEach(function(e){e._saving=!1,e._editing=!1,e._type="approval",e._unsave=!1,e._isValid=!0});var le={ActorCard:R.default,DragDropContext:Q.DragDropContext,Droppable:Q.Droppable,MenuItem:j.MenuItem,PeopleSearch:W.default,threshold:150,getGroupMembers:x,groupMembers:F,setNotification:G},ce=re.approval,pe=ce.userRole,ue=ce.routeLockedForRequester,de=ce.routeLockedForApprover,me=ce.status,fe=ce.lockApprovalAdminSection,Ee=ce.disableCopyToNewOnApprovals,he=ce.privateApproval,ve=b.has(pe),Ae=this.props.privateApprovalsFeatureEnabled&&he,ge=o.createElement(s.ColumnLayout,null,o.createElement("div",{className:"awsui-util-font-size-1 awsui-util-label"},"Only the following roles can view key details and attachments marked as private, private summaries, or the audit log."),o.createElement("div",{className:"awsui-util-mv-s awsui-util-spacing-m-s privacy-role-badges"},o.createElement(s.Badge,null,"Approval requester"),o.createElement(s.Badge,null,"Approver (in plan)"),o.createElement(s.Badge,null,"Private viewer"),o.createElement(s.Badge,null,"Approval admin"))),Te=this.state.privateApproval?"Private notes are only visible to Requesters, Approvers, Private Viewers, and Admins.":"Notes will only be visible to Requesters, Approvers, and Admins.",ye=o.createElement(s.Modal,{visible:this.state.privacyConfirmModalOpen,header:"Unmark as private?",onDismiss:function(){t.setState({privacyConfirmModalOpen:!1,privateApproval:!0})},footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement(s.Button,{variant:"link",onClick:function(){return t.setState({privacyConfirmModalOpen:!1,privateApproval:!0})}},"Cancel"),o.createElement(s.Button,{variant:"primary",onClick:function(){return t.saveBasicDetails()}},"Confirm"))},o.createElement("p",{className:"awsui-util-pb-s"},o.createElement("b",null,"Are you sure you want to unmark this request as including private information?")),o.createElement("ul",{className:"list-override awsui-util-font-size-1"},o.createElement("li",null,o.createElement("b",null,"Private notes:")," Private notes will be visible only to Requesters, Approvers, and Admins."),o.createElement("li",null,o.createElement("b",null,"Key details and attachments:")," All key details and attachments previously marked as private will now be visible to all roles on this approval."),o.createElement("li",null,o.createElement("b",null,"Approval Private Viewers:")," All Approval Private Viewers will be made Approval General Viewers.")));me!==m.ApprovalStatus.PENDING&&me!==m.ApprovalStatus.DRAFT&&me!==m.ApprovalStatus.ON_HOLD||(b.has(pe)||pe===d.UserRole.LEGAL_COUNSEL)&&(this.allowLegalCounselUpdate=!0),this.messages.length>0&&this.pendingActors.length>0&&(n=2),ue?u=q.POPOVER_MESSAGE.ROUTE_LOCKED_FOR_REQUESTER:de&&(u=q.POPOVER_MESSAGE.ROUTE_LOCKED_FOR_APPROVER);var _e=!re.approval.invalidated&&re.approval.status===m.ApprovalStatus.APPROVED||re.approval.status===m.ApprovalStatus.APPROVED_WITH_CONDITION;return o.createElement(K,{readOnly:this.state.disableBasicDetails},o.createElement("section",{className:(this.state.tourRunning?"tour-running":"")+" wrapper createApprovals"},o.createElement("div",{className:"element-wrapper"},o.createElement("div",{className:"navigationBar1 navigationBar1-custom"},!this.state.tourRunning&&o.createElement("ul",{className:"create-nav-short"},o.createElement("li",{className:"completed"},o.createElement(A.Link,{activeClass:"active",offset:-120-a,to:"details-basic",spy:!0,smooth:!0,duration:500},o.createElement("span",null,"Basic Details"),o.createElement("i",{className:"fa fa-info-circle"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{activeClass:"active",offset:-120-a,to:"KeyDetailsContainerKeyDetails",spy:!0,smooth:!0,duration:500},o.createElement("span",null,"Key Details"),o.createElement("i",{className:"fa fa-file"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{offset:-120-a,activeClass:"active",to:"Sequence",spy:!0,smooth:!0,duration:500},o.createElement("span",null,"Approval Plan"),o.createElement("i",{className:"fa fa-users"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{offset:-120-a,activeClass:"active",to:"ViewerContainer",spy:!0,smooth:!0,duration:500},o.createElement("span",null,"Viewers"),o.createElement("i",{className:"fa fa-eye"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{offset:-120-a,activeClass:"active",to:"AttachmentsContainer",spy:!0,smooth:!0,duration:500},o.createElement("span",null,"Attachments"),o.createElement("i",{className:"fa fa-file"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{activeClass:"active",to:"QuestionaireContainer",spy:!0,smooth:!0,offset:-120-a,duration:500},o.createElement("span",null,"Questionnaire"),o.createElement("i",{className:"fa fa-cog"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{activeClass:"active",offset:-120-a,to:"RelatedApprovalsContainer",spy:!0,smooth:!0,duration:500},o.createElement("span",null,"Related/Tags"),o.createElement("i",{className:"fa fa-clipboard"}),o.createElement("div",{className:"_pointer"}))),o.createElement("li",{className:"completed"},o.createElement(A.Link,{activeClass:"active",to:"HistoryContainer",spy:!0,smooth:!0,offset:-120-a,duration:500},o.createElement("span",null,"History"),o.createElement("i",{className:"fa fa-history"}))),o.createElement("li",{className:"dropdown-filter dropdown correspondence"},o.createElement("span",{onClick:this.toggleCorrespondenceWrapper},o.createElement(m.Notification,{count:this.state.unreadCount}),"Correspondence (",this.state.correspondenceCount,") and request for info")),o.createElement("div",{className:this.state.correspondenceWrapperActive?"correspondence-display correspondenceWidth":"correspondence-hidden"},this.state.approvalFull.approval&&o.createElement(l.default,{isCorrespondenceActive:this.state.correspondenceActive,isRfiActive:this.state.rfiActive,openRfiTab:this.openRfiTab,openCorrespondenceTab:this.openCorrespondenceTab,toggleCorrespondenceWrapper:this.toggleCorrespondenceWrapper,approvalFull:this.state.approvalFull,approvalId:this.state.approvalFull.approval.id,correspondenceItemList:this.state.correspondenceList,onCorrespondenceChange:this.handleCorrespondenceChange,approvalState:this.state.approvalFull.approval.status,viewers:this.state.approvalFull.viewerList,approvers:this.state.approvalPlan||[],requester:this.state.approvalFull.requester.actor,legalCounselList:this.state.approvalFull.legalCounselList?this.state.approvalFull.legalCounselList:[],endedAt:this.state.approvalFull.approval.endedAt,invalidatedAt:this.state.approvalFull.approval.invalidatedAt,privateApprovalsFeatureEnabled:this.props.privateApprovalsFeatureEnabled}))),this.state.approvalFull.approval&&!this.state.tourRunning&&o.createElement(m.ApprovalDetails,{correspondencecheckBoxChange:this.onCorrespondenceCheckBoxChange,createdAt:this.state.approvalFull.approval.createdAt,id:this.state.approvalFull.approval.id,externalId:this.state.approvalFull.approval.externalId,invalidatedAt:this.state.approvalFull.approval.invalidatedAt,invalidatedBy:this.state.approvalFull.approval.invalidatedBy,invalidatedByLink:k.getActorLink(this.state.approvalFull.approval.invalidatedBy),neededOnDate:this.state.approvalFull.approval.neededOnDate,onCloneClick:!(se&&se.disableCopyToNewOnApprovals)&&!Ee&&this.createCloneApproval,onGeneratePdf:this.generatePDF,parentId:this.state.approvalFull.approval.parentId,privilegedAndConfidential:this.state.approvalFull.approval.privilegedAndConfidential,recommended:this.state.approvalFull.approval.recommended,requesterAlias:this.state.approvalFull.requester.actor.alias,requesterDisplayName:this.state.approvalFull.requester.actor.displayName,requesterLink:k.getActorLink(this.state.approvalFull.requester.actor),status:this.state.approvalFull.approval.status,subStatus:this.state.approvalFull.approval.subStatus,sourceSystemId:this.state.approvalFull.approval.sourceSystemId,templateId:this.state.approvalFull.approval.templateId,userRole:pe,isEscalationEnabled:this.state.isEscalationEnabled,privateApprovalsFeatureEnabled:this.props.privateApprovalsFeatureEnabled,privateApproval:this.state.approvalFull.approval.privateApproval,escalationPeriodInDays:this.state.approvalFull.approval.escalationPeriodInDays}),o.createElement("div",{className:"awsui-util-clearfix"}),this.state.hasValidLinkback&&o.createElement("div",{className:"awsui linkBackOuterContainer"},o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:"awsui-util-p-m awsui-util-pb-n"},o.createElement("div",{className:"awsui-util-p-l"},o.createElement(I.Linkback,{href:this.state.linkbackUrl,text:"Back to "+this.state.sourceSystemName})))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("a",{id:"endApprovalHeader",className:"hiddenText"},"."),o.createElement("div",{className:"awsui-util-clearfix"}))," ",o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:"row approvalWaiting awsui",id:"basicInfo"},o.createElement("div",{className:"wrapper",id:"detailsWrapper"},o.createElement("div",{className:"row quickview",style:{marginTop:a+"px"}},o.createElement(s.ColumnLayout,{columns:n},o.createElement("div",{"data-awsui-column-layout-root":"true"},this.state.approvalFull.approval.status==m.ApprovalStatus.PENDING&&this.pendingActors.length>0&&o.createElement(ne,{pendingActors:this.pendingActors,columns:n,viewAllOnclick:this.displayCurrentsApproversModal,displayRemindersModal:this.displayRemindersModal,displayEscalationModal:this.displayEscalationModal,sendPermission:this.state.canSendReminder,userAlias:document.getElementById("userAlias").value,isEscalationEnabled:this.state.isEscalationEnabled}),this.messages.length>0&&o.createElement(ie,{messages:this.messages,viewAllOnclick:this.displayApprovalConditionsModal,columns:n,headerText:e,count:this.state.unreadCount}),o.createElement("div",{className:"awsui-util-clearfix"}))),ye,o.createElement(s.Modal,{id:"quickViewModal",size:"large",content:this.state.quickViewContent,visible:this.state.displayQuickViewModal,header:this.state.quickViewModalTitle,onDismiss:function(e){t.setState({displayQuickViewModal:!1,quickViewModalTitle:"",quickViewContent:""})}})),o.createElement("div",{className:"approvaldetail-screen-content-container"},o.createElement("div",{className:"_colfull"},o.createElement("div",{className:"form-group",id:"details-basic"},o.createElement("h2",{className:"section-title"},"Basic Details",o.createElement("span",{className:b.has(pe)?"":"displayNone"},o.createElement("span",{className:"detailsEditIcons "+(this.state.disableBasicDetails?"":"displayNone"),onClick:function(e){return t.enableInlineEditing("Basic")}},o.createElement(s.Tooltip,{text:"Edit Basic Details"},o.createElement("i",{className:"fa fa-pencil fa-lg"}))),o.createElement(s.Tooltip,{position:"bottom",text:"Cancel"},o.createElement("span",{className:"detailsEditIcons "+(this.state.disableBasicDetails?"displayNone":""),onClick:function(e){return t.cancelInlineEditing("Basic")}},o.createElement("i",{className:"fa fa-times fa-lg"}))),o.createElement(s.Tooltip,{position:"bottom",text:"Save"},o.createElement("span",{className:"detailsEditIcons "+(this.state.disableBasicDetails?"displayNone":""),onClick:function(e){return t.checkPrivacyType()}},o.createElement("i",{className:"fa fa-check fa-lg"}))))),o.createElement(s.ColumnLayout,{columns:this.state.approvalFull.approval.status==m.ApprovalStatus.ON_HOLD?4:3},o.createElement("div",{"data-awsui-column-layout-root":"true"},o.createElement(s.FormField,{label:o.createElement("b",null,"Title")},o.createElement(s.Input,{autofocus:!0,onChange:function(e){t.setState({approvalTitle:e.detail.value})},invalid:this.state.isTitleInValid,value:this.decodeHtml(this.state.approvalTitle),disabled:this.state.disableBasicDetails})),o.createElement(s.FormField,{label:o.createElement("b",null,"Date Needed By"),stretch:!0},o.createElement("div",{className:"DatePickerContainer"},!this.state.disableBasicDetails&&o.createElement(y.default,{inputProps:{className:"awsui-input"},formatDate:N.formatDate,parseDate:N.parseDate,value:new Date(this.state.neededOnDate),disabled:!0,dayPickerProps:{disabledDays:{before:new Date}},interactionDisabled:!0,onDayChange:function(e,a){t.setState({neededOnDate:e})},placeholder:"MM/DD/YYYY"}),this.state.disableBasicDetails&&o.createElement(s.Input,{value:J(this.state.approvalFull.approval.neededOnDate).format("MM/DD/YYYY"),disabled:!0}))),this.state.approvalFull.approval.status==m.ApprovalStatus.ON_HOLD&&o.createElement(s.FormField,{label:o.createElement("b",null,"On Hold Until ",o.createElement("span",{style:{color:"#b1b1b1"}},"(optional)")),stretch:!0},o.createElement("div",{className:"DatePickerContainer"},this.state.disableBasicDetails?o.createElement(s.Input,{value:this.state.approvalFull.approval.onHoldUntil?J(this.state.approvalFull.approval.onHoldUntil).format("MM/DD/YYYY"):"None",disabled:!0}):o.createElement(y.default,{inputProps:{className:"awsui-input"},formatDate:N.formatDate,parseDate:N.parseDate,value:null==this.state.approvalFull.approval.onHoldUntil?"None":new Date(this.state.onHoldUntil),disabled:!0,dayPickerProps:{initialMonth:J(new Date).add(1,"day").toDate(),disabledDays:{before:J(new Date).add(1,"day").toDate()}},interactionDisabled:!0,onDayChange:function(e,a){t.setState({onHoldUntil:e})},placeholder:"MM/DD/YYYY"}))),o.createElement(s.FormField,{label:o.createElement("b",null,"Priority")},!this.state.disableBasicDetails&&o.createElement(s.Select,{options:S.PRIORITY_TYPE_OPTIONS,selectedId:this.state.approvalPriority,onChange:function(e){t.setState({approvalPriority:e.detail.selectedId})},disabled:this.state.disableBasicDetails}),this.state.disableBasicDetails&&o.createElement(s.Input,{value:S.PRIORITY_TYPE_OPTIONS.filter(function(e){return e.id===t.state.approvalPriority})[0].label,disabled:!0})))),this.props.privateApprovalsFeatureEnabled&&o.createElement(s.ColumnLayout,null,o.createElement("div",{"data-awsui-column-layout-root":"true"},o.createElement(s.FormField,{label:o.createElement("b",null,"Private"),description:"If turned on, key details and attachments can be marked as private within this approval request. The notes and audit log will also be treated as private."},o.createElement("div",{className:"flex private-form"},o.createElement(s.Toggle,{checked:!!this.state.privateApproval,label:"This approval includes private information",disabled:!b.has(pe)||this.state.disableBasicDetails,onChange:function(e){t.setState({privateApproval:e.detail.checked})}}),o.createElement(s.Popover,{className:"awsui-util-ph-xs",content:ge,header:o.createElement("h2",null,"Who can view private information?")},o.createElement("div",{className:"awsui-util-status-info awsui-util-font-size-0"},"Who can view private info?")))))),this.state.hasPermissionedContent&&o.createElement(s.ColumnLayout,null,o.createElement("div",{"data-awsui-column-layout-root":"true","data-testid":"detail-page__private-notes-container"},o.createElement(s.FormField,{label:o.createElement("span",null,this.state.privateApproval?o.createElement(o.Fragment,null,o.createElement("b",null,"Private Notes"),"Â (Optional)"):o.createElement(o.Fragment,null,o.createElement("b",null,"Notes"),"Â (Optional)")),description:Te}),o.createElement(s.ColumnLayout,null,o.createElement("div",{className:"col-12"},o.createElement(T.default,{value:this.state.permissionedContent||this.props.permissionedContent&&this.props.permissionedContent.value,onChange:function(e){t.setState({permissionedContent:e})},config:{removePlugins:"elementspath",extraPlugins:"autogrow",autoGrow_onStartup:!0,autoGrow_minHeight:144,readOnly:this.state.disableBasicDetails}}),o.createElement(_.default,{currentCharLength:this.state.permissionedContent.length,maxCharLength:S.PERMISSIONED_CONTENT_LIMIT}))))),o.createElement(s.ColumnLayout,null,o.createElement("div",{"data-awsui-column-layout-root":"true"},o.createElement(s.FormField,{label:o.createElement("span",null,o.createElement("b",null,"Summary"))}),o.createElement(s.ColumnLayout,null,o.createElement("div",{className:"col-12"},o.createElement(T.default,{value:this.state.approvalSummary,onChange:function(e){t.setState({approvalSummary:e})},config:{removePlugins:"elementspath",extraPlugins:"autogrow",autoGrow_onStartup:!0,autoGrow_minHeight:200,readOnly:this.state.disableBasicDetails}})))))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{style:{marginLeft:"-20px"},id:"KeyDetailsContainerKeyDetails"},o.createElement(E.default,{isEditPage:!1,showEditOption:b.has(pe),showRulesInfo:this.state.approvalFull.approval.status===m.ApprovalStatus.DRAFT,approvalId:this.state.approvalFull.approval.id,attributes:this.state.approvalFull.attributes,privateApprovalsFeatureEnabled:z,approvalIsPrivate:this.state.approvalFull.approval.privateApproval})),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("a",{id:"Sequence"}),o.createElement("div",{className:"row basic-info-keydetails"},o.createElement("div",{className:"approval-plan-container",id:"ApprovalPlanContainer"},o.createElement("div",{className:"approvaldetails-readonly-view1"},o.createElement("h2",{className:"section-title "},o.createElement("div",{id:"approval-plan-header",className:"approval-plan-header"},"Approval Plan",o.createElement("span",{className:this.state.approvalFull.approval.userRole===d.UserRole.APPROVAL_ADMIN||this.state.approvalFull.approval.approvalPlanChangeable&&b.has(pe)?"":"displayNone"},o.createElement("span",{className:"detailsEditIcons "+(this.state.disableApprovalPlan?"":"displayNone"),onClick:function(e){return t.enableInlineEditing("ApprovalPlan")}},o.createElement(s.Tooltip,{text:"Modify Approval Plan"},o.createElement("i",{className:"fa fa-pencil fa-lg"}))),o.createElement("span",{onClick:function(e){t.cancelInlineEditing("ApprovalPlan"),t.saveApprovalPlan(!0)},className:"detailsEditIcons "+(this.state.disableApprovalPlan?"displayNone":"")},o.createElement(s.Tooltip,{text:"Save Approval Plan"},o.createElement("i",{className:"fa fa-check fa-lg"}))),o.createElement(s.Tooltip,{position:"bottom",text:"Cancel"},o.createElement("span",{className:"detailsEditIcons "+(this.state.disableApprovalPlan?"displayNone":""),onClick:function(e){return t.cancelInlineEditing("ApprovalPlan")}},o.createElement("i",{className:"fa fa-times fa-lg"}))),o.createElement(s.Tooltip,{position:"bottom",text:"Help"},o.createElement("span",{className:"detailsEditIcons ",onClick:function(e){return t.setState({tourRunning:!0})}},o.createElement("i",{className:"fa fa-question-circle fa-lg"})))),u&&o.createElement("span",{className:"detailsEditIcons"},o.createElement(s.Popover,{triggerType:"custom",content:u,size:"large"},o.createElement("i",{className:"fa fa-lock fa-lg"}))))),o.createElement("div",{className:this.state.disableApprovalPlan?"":"approvalplan-displayeditview1"},o.createElement(g.default,{approvalRecommended:this.state.approvalFull.approval.recommended,approvalRecommendedForSwimlane:this.state.approvalFull.approval.recommendedForSwimlane,approvalStatus:this.state.approvalFull.approval.status,approvalRequestId:this.state.approvalFull.approval.id,approvalTemplateId:this.state.approvalFull.approval.templateId,canEdit:this.state.canEdit,issueFolder:!this.state.approvalFull.approval.issueCreated&&this.state.template&&this.state.template.issueFolder,routesByLevel:this.state.approvalPlan,readOnly:this.state.disableApprovalPlan,currentUser:this.state.approvalFull.requester.actor.alias,requester:this.state.approvalFull.requester.actor,approvalPlanVersion:this.state.approvalPlanVersion,showRulesInfo:this.state.approvalFull.approval.status===m.ApprovalStatus.DRAFT,tourLifecycle:this.state.tourLifecycle,tourIndex:this.state.stepIndex,tourAction:this.state.tourAction,tourRunning:this.state.tourRunning,groupMembers:F,getGroupMembers:x,threshold:150}))))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:"row basic-info-keydetails",id:"ViewerContainer"},o.createElement("h2",{className:"section-title"},"Approval General Viewers",o.createElement("span",{className:1==this.displayViewersEditIcon?"":"displayNone"},o.createElement("span",{onClick:function(e){return t.enableInlineEditing("Viewers")},className:"detailsEditIcons "+(0==this.state.disableViewers?"displayNone":"")},o.createElement(s.Tooltip,{text:"Modify Viewers"},o.createElement("i",{className:"fa fa-pencil fa-lg"}))),o.createElement("span",{onClick:function(e){return t.cancelInlineEditing("Viewers")},className:"detailsEditIcons "+(1==this.state.disableViewers?"displayNone":"")},o.createElement(s.Tooltip,{text:"Close"},o.createElement("i",{className:"fa fa-check fa-lg"}))))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement(v.default,{approvalRequestId:this.state.approvalFull.approval.id,viewers:this.state.approvalFull.viewerList,readonlyView:this.state.disableViewers,groupMembers:F,getGroupMembers:x,threshold:150})),o.createElement("div",{className:"awsui-util-clearfix"}),Ae&&o.createElement(o.Fragment,null,o.createElement("div",{className:"row basic-info-keydetails",id:"PrivateViewersContainer"},o.createElement("h2",{className:"section-title"},"Approval Private Viewers",o.createElement("span",{className:P.has(pe)?"":"displayNone"},o.createElement("span",{onClick:function(e){return t.enableInlineEditing("PrivateViewers")},className:"detailsEditIcons "+(0==this.state.disablePrivateViewers?"displayNone":"")},o.createElement(s.Tooltip,{text:"Modify Private Viewers"},o.createElement("i",{className:"fa fa-pencil fa-lg"}))),o.createElement("span",{onClick:function(e){return t.cancelInlineEditing("PrivateViewers")},className:"detailsEditIcons "+(1==this.state.disablePrivateViewers?"displayNone":"")},o.createElement(s.Tooltip,{text:"Close"},o.createElement("i",{className:"fa fa-check fa-lg"}))))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement(m.ActorContainer,i({},le,{actors:$||[],droppableId:"ApprovalPrivateViewers",enableDynamicTiles:!1,readonlyView:this.state.disablePrivateViewers,removeActor:function(e){t.removePrivateViewer(e.id)},addActor:function(e){var a=e.type,r=e.alias,n=e.groupName,i="PRINCIPAL"===a?r:n;t.addPrivateViewer(t.state.approvalFull.approval.id,a,i)},secondaryText:"Add approval private viewers"})))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:"row basic-info-keydetails",id:"AdminsContainer"},o.createElement("h2",{className:"section-title"},"Approval Admins",o.createElement("span",{className:!fe&&f.has(pe)||d.UserRole.APPROVAL_ADMIN===pe?"":"displayNone"},o.createElement("span",{onClick:function(e){return t.enableInlineEditing("Admins")},className:"detailsEditIcons "+(0==this.state.disableAdmins?"displayNone":"")},o.createElement(s.Tooltip,{text:"Modify Admins"},o.createElement("i",{className:"fa fa-pencil fa-lg"}))),o.createElement("span",{onClick:function(e){return t.cancelInlineEditing("Admins")},className:"detailsEditIcons "+(1==this.state.disableAdmins?"displayNone":"")},o.createElement(s.Tooltip,{text:"Close"},o.createElement("i",{className:"fa fa-check fa-lg"})))),fe&&o.createElement("span",{className:"detailsEditIcons"},o.createElement(s.Popover,{triggerType:"custom",content:q.POPOVER_MESSAGE.APPROVAL_ADMINS,size:"large"},o.createElement("i",{className:"fa fa-lock fa-lg"})))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement(m.ActorContainer,i({},le,{actors:V&&V.admins||[],droppableId:"ApprovalAdmins",enableDynamicTiles:!1,readonlyView:this.state.disableAdmins,removeActor:function(e){return t.props.deleteApprovalAdmin({approvalId:t.state.approvalFull.approval.id,approvalAdminId:e.id})},addActor:function(e){var a=e.type,r=e.alias,n=e.groupName,i="PRINCIPAL"===a?r:n;t.props.addApprovalAdmin({approvalId:t.state.approvalFull.approval.id,type:a,actorId:i})},secondaryText:"Add approval admins"}))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:"row basic-info-keydetails",id:"AttachmentsContainer"},o.createElement("h2",{className:"section-title"},"Attachments",o.createElement("span",{className:ve?"":"displayNone"},o.createElement("span",{onClick:function(e){return t.enableInlineEditing("Attachments")},className:"detailsEditIcons "+(0==this.state.disableAttachments?"displayNone":"")},o.createElement(s.Tooltip,{text:"Update Attachments"},o.createElement("i",{className:"fa fa-pencil fa-lg"}))),o.createElement("span",{onClick:function(e){return t.cancelInlineEditing("Attachments")},className:"detailsEditIcons "+(1==this.state.disableAttachments?"displayNone":"")},o.createElement(s.Tooltip,{text:"Go Back"},o.createElement("i",{className:"fa fa-check fa-lg"}))))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement(c.default,{approvalRequestId:this.state.approvalFull.approval.id,readOnly:this.state.disableAttachments,documents:this.state.approvalFull.documentList,endedAt:this.state.approvalFull.approval.endedAt,approvalStatus:this.state.approvalFull.approval.status,invalidatedAt:this.state.approvalFull.approval.invalidatedAt,privateApprovalsFeatureEnabled:this.props.privateApprovalsFeatureEnabled,approvalIsPrivate:this.state.approvalFull.approval.privateApproval})),o.createElement("div",{className:"row basic-info-keydetails",id:"QuestionaireContainer"},o.createElement("h2",{className:"section-title"},"Questionnaire"),o.createElement(s.ColumnLayout,{columns:1},o.createElement("div",{"data-awsui-column-layout-root":"true"},o.createElement(s.FormField,null,o.createElement("div",{style:{display:"block"}},o.createElement(D.default,{readOnly:!this.allowLegalCounselUpdate,approvalRequestId:this.state.approvalFull.approval.id,legalCounsel:this.state.approvalFull.legalCounselList.length>0?this.state.approvalFull.legalCounselList[0]:null}))))),o.createElement(s.ColumnLayout,{columns:1},o.createElement("div",{"data-awsui-column-layout-root":"true"},o.createElement(s.FormField,{label:"This is a request to approve a transaction with committed revenue or spend over $100 million in value.",description:""},o.createElement(s.RadioGroup,{items:[{value:"Yes",label:"Yes",disabled:!b.has(pe)},{value:"No",disabled:!b.has(pe),label:"No"}],value:this.state.approvalFull.approval.transactionAboveUsd100M?"Yes":"No",onChange:function(e){t.saveApprovalAttribute("4","Yes"==e.detail.value)}})))),o.createElement(s.ColumnLayout,{columns:1},o.createElement("div",{"data-awsui-column-layout-root":"true"},o.createElement(s.FormField,{label:"Can a Requestor approve his/her own request as a member of a group? (This is set by the requestor, and cannot be changed once the approval has started)",description:""},o.createElement(s.RadioGroup,{items:[{value:"YES",label:"Yes",disabled:!0},{value:"NO",label:"No",disabled:!0}],value:this.state.approvalFull.approval.blockRequesterFromMakingApproverDecision?"NO":"YES"}))))),o.createElement("div",{style:{marginLeft:"-20px"},className:"row basic-info-keydetails",id:"RelatedApprovalsContainer"},o.createElement(H.ApprovalRelationsComponent,{readOnly:!0,showEditOption:C.has(this.state.approvalFull.approval.userRole),approvalId:this.state.approvalFull.approval.id})),o.createElement("div",{style:{marginLeft:"-20px"},className:"row",id:"TagsContainer"},o.createElement(Y.TagsComponent,{initialReadOnly:!0,showEditOption:O.has(this.state.approvalFull.approval.userRole),approvalId:this.state.approvalFull.approval.id})),o.createElement("div",{className:"row basic-info-keydetails",id:"HistoryContainer"},o.createElement("h2",{className:"section-title"},"Approval History"),o.createElement(U.default,{approvalBasicDetails:this.state.approvalFull.approval,id:this.state.approvalFull.approval.id,isTemplate:!1})),o.createElement("div",{className:"row basic-info-keydetails",id:"HistoryContainer"},o.createElement(X.AuditLog,{hashKey:this.state.approvalFull.approval.id,attributeList:this.state.approvalFull.attributeList,privateApproval:this.state.approvalFull.approval.privateApproval,actorList:this.getApprovalActorListForAuditLog(re,V)}))))),o.createElement(s.Modal,{id:"approvalCancelConfirmationModel",visible:1==this.state.displayCancelConfirmationModel,header:o.createElement("div",null,o.createElement("span",null,"Cancel Approval Request")," ",this.getIcon(d.DisplayApprovalAction.CANCEL)),onDismiss:function(e){t.setState({displayCancelConfirmationModel:!1})},footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement("button",{onClick:function(e){t.setState({displayCancelConfirmationModel:!1})},className:"btn btn-alert"},"Go Back"),o.createElement("button",{onClick:this.approvalSaveClick,className:"btn btn-primary"},"Cancel Request"))},o.createElement("span",null,"Please note that cancelling this request will prevent others from adding ",this.getBoldText("correspondence")," and ",this.getBoldText("attachments"),". After cancelling there is no way to reactivate the request. Are you sure you want to cancel this request?")),o.createElement(s.Modal,{id:"approvalCommentsModal",size:"large",visible:this.state.displayCommentsModal,header:o.createElement("div",null,this.state.commentsModalTitle," ",this.getIcon(this.state.commentsModalTitle),o.createElement("p",{className:"modalSubtitle"},this.modalSubTitleText)),onDismiss:function(e){t.setState({displayCommentsModal:!1,commentsModalTitle:""})},footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement("button",{onClick:this.approvalCancelClick,className:"btn btn-alert"},this.modalCancelButtonText),o.createElement("button",{onClick:this.approvalSaveClick,className:"btn btn-primary"},this.modalSaveButtonText," "))},o.createElement("span",null,o.createElement(s.Textarea,{placeholder:"Add comments...",invalid:this.state.approvalCommentsInvalid,value:this.state.approvalComments,onChange:this.captureApprovalComments,rows:5}))),o.createElement(s.Modal,{id:"approvalOnHoldModal",visible:this.state.displayOnHoldModal,header:o.createElement("div",null,"On Hold Until ",o.createElement("i",{style:{color:"grey"},className:"fa fas fa-pause-circle fa-lg"}),o.createElement("p",{className:"modalSubtitle"},"You may optionally select an on hold until date. This approval request will be automatically resumed on the chosen date.")),onDismiss:function(e){t.setState({displayOnHoldModal:!1})},footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement("button",{onClick:this.onHoldCancelClick,className:"btn btn-alert"},this.modalCancelButtonText),o.createElement("button",{onClick:this.onHoldSaveClick,className:"btn btn-primary"},"Save"))},o.createElement("span",null,o.createElement(s.FormField,{stretch:!0},o.createElement("div",{className:"DatePickerContainer",style:{height:"300px"}},o.createElement(y.default,{inputProps:{className:"awsui-input"},formatDate:N.formatDate,parseDate:N.parseDate,value:null==this.state.approvalFull.approval.onHoldUntil?"None":new Date(this.state.onHoldUntil),disabled:!0,dayPickerProps:{initialMonth:J(new Date).add(1,"day").toDate(),disabledDays:{before:J(new Date).add(1,"day").toDate()}},interactionDisabled:!0,onDayChange:function(e,a){t.setState({onHoldUntil:e})},placeholder:"MM/DD/YYYY"}))))),o.createElement(s.Modal,{id:"resumeApprovalModal",size:"large",visible:this.state.displayResumeModal,header:o.createElement("div",null,"Resume Approval ",o.createElement("i",{style:{color:"pink"},className:"fa fas fa-play-circle fa-lg"}),o.createElement("p",{className:"modalSubtitle"},"This approval will no longer be on hold. Approvers will be again be allowed to make decisions to approve or reject this approval. Please note the needed by date has not been changed, so you may wish to update it.")),onDismiss:function(e){t.setState({displayResumeModal:!1})},footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement("button",{onClick:this.resumeCancelClick,className:"btn btn-alert"},this.modalCancelButtonText),o.createElement("button",{onClick:this.resumeSaveClick,className:"btn btn-primary"},"Yes"))},o.createElement("span",null,o.createElement("p",null,"Are you sure you want to resume this approval?"))),o.createElement(s.Modal,{id:"copyToNewWarningModal",size:"large",visible:this.state.displayCopyToNewWarningModal,header:"You are trying to copy an approval that was originally created from a template",footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement("button",{onClick:function(e){t.setState({displayCopyToNewWarningModal:!1})},className:"btn btn-alert"},"Cancel"),o.createElement("button",{onClick:function(){t.setState({displayCopyToNewWarningModal:!1}),t.props.dispatch(L.createCloneApproval(t.state.approvalFull.approval.id))},className:"btn btn-primary"},"Copy Approval"))},o.createElement("p",null,"If you proceed, any applicable rules and updated content from the template will not be applied. Consider creating a new approval from the"," ",o.createElement("a",{href:"#",onClick:function(){return t.onClickTemplateIdFromCopyWarning(t.state.approvalFull.approval.templateId)}},"template (ID: ",this.state.approvalFull.approval.templateId,")")),this.getBoldText("Are you sure you want to proceed?")),o.createElement("div",{className:"awsui-util-clearfix"}))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement(p.default,{approvalId:this.state.approvalFull.approval.id}),o.createElement(M.default,{actorApproverId:this.actorApproverId,approvalId:this.state.approvalFull.approval.id,showTransferModal:this.state.showTransferModel,onDismissClick:this.onTransferModalDismiss}),o.createElement(h.default,{status:this.state.approvalFull.approval.status,onDelegateClick:this.onDelegateAction,approvalPlan:this.state.approvalPlan,onQuestionClick:this.openCorrespondenceTab,onRequestInformationClick:this.openRfiTab,userRole:this.state.approvalFull.approval.userRole,onTransferClick:this.onTransferAction,onHoldClick:this.onHoldAction,resumeClick:this.resumeAction,allowedRequesterActions:this.state.approvalFull.approval.allowedRequesterActions,onApprove:this.onApproveAction,onCancel:this.onCancelAction,onReject:this.onRejectAction,onApproveWithConditions:this.onApproveWithConditions,onRecommendApprove:this.onRecommendApprove,onRecommendReject:this.onRecommendReject,onRestart:this.onRestartAction,onInvalidate:this.onInvalidateAction,canInvalidate:_e,approvalId:this.state.approvalFull.approval.id})),o.createElement(B.default,{show:this.state.displayRemindersModal,approvers:this.pendingApprovers,cards:this.pendingActors,dismissHandler:this.dismissRemindersModal,refreshApproval:this.reloadApprovalPlan,approvalId:this.props.match.params.approvalId,priority:this.state.approvalPriority,userAlias:document.getElementById("userAlias").value,handleNotification:function(e,a,r,n){t.props.updateNotification({id:"reminders_sent",content:e,type:"alert",loading:a,status:r,duration:n})}}),this.state.isEscalationEnabled&&o.createElement(ae.default,{show:this.state.displayEscalationModal,approvers:this.pendingApprovers,cards:this.pendingActors,dismissHandler:this.dismissEscalationModal,refreshApproval:this.reloadApprovalPlan,approvalId:this.props.match.params.approvalId,priority:this.state.approvalPriority,userAlias:document.getElementById("userAlias").value,handleNotification:function(e,a,r,n){t.props.dispatch(G({value:{id:"escalation_sent",content:e,type:"alert",loading:a,status:r,duration:n}}))}}),o.createElement(m.Tour,{steps:S.TOUR_STEPS_APPROVAL_PLAN,run:this.state.tourRunning,endTour:this.endTour,publishMetrics:this.publishMetrics,nextStep:this.nextStep,stepIndex:this.state.stepIndex}))},ApprovalDetailComponent.prototype.componentDidMount=function(){A.scrollSpy.update()},ApprovalDetailComponent.prototype.fetchPrivateViewers=function(){var e=this,t={entityType:"APPROVAL",entityId:this.state.approvalFull.approval.id,roleName:d.UserRole.PRIVATE_VIEWER},a=new URLSearchParams;a.append("payload",JSON.stringify(t)),P.default.request({method:"get",url:S.SERVICE_ENDPOINTS+S.API_ROUTES.GET_ACTORS_BY_ROLE,params:a}).then(function(t){var a=t.data.data.actorOutputList;a.forEach(function(e){e.actor=e.userOutput}),e.setState({approvalPrivateViewers:a})}).catch(function(e){console.log(e)})},ApprovalDetailComponent.prototype.fetchUnreadCorrespondence=function(e){var t=this;P.default.get(d.ServiceEndPoints.getUnreadCorrespondence+e).then(function(e){var a=e.data;null!=a&&a.data&&t.setState({unreadCount:a.data.count});var r=a.data.count;document.title=0!=r?t.props.addTitle(document.title.startsWith("(")?"("+r+") "+document.title.substring(document.title.indexOf(")")+2)+" - ":"("+r+") "+document.title+" - "):t.props.addTitle(document.title.startsWith("(")?document.title.substring(document.title.indexOf(")")+2)+" - ":document.title+" - ")})},ApprovalDetailComponent.prototype.componentDidUpdate=function(e,t){var a=this,r=this.state,n=r.approvalFull,i=r.hasPermissionedContent,o=r.canEdit,s=r.loading,l=r.template,c=r.templateLoading,p=r.isBeingSaved,u=r.disableBasicDetails,f=(r.privateApproval,n&&n.approval);s||this.metricPageLatencyTimer.publishPageLatency(S.CLIENT_METRICS_METHOD_NAMES.APPROVAL_DETAILS),f&&f.status===m.ApprovalStatus.DRAFT&&this.props.history.replace("/Approval/Edit/"+this.state.approvalFull.approval.id);var E=f&&f.id,h=this.props.approvalAdmins,v=t.approvalFull&&t.approvalFull.approval.id;if(h.status!==m.Status.PENDING&&E&&E!==v&&this.props.getApprovalAdmins({approvalId:E}),f&&f.templateId&&"1"!==f.templateId&&!l&&!c){var A=f.templateId;this.setState({templateLoading:!0}),G.default({method:"GET_TEMPLATE_FULL",payload:JSON.stringify({templateId:A})}).then(function(e){var t=e.templateFull;return a.setState({template:t.template,templateLoading:!1})}).catch(function(){return a.setState({template:{},templateLoading:!1})})}var g=new Set([d.UserRole.APPROVER,d.UserRole.REQUESTER,d.UserRole.APPROVAL_ADMIN,d.UserRole.PRIVATE_VIEWER]),T=f&&f.userRole;!o&&f&&g.has(T)&&this.setState({canEdit:!0});var y=g.has(T);i!==y&&this.setState({hasPermissionedContent:y});var _=this.props,N=_.getPermissionedContent,R=_.permissionedContent,P=_.updateNotification;i&&f&&f.id&&N(f.id);var b=R&&R.status,C=e.permissionedContent&&e.permissionedContent.status,O=b!==C;O&&m.Status.SUCCESS;O&&b===m.Status.FAILURE&&P({content:"Private Summary update failed: "+R.error,type:"alert",status:"info"}),b===m.Status.FAILURE&&p&&u&&this.setState({disableBasicDetails:!1});var D=this.state,L=D.linkbackUrl,w=D.sourceSystemId;if(!D.hasValidLinkback&&n&&I.isValidLinkback(L,w,n.approval)&&this.setState({hasValidLinkback:!0}),h.status===m.Status.FAILURE&&h.status!==e.approvalAdmins.status){var M=Math.random();P({id:M,content:"Failed operation on Approval Admins: "+h.error,loading:!1,type:"alert",status:"error"}),this.setState({alertIds:this.state.alertIds.concat([M])})}},ApprovalDetailComponent.prototype.componentWillMount=function(){var e=this.props.location.search,t=new URLSearchParams(e),a=t.get("ssid"),r=t.get("linkback");this.setState({loading:!0,sourceSystemId:a,linkbackUrl:r,sourceSystemName:O.getSourceSystemName(a)}),this.loadApprovalRequest()},ApprovalDetailComponent.prototype.componentWillUnmount=function(){var e=this;document.title=this.props.addTitle(""),this.state.alertIds.forEach(function(t){return e.props.deleteNotification(t)}),this.props.removeTour("approvalDetailsPage"),this.props.clearPermissionedContent(),this.props.clearApprovalAdmins()},ApprovalDetailComponent.prototype.captureApprovalComments=function(e){this.setState({approvalComments:e.detail.value})},ApprovalDetailComponent.prototype.captureAccessRequestComments=function(e){this.setState({accessRequestComments:e.detail.value})},ApprovalDetailComponent.prototype.sendAccessRequest=function(){var e=this,t=new URLSearchParams;t.append("comment",this.state.accessRequestComments),t.append("approvalId",this.props.match.params.approvalId),P.default.post(d.ServiceEndPoints.accessRequest,t).then(function(t){if(t.data.errorMessage&&""!=t.data.errorMessage){var a=t.data.errorMessage;e.setState({accessRequestResponseMessage:"Access Request Failed: "+a.substr(0,a.indexOf("(errorId")),accessRequestSuccess:!1})}else e.setState({accessRequestResponseMessage:"Access Request has been successfully sent.",accessRequestSuccess:!0})},function(t){e.setState({accessRequestSuccess:!1,accessRequestResponseMessage:"An error has occurred: Please try again."})})},ApprovalDetailComponent.prototype.updateDelegation=function(e,t){console.log(e),console.log(t)},ApprovalDetailComponent.prototype.loadApprovalRequest=function(){var e=this,t=this.props.match.params.approvalId;try{this.fetchUnreadCorrespondence(t),P.default.get(d.ServiceEndPoints.getApprovalRelations+t).then(function(t){var a=t.data;a.isError||e.props.dispatch(ee.getRelatedApprovalRecordDetails(a.data,ee.FETCH_ALL_APPROVAL_RELATIONS))}),P.default.get(d.ServiceEndPoints.getTags+t).then(function(t){var a=t.data;a.isError||e.props.dispatch({type:te.FETCH_ALL_TAGS,payload:a.data})}),P.default.get(d.ServiceEndPoints.getApprovalFull+t+"&rev="+(new Date).getTime()).then(function(a){var r=a.data;if(r.isError){if(!r.errorMessage)throw r;if(e.setState({loading:!0,error:!0,errorMessage:r.errorMessage}),r.errorMessage.startsWith("You do not have permission to access this approval"))e.setState({displayAccessRequestModal:!0});else{var n=Math.random();e.props.updateNotification({id:n,content:r.errorMessage,type:"alert",loading:!1,status:"error"}),e.setState({alertIds:e.state.alertIds.concat([n])})}}else{var i=r.data,o=r.data.approval.title;document.title=e.props.addTitle("Approval - "+o+" - "+t+" - "),i.attributes=i.attributeList.reduce(function(e,t){return t._saving=!1,t._editing=!1,t._type="approval",e[t.id]=t,t._unsave=!1,t._isValid=!0,e},{}),e.setState({loading:!1,approvalFull:i,approvalTitle:r.data.approval.title,approvalSummary:r.data.approval.summary,neededOnDate:r.data.approval.neededOnDate,onHoldUntil:r.data.approval.onHoldUntil,approvalPriority:r.data.approval.priority,version:r.data.approval.version,approvalPlan:r.data.approvalPlan,approvalPlanloading:!1,correspondenceList:r.data.correspondenceList,correspondenceCount:r.data.correspondenceList&&r.data.correspondenceList.length,approvalPlanVersion:r.version,legalPrivilegedAdvice:r.data.approval.privilegedAndConfidential,canSendReminder:r.data.approval.allowedToSendReminder,isEscalationEnabled:r.data.approval.escalationEnabled,privateApproval:r.data.approval.privateApproval}),e.props.privateApprovalsFeatureEnabled&&e.fetchPrivateViewers(),"PENDING"===r.data.approval.status&&e.props.addTour({creator:"approvalDetailsPage",label:"Edit Approval Plan",start:e.startTour}),e.props.dispatch(x.setRuleEntity({value:{entityId:t,entityType:F.RuleEntityType.Request}})),e.props.dispatch(x.loadRules({value:{rules:i.ruleList.reduce(function(e,t){return t._isBeingDeleted=!1,e[t.ruleId]=t,e},{})}})),A.scrollSpy.update()}}).catch(function(t){e.setState({loading:!0,error:!0,errorMessage:null}),console.log(t)}),document.title.startsWith("(")||0==this.state.unreadCount||(document.title=this.props.addTitle("("+this.state.unreadCount+") "+document.title+" - "))}catch(e){throw e}},ApprovalDetailComponent.prototype.reloadApprovalPlan=function(){var e=this,t=this.props.match.params.approvalId;try{P.default.get(d.ServiceEndPoints.getApprovalFull+t+"&rev="+(new Date).getTime()).then(function(t){var a=t.data;if(a.isError){if(!a.errorMessage)throw a;e.setState({loading:!0,error:!0,errorMessage:a.errorMessage})}else{var r=a.data;e.setState({loading:!1,approvalFull:r,approvalPlan:a.data.approvalPlan,approvalPlanloading:!1,approvalPlanVersion:a.version,canSendReminder:a.data.approval.allowedToSendReminder,isEscalationEnabled:a.data.approval.isEscalationEnabled,privateApproval:a.data.approval.privateApproval})}}).catch(function(t){e.setState({loading:!0,error:!0,errorMessage:null}),console.log(t)})}catch(e){throw e}},ApprovalDetailComponent.prototype.handleCorrespondenceChange=function(e){e&&e.length>0&&this.setState({correspondenceCount:e.length,correspondenceList:e})},ApprovalDetailComponent.prototype.onDelegateAction=function(e){e==S.ActorType.PRINCIPAL?this.props.dispatch(u.showPeopleModal("Select Delegatee","Delegate")):this.props.updateNotification({content:"You cannot delegate approval request on behalf of a group.",type:"alert",status:"info"})},ApprovalDetailComponent.prototype.saveApprovalAttribute=function(e,t){var a=this,r=Math.random();this.props.updateNotification({id:r,content:"Updating...",type:"alert",loading:!0,status:"info"});var n=new URLSearchParams;n.append("approvalId",this.state.approvalFull.approval.id),n.append("updatableApprovalAttributeId",e),n.append("value",t.toString()),n.append("version",this.state.approvalFull.approval.version),P.default.post(S.SERVICE_ENDPOINTS+S.API_ROUTES.SAVE_APPROVAL_PROPERTIES,n).then(function(e){var t=e.data;t.isError?a.props.updateNotification({id:r,content:t.errorMessage,type:"alert",loading:!1,status:"error"}):(a.loadApprovalRequest(),a.props.updateNotification({id:r,content:"Updated successfully",type:"alert",loading:!1,status:"success",duration:2e3}))}).catch(function(){a.props.updateNotification({id:r,content:"Failed to update Questionnaire",type:"alert",loading:!1,status:"error"})})},ApprovalDetailComponent.prototype.isLegacyRequest=function(e){try{return parseInt(e)<=3e5}catch(e){return!1}},ApprovalDetailComponent.prototype.checkPrivacyType=function(){this.state.approvalFull.approval.privateApproval&&!this.state.privateApproval?this.setState({privacyConfirmModalOpen:!0}):this.saveBasicDetails()},ApprovalDetailComponent.prototype.saveBasicDetails=function(){var e=this,t=this.state.approvalFull.approval.privateApproval?"private notes":"notes";if(this.state.permissionedContent.length>S.PERMISSIONED_CONTENT_LIMIT)return void this.props.updateNotification({id:"basic_details_failed",content:"Please do not exceed 1,000 characters in the "+t+" section.",type:"alert",status:"error"});this.setState({privacyConfirmModalOpen:!1});if(0==this.state.approvalTitle.trim().length)return void this.setState({isTitleInValid:!0});var a=this.state.approvalFull.approval.neededOnDate,r=this.state.neededOnDate,n=Math.random();this.props.updateNotification({id:n,content:"Updating basic details...",type:"alert",loading:!0,status:"info"}),r=a!=r?J(this.state.neededOnDate).endOf("day").toDate():J(this.state.neededOnDate).toDate();var i=new URLSearchParams;if(i.append("approvalRequestId",this.state.approvalFull.approval.id),i.append("title",this.decodeHtml(this.state.approvalTitle)),i.append("summary",this.state.approvalSummary),i.append("version",this.state.approvalFull.approval.version),i.append("neededOnDate",r.toUTCString()),i.append("priority",this.state.approvalPriority),i.append("privateApproval",String(this.state.privateApproval)),null!=this.state.onHoldUntil){var o=J(this.state.onHoldUntil).startOf("day").toDate();i.append("onHoldUntil",o.toUTCString())}this.setState({isBeingSaved:!0}),P.default.post(S.SERVICE_ENDPOINTS+S.API_ROUTES.UPDATE_BASICS,i).then(function(t){var a=t.data;a.isError?e.props.updateNotification({id:n,content:a.errorMessage,type:"alert",loading:!1,status:"error"}):(e.setState({disableBasicDetails:!0}),e.loadApprovalRequest(),e.props.updateNotification({id:n,content:"Basic Details updated successfully",type:"alert",loading:!1,status:"success",duration:2e3}))}).catch(function(t){console.error(t),e.props.updateNotification({id:n,content:"Failed to update basic details",type:"alert",loading:!1,status:"error"})}),this.props.savePermissionedContent(this.state.approvalFull.approval.id,this.state.permissionedContent)},ApprovalDetailComponent.prototype.unescapeHTML=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},ApprovalDetailComponent.prototype.enableInlineEditing=function(e){switch(e){case"Basic":this.setState({disableBasicDetails:!1});break;case"Admins":this.setState({disableAdmins:!1});break;case"Viewers":this.setState({disableViewers:!1});break;case"PrivateViewers":this.setState({disablePrivateViewers:!1});break;case"ApprovalPlan":this.setState({disableApprovalPlan:!1});break;case"Attachments":this.setState({disableAttachments:!1});break;case"KeyDetails":this.setState({disableKeyDetails:!1})}},ApprovalDetailComponent.prototype.cancelInlineEditing=function(e){switch(e){case"Basic":this.setState({disableBasicDetails:!0}),this.loadApprovalRequest();break;case"Admins":this.setState({disableAdmins:!0});break;case"Viewers":this.setState({disableViewers:!0});break;case"PrivateViewers":this.setState({disablePrivateViewers:!0});break;case"ApprovalPlan":this.setState({disableApprovalPlan:!0});break;case"Attachments":this.setState({disableAttachments:!0});break;case"KeyDetails":this.setState({disableKeyDetails:!0})}},ApprovalDetailComponent.prototype.toggleCorrespondenceWrapper=function(){this.state.correspondenceWrapperActive?this.setState({correspondenceWrapperActive:!1}):this.setState({correspondenceWrapperActive:!0,correspondenceActive:!0,rfiActive:!1})},ApprovalDetailComponent.prototype.openCorrespondenceTab=function(){var e=this.state.correspondenceWrapperActive,t=this.state.correspondenceActive;e&&!t?this.setState({correspondenceActive:!0,rfiActive:!1}):e||this.setState({correspondenceWrapperActive:!0,correspondenceActive:!0,rfiActive:!1})},ApprovalDetailComponent.prototype.getCorrespondenceList=function(){var e=this;P.default.get(d.ServiceEndPoints.correspondence+"approvalId="+this.state.approvalFull.approval.id+"&rev="+(new Date).getTime()).then(function(t){var a=t.data;e.handleCorrespondenceChange(a.data),e.setState({unreadCount:0}),document.title.startsWith("(")&&(document.title=e.props.addTitle(document.title.substring(document.title.indexOf(")")+1)+" - "))})},ApprovalDetailComponent.prototype.openRfiTab=function(){var e=this.state.correspondenceWrapperActive,t=this.state.rfiActive;e&&!t?this.setState({correspondenceActive:!1,rfiActive:!0}):e||this.setState({correspondenceWrapperActive:!0,correspondenceActive:!1,rfiActive:!0})},ApprovalDetailComponent.prototype.onApproveAction=function(e){this.modalCancelButtonText="Go Back",this.modalSaveButtonText="Approve",this.modalSubTitleText="Please add any comments (optional)",this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.APPROVED,approverId:e.target.id})},ApprovalDetailComponent.prototype.onCancelAction=function(e){this.setState({displayCancelConfirmationModel:!0,commentsModalTitle:d.DisplayApprovalAction.CANCEL})},ApprovalDetailComponent.prototype.onRejectAction=function(e){this.modalCancelButtonText="Go Back",this.modalSaveButtonText="Proceed with Rejection ",this.modalSubTitleText=o.createElement("span",{className:"modalSubtitle"},"Please note that rejecting this request will prevent others from adding ",this.getBoldText("correspondence")," and ",this.getBoldText("attachments"),". After rejecting there is no way to reactivate/restart this request and a ",this.getBoldText("new")," request will need to be created. If you are sure you want to reject this request enter rejection reasons below:"),this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.REJECTED,approverId:e.target.id})},ApprovalDetailComponent.prototype.onApproveWithConditions=function(e){this.modalCancelButtonText="Go Back",this.modalSaveButtonText="Approve with conditions",this.modalSubTitleText="Please enter your approvals conditions below*",this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.APPROVED_WITH_CONDITION,approverId:e.target.id})},ApprovalDetailComponent.prototype.onRecommendApprove=function(e){this.modalSubTitleText=o.createElement("span",{className:"modalSubtitle"},"Since this is a ",this.getBoldText("recommended")," approval, the request will now continue to the next approver."),this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.RECOMMEND_FOR_APPROVAL,approverId:e.target.id})},ApprovalDetailComponent.prototype.displayApprovalConditionsModal=function(){this.setState({displayQuickViewModal:!0,quickViewModalTitle:"Approval Conditions",quickViewContent:this.messages})},ApprovalDetailComponent.prototype.displayCurrentsApproversModal=function(){this.setState({displayQuickViewModal:!0,quickViewModalTitle:"Current Approvers",quickViewContent:this.pendingActors})},ApprovalDetailComponent.prototype.onRecommendReject=function(e){this.modalSubTitleText=o.createElement("span",{className:"modalSubtitle"},"Since this is a ",this.getBoldText("recommended")," approval, the request will now continue to the next approver."),this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.RECOMMEND_FOR_REJECTION,approverId:e.target.id})},ApprovalDetailComponent.prototype.onRestartAction=function(e){this.modalCancelButtonText="Go Back",this.modalSaveButtonText="Restart",this.modalSubTitleText="Please note that restarting this request will require everyone to approve again. After restarting there is not way to reverse the process. If you are sure you want to restart this request enter the reason below*",this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.RESTART_APPROVAL,approverId:e.target.id})},ApprovalDetailComponent.prototype.onInvalidateAction=function(e){console.log(e),this.modalCancelButtonText="Go Back",this.modalSaveButtonText="Invalidate",this.modalSubTitleText="This action will invalidate the approval and is not reversible. You and other users will still be able to see this approval on your approval lists, but it will be marked as invalid. If you are sure you want to invalidate this request, please enter the reason below*",this.setState({displayCommentsModal:!0,commentsModalTitle:d.DisplayApprovalAction.INVALIDATE_APPROVAL,approverId:e.target.id})},ApprovalDetailComponent.prototype.approvalSaveClick=function(e){var t=new Set([d.UserRole.REQUESTER,d.UserRole.APPROVAL_ADMIN]),a=this.state.approvalFull.approval.userRole;switch(this.state.commentsModalTitle){case d.DisplayApprovalAction.APPROVED:this.updateApproverAction(d.ApproverAction.APPROVE,this.state.approvalComments,"Approved Successfully");break;case d.DisplayApprovalAction.APPROVED_WITH_CONDITION:this.validateApprovalComments()&&this.updateApproverAction(d.ApproverAction.APPROVE_WITH_CONDITION,this.state.approvalComments,"Approved With Conditions Successfully");break;case d.DisplayApprovalAction.REJECTED:this.validateApprovalComments()&&this.updateApproverAction(d.ApproverAction.REJECT,this.state.approvalComments,"Rejected Sucessfully");break;case d.DisplayApprovalAction.RECOMMEND_FOR_APPROVAL:this.updateApproverAction(d.ApproverAction.RECOMMEND_FOR_APPROVAL,this.state.approvalComments,"Recommend Approved Successfully");break;case d.DisplayApprovalAction.RECOMMEND_FOR_REJECTION:this.validateApprovalComments()&&this.updateApproverAction(d.ApproverAction.RECOMMEND_FOR_REJECTION,this.state.approvalComments,"Recommend Rejected Successfully");break;case d.DisplayApprovalAction.CANCEL:this.updateRequestorAction(d.RequestorAction.CANCEL,"Request Cancelled Successfully");break;case d.DisplayApprovalAction.RESTART_APPROVAL:this.validateApprovalComments()&&(t.has(a)?this.updateRequestorAction(d.RequestorAction.RESTART_APPROVAL,"Approval Restarted Successfully",this.state.approvalComments):this.updateApproverAction(d.ApproverAction.RESTART_APPROVAL,this.state.approvalComments,"Approval Restarted Successfully"));break;case d.DisplayApprovalAction.INVALIDATE_APPROVAL:this.validateApprovalComments()&&(t.has(a)?this.updateRequestorAction(d.RequestorAction.INVALIDATE_APPROVAL,"Approval Invalidated Successfully",this.state.approvalComments):this.updateApproverAction(d.ApproverAction.INVALIDATE_APPROVAL,this.state.approvalComments,"Approval Invalidated Successfully"))}},ApprovalDetailComponent.prototype.onHoldCancelClick=function(e){this.setState({displayOnHoldModal:!1})},ApprovalDetailComponent.prototype.resumeCancelClick=function(e){this.setState({displayResumeModal:!1})},ApprovalDetailComponent.prototype.onHoldSaveClick=function(e){var t=this;this.setState({displayOnHoldModal:!1});var a=Math.random();this.props.updateNotification({id:a,content:"Updating status...",type:"alert",loading:!0,status:"info"});var r=new URLSearchParams;r.append("approvalId",this.state.approvalFull.approval.id),null!=this.state.onHoldUntil&&r.append("onHoldUntil",J(this.state.onHoldUntil).startOf("day").toDate());var n=d.ServiceEndPoints.onHoldApprovalRequester;this.state.approvalFull.approval.userRole==d.UserRole.APPROVER&&(r.append("approverId",this.actorApproverId),n=d.ServiceEndPoints.onHoldApprovalApprover),P.default.post(n,r).then(function(e){var r=e.data;if(r.isError)t.props.updateNotification({id:a,content:r.errorMessage,type:"alert",loading:!1,status:"error"});else{var n=r.data;t.setState({approvalFull:n,onHoldUntil:r.data.approval.onHoldUntil}),setTimeout(function(){window.location.reload(!0)},1e3),t.props.updateNotification({id:a,content:"Status changed to: On Hold",type:"alert",loading:!1,status:"success",duration:2e3})}}).catch(function(e){console.error(e),t.props.updateNotification({id:a,content:"Failed to update status",type:"alert",loading:!1,status:"error"})})},ApprovalDetailComponent.prototype.resumeSaveClick=function(e){var t=this;this.setState({displayResumeModal:!1});var a=Math.random();this.props.updateNotification({id:a,content:"Updating status...",type:"alert",loading:!0,status:"info"});var r=new URLSearchParams;r.append("approvalId",this.state.approvalFull.approval.id);var n=d.ServiceEndPoints.resumeApprovalRequester;this.state.approvalFull.approval.userRole==d.UserRole.APPROVER&&(r.append("approverId",this.actorApproverId),n=d.ServiceEndPoints.resumeApprovalApprover),P.default.post(n,r).then(function(e){var r=e.data;if(r.isError)t.props.updateNotification({id:a,content:r.errorMessage,type:"alert",loading:!1,status:"error"});else{var n=r.data;t.setState({approvalFull:n}),setTimeout(function(){window.location.reload(!0)},1e3),t.props.updateNotification({id:a,content:"Status changed to: Pending",type:"alert",loading:!1,status:"success",duration:2e3})}}).catch(function(e){console.error(e),t.props.updateNotification({id:a,content:"Failed to update status",type:"alert",loading:!1,status:"error"})})},ApprovalDetailComponent.prototype.approvalCancelClick=function(e){this.setState({displayCommentsModal:!1,commentsModalTitle:"",approvalCommentsInvalid:!1})},ApprovalDetailComponent.prototype.validateApprovalComments=function(){return this.state.approvalComments.trim().length>0?(this.setState({approvalCommentsInvalid:!1}),!0):(this.setState({approvalCommentsInvalid:!0}),!1)},ApprovalDetailComponent.prototype.updateApproverAction=function(e,t,a){var r=this;this.setState({displayCommentsModal:!1,commentsModalTitle:""});var n=new URLSearchParams;n.append("approvalId",this.state.approvalFull.approval.id),n.append("action",e),n.append("approverId",this.state.approverId),n.append("comment",t);P.default.post(d.ServiceEndPoints.approverAction,n).then(function(e){if(200==e.status){r.props.updateNotification({content:a,type:"alert",status:"info"});setTimeout(function(){window.location.reload(!0)},1e3)}})},ApprovalDetailComponent.prototype.updateRequestorAction=function(e,t,a){var r=this;this.setState({displayCancelConfirmationModel:!1,commentsModalTitle:""});var n=new URLSearchParams;n.append("approvalId",this.state.approvalFull.approval.id),n.append("action",e),void 0!=a&&n.append("comment",a),P.default.post(d.ServiceEndPoints.requestorAction,n).then(function(e){if(200==e.status){r.props.updateNotification({content:t,type:"alert",status:"error"});setTimeout(function(){window.location.reload(!0)},1e3)}})},ApprovalDetailComponent.prototype.saveApprovalPlan=function(e){this.props.dispatch(C.saveApprovalPlanCommand({changedAt:new Date,shouldSave:e,approvalPlanVersion:this.state.approvalPlanVersion}))},ApprovalDetailComponent}(o.Component),ne=function(e){var t=[],a=e.pendingActors.length,r=!1;if(e.pendingActors.length>10?a=10:e.columns>1&&e.pendingActors.length>4&&(a=4),e.pendingActors.length!=a){for(var n=0;n<a;n++)t.push(e.pendingActors[n]);r=!0}else t=e.pendingActors;return o.createElement("div",{className:"progress-personal"},o.createElement("h3",{className:"title awsui-util-ml-m"},"Current Approver"+(e.pendingActors.length>1?"s ("+e.pendingActors.length+")":""),r&&o.createElement("a",{href:"#",onClick:e.viewAllOnclick,className:"viewAll"},"View all"),o.createElement(s.Tooltip,{text:"Send Reminders to Pending Approvers",className:"reminders-tooltip"},o.createElement("div",{onClick:e.displayRemindersModal,className:"btn btn-sm btn-light reminders-button"+(e.sendPermission?"":" displayNone")},"Send Reminder(s)")),e.isEscalationEnabled&&o.createElement(s.Tooltip,{text:"Send Escalations to Pending Approvers",className:"reminders-tooltip"},o.createElement("div",{onClick:e.displayEscalationModal,className:"btn btn-sm btn-light reminders-button"+(e.sendPermission?"":" displayNone")},"Escalate"))),o.createElement("div",{className:"attorney-list awsui-util-ml-s "},o.createElement("div",{className:"attorney-container"},t)))},ie=function(e){return e.headerText.indexOf("Correspondence")>1?o.createElement("div",null,o.createElement("h3",{className:"title"},e.headerText),e.messages[0]):1==e.columns?o.createElement("div",{className:"progress-personal"},o.createElement("h3",{className:"title"},"Approval Conditions (",e.messages.length,")",e.messages.length>1&&o.createElement("a",{href:"#",onClick:e.viewAllOnclick,className:"viewAll"},"View all")),o.createElement("div",{className:"conditions-view"},e.messages[0])):o.createElement("div",{className:"progress-personal"},o.createElement("h3",{className:"title"},"Approval Conditions (",e.messages.length,")",e.messages.length>1&&o.createElement("a",{href:"#",onClick:e.viewAllOnclick,className:"viewAll"},"View all")),e.messages[0])},oe=function(e){var t;return e.dateCreated&&(t=J(e.dateCreated).format("MM/DD/YYYY hh:mm a")),e.actionByActor&&e.actionByActor.alias&&e.actionByActor.alias!=e.alias?o.createElement("div",null,o.createElement("div",{className:"details-message-row"},o.createElement("div",{className:"correspondence-name"},o.createElement("a",{target:"_blank",href:k.getActorLink(e.actionByActor)},e.actionByActor.displayName)," (on behalf of",o.createElement("a",{target:"_blank",href:k.getActorLink(e.approverActor)}," ",e.displayName),")",o.createElement("p",{className:"correspondence-date"},t)),o.createElement("div",{className:"message"},o.createElement("div",{dangerouslySetInnerHTML:createSummary(null==e.comments?"":e.comments)})))):o.createElement("div",null,o.createElement("div",{className:"details-message-row"},o.createElement("div",{className:"correspondence-name"},o.createElement("a",{target:"_blank",href:d.ServiceEndPoints.phoneToolLink+e.alias}," ",e.displayName),o.createElement("p",{className:"correspondence-date"},t)),o.createElement("div",{className:"message"},o.createElement("div",{dangerouslySetInnerHTML:createSummary(null==e.comments?"":e.comments)}))))},se=function(e){return{savePermissionedContent:function(t,a){return e(m.Actions.savePermissionedContent(t,a))},getPermissionedContent:function(t){return e(m.Actions.getPermissionedContent(t))},clearPermissionedContent:function(){return e(m.Actions.clearPermissionedContent())},deleteNotification:function(t){return e(z.deleteNotification({value:t}))},updateNotification:function(t){return e(z.updateNotification({value:t}))},clearApprovalAdmins:function(){return e(m.Actions.clearApprovalAdmins())},getApprovalAdmins:function(t){return e(m.Actions.getApprovalAdmins(t))},addApprovalAdmin:function(t){return e(m.Actions.addApprovalAdmin(t))},deleteApprovalAdmin:function(t){return e(m.Actions.deleteApprovalAdmin(t))},getGroupMembers:function(t){return e(m.Actions.getGroupMembers(t))},dispatch:e}};t.default=b.connect(mapStateToProps,se)(re);var le},1238:function(e,t,a){"use strict";function mapStateToProps(e){return{endedAtStatus:e.HistoryService.endedAtStatus}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(7),o=a(1239),s=a(1241),l=a(1250),c=a(5),p=function(e){function CorrespondenceWrapper(t){var a=e.call(this,t)||this;return a.toggleConfigPage=function(){a.setState({displayConfigPage:!a.state.displayConfigPage})},a.state={rfiConfigRequested:!1,displayConfigPage:!1},a}return r(CorrespondenceWrapper,e),CorrespondenceWrapper.prototype.render=function(){var e=this,t=this.props.approvalFull?n.createElement(o.default,{isActive:this.props.isCorrespondenceActive,approvalId:this.props.approvalFull.approval.id,correspondenceItemList:this.props.correspondenceItemList,onCorrespondenceChange:this.props.onCorrespondenceChange,approvalState:this.props.approvalFull.approval.status,viewers:this.props.approvalFull.viewerList,approvers:this.props.approvers||[],requester:this.props.approvalFull.requester.actor,legalCounselList:this.props.approvalFull.legalCounselList||[],endedAt:this.props.approvalFull.approval.endedAt,invalidatedAt:this.props.approvalFull.approval.invalidatedAt}):n.createElement(c.Spinner,null),a=this.props.approvalFull?n.createElement(s.default,{approvalFull:this.props.approvalFull,onClose:this.props.toggleCorrespondenceWrapper,openConfig:this.toggleConfigPage}):n.createElement(c.Spinner,null),r=this.props.isRfiActive?"rfi-tab":"correspondence-tab";return n.createElement("div",{className:"correspondence-wrapper"},n.createElement("div",{className:"correspondence-top-nav"},n.createElement(c.Tabs,{tabs:[{label:"Correspondence",id:"correspondence-tab",content:t},{label:"Request for information",id:"rfi-tab",content:a}],activeTabId:r,onChange:function(t){var a=t.detail.activeTabId;"rfi-tab"===a&&e.props.openRfiTab(),"correspondence-tab"===a&&e.props.openCorrespondenceTab()}}),n.createElement("div",{className:"correspondence-nav-buttons"},n.createElement(c.Button,{"data-testid":"rfi-config-toggle",className:"awsui",variant:"icon",icon:"settings",onClick:this.toggleConfigPage}),n.createElement(c.Button,{"data-testid":"close-correspondence",className:"awsui",variant:"icon",icon:"close",onClick:this.props.toggleCorrespondenceWrapper}))),this.state.displayConfigPage&&n.createElement("div",{className:"rfi-config-wrapper"},n.createElement(l.default,{approvalFull:this.props.approvalFull,onClose:this.toggleConfigPage,onPrevious:this.toggleConfigPage,privateApprovalsFeatureEnabled:this.props.privateApprovalsFeatureEnabled})))},CorrespondenceWrapper}(n.Component);t.default=i.connect(mapStateToProps)(p)},1239:function(e,t,a){"use strict";function parse(e){return e?{__html:e.replace(/\[/g,"<span class='terminated'>").replace(/\]/g,"</span>")}:null}function htmlCorrespondence(e){return e?{__html:e.replace(/\n/g,"<br/>")}:null}function mapStateToProps(e){return{endedAtStatus:e.HistoryService.endedAtStatus}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(4),o=a(13),s=a(7),l=a(1240),c=a(8),p=a(10),u=a(1),d=a(6),m=a(151),f=function(e){function CorrespondenceComponent(t){var a=e.call(this,t)||this;return a.defaultHeight=20,a.state={correspondenceItemList:a.props.correspondenceItemList,correspondenceEditorInvalid:!1,height:a.defaultHeight,commentValue:"",error:!1,approvalActors:[],endedAtStatus:a.props.endedAtStatus},a.submitCorrespondence=a.submitCorrespondence.bind(a),a.captureTextAreaChange=a.captureTextAreaChange.bind(a),a.setFilledTextareaHeight=a.setFilledTextareaHeight.bind(a),a.handleMentionSelection=a.handleMentionSelection.bind(a),a.getMentionInput=a.getMentionInput.bind(a),a}return r(CorrespondenceComponent,e),CorrespondenceComponent.prototype.setFilledTextareaHeight=function(e){this.setState({height:e.clientHeight})},CorrespondenceComponent.prototype.componentDidUpdate=function(){this.props.isActive&&(this.state.commentValue||this.scrollToBottom(),this.props.approvalState==o.ApprovalStatus.PENDING&&this.correspondenceTextCrl&&this.correspondenceTextCrl.focus())},CorrespondenceComponent.prototype.componentWillReceiveProps=function(e){if(!this.state.approvalActors||this.state.approvalActors.length<1||this.deepCheckActorArrays(e.viewers,this.props.viewers)||this.deepCheckActorArrays(this.pullApprovers(e.approvers),this.pullApprovers(this.props.approvers))||e.requester.alias!=this.props.requester.alias){var t=this.resetApprovalActors(e);this.setState({approvalActors:t})}this.props.correspondenceItemList.length!==e.correspondenceItemList.length&&this.setState({correspondenceItemList:e.correspondenceItemList})},CorrespondenceComponent.prototype.pullApprovers=function(e){var t=[];return e.forEach(function(e){e.forEach(function(e){e.approvers.forEach(function(e){t.push(e[0])})})}),t},CorrespondenceComponent.prototype.resetApprovalActors=function(e){var t={};return e.requester&&e.requester.alias&&(t[e.requester.alias.toUpperCase()]=e.requester),e.legalCounselList&&e.legalCounselList.forEach(function(e){null!=e.actor&&null!=e.actor.alias&&(t[e.actor.alias.toUpperCase()]=e.actor)}),null!=e.viewers&&(t=this.addViewers(t,e.viewers)),null!=e.approvers&&(t=this.addApprovers(t,e.approvers)),t},CorrespondenceComponent.prototype.addViewers=function(e,t){return t.forEach(function(t){null==t.actor||null==t.actor.alias||e.hasOwnProperty(t.actor.alias.toUpperCase())||(e[t.actor.alias.toUpperCase()]=t.actor)}),e},CorrespondenceComponent.prototype.addApprovers=function(e,t){return t.forEach(function(t){t.forEach(function(t){t.approvers.forEach(function(t){null==t[0].actor||null==t[0].actor.alias||e.hasOwnProperty(t[0].actor.alias.toUpperCase())||(e[t[0].actor.alias.toUpperCase()]=t[0].actor)})})}),e},CorrespondenceComponent.prototype.deepCheckActorArrays=function(e,t){var a=this.getAliases(e),r=this.getAliases(t);if(a.length!==r.length)return!0;for(var n=0;a.length>n;++n)if(a[n]!=r[n])return!0;return!1},CorrespondenceComponent.prototype.getAliases=function(e){return e?e.filter(function(e){return null!=e.actor&&e.actor.alias}).map(function(e){return e.actor.alias}):[]},CorrespondenceComponent.prototype.render=function(){var e=this,t=0,a=new Array,r=new Array,o=this.getMentionInput(),s=this.props.endedAt,c=this.props.approvalState,p=this.props.endedAtStatus,u=this.props.invalidatedAt,m=!0,f=!0;return this.state.correspondenceItemList&&this.state.correspondenceItemList.length>0?(this.state.correspondenceItemList.map(function(e){r&&r.length>0&&r[t-1]==e.createdBy.employeeId?(e.rowClass=a[t-1].props.rowClass,e.arrowClass=a[t-1].props.arrowClass,e.correspondenceNameClass=a[t-1].props.correspondenceNameClass,e.correspondenceDateClass=a[t-1].props.correspondenceDateClass):a.length>0&&"row sender"==a[t-1].props.rowClass?(e.rowClass="row contact",e.arrowClass="arrow-right",e.correspondenceNameClass="correspondence-name-right",e.correspondenceDateClass="correspondence-date-right"):(e.rowClass="row sender",e.arrowClass="arrow-left",e.correspondenceNameClass="correspondence-name",e.correspondenceDateClass="correspondence-date"),s&&m&&e.createdAt>s&&(a.push(n.createElement(h,{approvalStatus:p,endedAtDate:s,key:"completionStatusWithin"})),r.push(d.SYSTEM_0_ADMIN),m=!1,t++),u&&f&&e.createdAt>u&&(a.push(n.createElement(h,{approvalStatus:c,endedAtDate:u,key:"invalidationStatusWithin"})),r.push(d.SYSTEM_0_ADMIN),f=!1,t++),e.createdBy.alias===d.SYSTEM_0_ADMIN&&e.type===i.CorrespondenceType.TERMINATED_EMPLOYEE?(a.push(n.createElement(v,{comment:e.comment,createdAt:e.createdAt})),r.push(d.SYSTEM_0_ADMIN),t++):(r.push(e.createdBy.employeeId),t++,a.push(n.createElement(E,{correspondenceNameClass:e.correspondenceNameClass,rowClass:e.rowClass,comment:e.comment,correspondenceDateClass:e.correspondenceDateClass,arrowClass:e.arrowClass,key:e.id,displayName:e.createdBy.displayName,alias:e.createdBy.alias,createdAt:e.createdAt})))}),s&&m&&(a.push(n.createElement(h,{approvalStatus:p,endedAtDate:s,key:"completionStatusAfter"})),r.push(d.SYSTEM_0_ADMIN)),u&&f&&(a.push(n.createElement(h,{approvalStatus:c,endedAtDate:u,key:"invalidationStatusAfter"})),r.push(d.SYSTEM_0_ADMIN),f=!1)):a=this.state.error?n.createElement("h2",{className:"correspondence-nomessage"}," Sorry, we are not able to load correspondence associated with this approval"):n.createElement("h2",{className:"correspondence-nomessage"},"There is no correspondence associated with this approval"),n.createElement("div",{className:"correspondence-container  _correspondence"},n.createElement("div",{id:"correspondenceContainer",ref:function(t){return e.correspondenceContainer=t},className:"correspondence-text"},a),n.createElement("div",{className:"correspondenceEntry"},n.createElement("div",{className:"mentionsAutosuggest",ref:function(t){return e.mentionsAutosuggestCtrl=t}},n.createElement(l.default,{searchMap:this.state.approvalActors,input:o,handleSelection:this.handleMentionSelection})),n.createElement("div",null,n.createElement("div",{className:"writeMsg"},n.createElement("textarea",{"data-testid":"correspondence-text-area",style:{},ref:function(t){return e.correspondenceTextCrl=t},rows:2,value:this.state.commentValue,onChange:this.captureTextAreaChange,onClick:this.captureTextAreaChange,placeholder:"Type your message and click on send."}),n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("button",{"data-testid":"correspondence-send-button",className:"btn btn-send",onClick:this.submitCorrespondence},"Send")))))},CorrespondenceComponent.prototype.getMentionInput=function(){var e=this.correspondenceTextCrl?this.correspondenceTextCrl.selectionStart:0,t=this.state.commentValue,a=new RegExp("\\B@[a-zA-Z]+?\\b","g");if(t||t.indexOf("@")>=0)for(var r;r=a.exec(t);)if(r.index<=e&&a.lastIndex>=e)return r.toString().substring(1);return""},CorrespondenceComponent.prototype.handleMentionSelection=function(e){for(var t,a=this.correspondenceTextCrl.selectionStart,r=this.state.commentValue,n=new RegExp("\\B@[a-zA-Z]+?\\b","g");t=n.exec(r);)if(t.index<=a&&n.lastIndex>=a){r=r.substring(0,t.index)+"@"+e+r.substring(n.lastIndex);break}this.setState({commentValue:r})},CorrespondenceComponent.prototype.captureTextAreaChange=function(e){this.setState({commentValue:e.target.value})},CorrespondenceComponent.prototype.submitCorrespondence=function(){var e=this;if(!this.state.commentValue||0==this.state.commentValue.trim().length)return this.props.dispatch(p.updateNotification({value:{id:Math.random(),content:"Please enter correspondence",type:"alert",duration:2e3,status:"error"}})),!1;var t=this.state.commentValue,a=this.state.commentValue,r=new URLSearchParams,n=[];if(t.includes("@")){var o=this.state.commentValue.toUpperCase(),s=new RegExp("\\B@[a-zA-Z]+?\\b","g"),l=o.match(s);if(l){if(n=this.getMentionedEmployees(l),0===n.length)return!1;n.forEach(function(e){r.append("mentions",e)})}}r.append("approvalId",this.props.approvalId),r.append("comment",a);var u=i.ServiceEndPoints.correspondence;return this.setState({commentValue:""}),c.default.post(u,r).then(function(a){return 200==a.status?(n.length>0&&e.props.dispatch(p.updateNotification({value:{id:Math.random(),content:"Correspondence successfully sent. Mentions: "+n.toString(),type:"info",status:"success"}})),e.getCorrespondenceList(),!0):(e.setState({commentValue:t}),e.props.dispatch(p.updateNotification({value:{id:Math.random(),content:"Failed to update correspondence, please try again by refreshing the page",type:"alert",status:"error"}})),!1)}).catch(function(a){return e.setState({commentValue:t}),e.props.dispatch(p.updateNotification({value:{id:Math.random(),content:"Failed to update correspondence, please try again by refreshing the page",type:"alert",status:"error"}})),!1}),!0},CorrespondenceComponent.prototype.scrollToBottom=function(){function wheelHandler(r){var n=r||window.event,i=-30*n.deltaX||n.wheelDeltaX/4||0,o=-30*n.deltaY||n.wheelDeltaY/4||void 0===n.wheelDeltaY&&n.wheelDelta/4||-10*n.detail||0;return t&&(i/=30,o/=30),n.currentTarget.scrollTop-=o,a&&"DOMMouseScroll"!==n.type&&e.removeEventListener("DOMMouseScroll",wheelHandler,!1),n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0,n.returnValue=!1,!1}this.correspondenceContainer.scrollTop=this.correspondenceContainer.scrollHeight;var e=document.getElementById("correspondenceContainer"),t=-1!==navigator.userAgent.indexOf("Macintosh")&&-1!==navigator.userAgent.indexOf("WebKit"),a=-1!==navigator.userAgent.indexOf("firefox");e.onwheel=wheelHandler,e.onmousewheel=wheelHandler,a&&(e.scrollTop=0,e.addEventListener("DOMMouseScroll",wheelHandler,!1))},CorrespondenceComponent.prototype.getCorrespondenceList=function(){var e=this,t=this;try{var a=i.ServiceEndPoints.correspondence+"approvalId="+this.props.approvalId+"&rev="+(new Date).getTime();c.default.get(a).then(function(t){e.props.onCorrespondenceChange(t.data.data)}).catch(function(e){t.setState({error:!0})})}catch(e){this.setState({error:!0}),console.log(e)}},CorrespondenceComponent.prototype.getMentionedEmployees=function(e){var t=this.state.approvalActors,a={};if(Object.keys(t).forEach(function(r){if(e.indexOf("@"+r)>-1){var n=e.indexOf("@"+r);e.splice(n,1),a[r]=t[r]}}),e.length>0)return this.props.dispatch(p.updateNotification({value:{id:Math.random(),content:"Aliases not found: "+e.toString()+". If they were recently added to the approval, please refresh and try again.",type:"alert",status:"error"}})),[];var r=[];if(Object.keys(a).forEach(function(e){a[e].employeeId||r.push(e)}),r.length>0)return this.props.dispatch(p.updateNotification({value:{id:Math.random(),content:"The following aliases have invalid employee IDs: "+r.toString(),type:"alert",status:"error"}})),[];var n=[];return Object.keys(a).forEach(function(e){n.push(a[e].employeeId)}),n},CorrespondenceComponent}(n.Component),E=function(e){var t;return e.createdAt&&(t=u(e.createdAt).format("MM/DD/YYYY hh:mm a")),n.createElement("div",{key:e.id,className:e.rowClass},n.createElement("div",{className:e.correspondenceNameClass},e.displayName),n.createElement("div",{className:"rolePic"},n.createElement("img",{className:"correspondence-pic",src:i.ServiceEndPoints.phoneToolImage+e.alias,alt:""})),n.createElement("div",{className:"msgBubble"},n.createElement("div",{dangerouslySetInnerHTML:htmlCorrespondence(e.comment)}),n.createElement("div",{className:e.arrowClass})),n.createElement("div",{className:e.correspondenceDateClass},t))},h=function(e){return n.createElement("div",{className:"correspondence-completionBox-row",key:e.id},n.createElement("div",{className:"correspondence-completionBox-line"}),n.createElement("span",{className:"correspondence-completionBox-text"},"Request was ",m.getStatusWithColor(e.approvalStatus)," on ",u(e.endedAtDate).format(d.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT_NO_SEC)),n.createElement("div",{className:"correspondence-completionBox-line"}))},v=function(e){return n.createElement("div",{className:"correspondence-completionBox-row"},n.createElement("div",{className:"correspondence-completionBox-line"}),n.createElement("span",{className:"correspondence-completionBox-text"},n.createElement("span",{dangerouslySetInnerHTML:parse(e.comment)}),u(e.createdAt).format(d.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT_NO_SEC)),n.createElement("div",{className:"correspondence-completionBox-line"}))};t.default=s.connect(mapStateToProps)(f)},1240:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=function(e){function Autocomplete(t){var a=e.call(this,t)||this;return a.state={filteredSuggestions:[],showSuggestions:!1},a.handleSelection=a.handleSelection.bind(a),a.getSuggestions=a.getSuggestions.bind(a),a}return r(Autocomplete,e),Autocomplete.prototype.componentWillReceiveProps=function(e){this.props.input!==e.input&&(e.input.length<3?this.setState({showSuggestions:!1}):this.setState({showSuggestions:!0,filteredSuggestions:this.getSuggestions(e.input.toUpperCase())}))},Autocomplete.prototype.getSuggestions=function(e){var t=this;return Object.keys(this.props.searchMap).filter(function(a){return!("PRINCIPAL"!==t.props.searchMap[a].type||!(a.toUpperCase().includes(e.toUpperCase())||t.props.searchMap[a].firstName.toUpperCase().includes(e)||t.props.searchMap[a].lastName.toUpperCase().includes(e)))})},Autocomplete.prototype.handleSelection=function(e){this.props.handleSelection(e.toUpperCase())},Autocomplete.prototype.render=function(){var e=this,t=e.handleSelection,a=e.state,r=a.filteredSuggestions,i=a.showSuggestions,o=e.props,s=o.searchMap;o.input;if(i&&r&&r.length>0){var l=r.slice(0,5);return n.createElement("div",null,l.map(function(e){var a="("+e+") - "+s[e].displayName;return n.createElement("div",{key:e,className:"autosuggestButton"},n.createElement("button",{type:"button",onClick:function(){return t(e)}},a))}))}return null},Autocomplete}(n.Component);t.default=i},1241:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(1242),c=a(1244),p=a(1246),u=a(8),d=a(6),m=a(5),f=a(4),E=a(680),h=a(271),v=function(e){function RfiComponent(t){var a=e.call(this,t)||this;return a.fetchRfiThreads=function(){return i(a,void 0,void 0,function(){var e,t,a,r,n,i,s;return o(this,function(o){switch(o.label){case 0:e=this.props.approvalFull.approval.id,t={entityId:e,entityType:"APPROVAL"},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u.default.request({method:"get",url:f.ServiceEndPoints.getTasks,params:h.default(t)})];case 2:return a=o.sent(),(r=a.data.data)?(n=JSON.parse(r),i=n.tasksDetails,[2,i]):[2,[]];case 3:return s=o.sent(),this.setState({isError:!0,errorMessage:E.parseErrorMessage(s),errorHeader:"Failed to retrieve all RFI threads."}),[3,4];case 4:return[2]}})})},a.handleRfiCreate=function(e){return i(a,void 0,void 0,function(){var t,a,r,i,s,l;return o(this,function(o){switch(o.label){case 0:t=this.props.approvalFull.approval.id,a=n({},e,{entityId:t,taskOwnerUniqueId:this.state.approverActorId}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u.default.request({method:"post",url:f.ServiceEndPoints.createTask,params:h.default(a)})];case 2:if(r=o.sent(),r.data.errorMessage.length>0)throw new Error(r.data.errorMessage);return i=JSON.parse(r.data.data),s=i.task,this.setState({allRfiThreads:[s].concat(this.state.allRfiThreads),displayPage:"THREAD",selectedThread:s,isError:!1,errorMessage:"",errorHeader:""}),[2,{type:"CREATE_TASK_SUCCESS"}];case 3:return l=o.sent(),this.setState({isError:!0,errorMessage:E.parseErrorMessage(l),errorHeader:"Failed to create the Request for Information."}),[2,{type:"CREATE_TASK_FAILURE"}];case 4:return[2]}})})},a.handleRfiEdit=function(e){return i(a,void 0,void 0,function(){var t,a,r,i,s,l,c,p,d,m;return o(this,function(o){switch(o.label){case 0:t=n({},e),a=t.taskId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u.default.request({method:"put",url:f.ServiceEndPoints.updateTask,params:h.default(t)})];case 2:if(r=o.sent(),r.data.errorMessage.length>0)throw new Error(r.data.errorMessage);return i=JSON.parse(r.data.data),s=i.task,l=this.state.allRfiThreads.filter(function(e){return e.taskId!==a}),this.setState({allRfiThreads:[s].concat(l)}),[2,{type:"UPDATE_TASK_SUCCESS",task:s}];case 3:return c=o.sent(),p=["APPROVED","REJECTED","INVALIDATED"],d="A request for information cannot be reactivated on a completed approval.",m=void 0,m=p.includes(this.props.approvalFull.approval.status)?d:E.parseErrorMessage(c),this.setState({isError:!0,errorMessage:m,errorHeader:"Failed to edit the Request for Information."}),[2,{type:"UPDATE_TASK_FAILURE"}];case 4:return[2]}})})},a.displayCreatePage=function(){a.setState({isError:!1,displayPage:"CREATE"})},a.handlePrevPage=function(){a.setState({isError:!1,displayPage:"HOME"})},a.getUserInfo=function(){var e=a.props.approvalFull,t=[],r=[];if(e.approvalPlan.forEach(function(e){e.forEach(function(e){e.route&&e.approvers.forEach(function(e){e.forEach(function(e){if(e.allowedApproverActions.length>0){var a=e.assignmentStatus;"APPROVER_PENDING"===a?t.push(e):"APPROVER_PENDING_IN_FUTURE"===a&&r.push(e)}})})})}),t.length>0){var n=t[0],i=n.assignmentStatus,o=n.id;return[i,o]}if(r.length>0){var s=r[0],i=s.assignmentStatus,o=s.id;return[i,o]}return["VIEWER",""]},a.getCurrentUserData=function(){return i(a,void 0,void 0,function(){var e,t,a,r,i,s,l,c,p,m,f,h,v;return o(this,function(o){switch(o.label){case 0:if(this.state.currentUser)return[2];e=document.getElementById("userAlias").value,t=d.SERVICE_ENDPOINTS+d.API_ROUTES.ACTOR_SEARCH+"?people=1&group=0&query="+encodeURI(e),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,u.default.get(t)];case 2:if(a=o.sent(),!(r=a.data.data)||r&&0===r.length)throw new Error("No user data found for "+e);if(!(i=r.filter(function(e){return"PRINCIPAL"===e.type})[0]))throw new Error("User-"+e+" is not of type PRINCIPAL");return s=this.getUserInfo(),l=s[0],c=s[1],p={approver:null,requester:null},m={rfiRequester:null,rfiRecipient:null},"APPROVER_PENDING"===l?(p.approver=m.rfiRequester=i,p.requester=m.rfiRecipient=this.props.approvalFull.requester.actor):p.requester=i,[4,this.fetchRfiThreads()];case 3:return f=o.sent(),h={currentUser:i,approvalActors:p,rfiActors:m,allRfiThreads:f,isLoading:!1,approverActorId:c,isFutureApprover:"APPROVER_PENDING_IN_FUTURE"===l},this.setState(n({},h,{displayPage:"HOME",isError:!1})),[3,5];case 4:return v=o.sent(),this.setState({isError:!0,errorMessage:E.parseErrorMessage(v),errorHeader:"Failed to retrieve current user's data."}),[3,5];case 5:return[2]}})})},a.handleRfiOpen=function(e){a.setState({isError:!1,displayPage:"THREAD",selectedThread:e})},a.fetchParticipantsFromConfigs=function(){return i(a,void 0,void 0,function(){var e,t,a,r,n,i;return o(this,function(o){switch(o.label){case 0:e=this.props.approvalFull.approval.id,t=this.state.currentUser,a={entityId:e,entityType:"APPROVAL",taskType:"RFI"},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u.default.request({method:"post",url:f.ServiceEndPoints.getParticipantsFromConfigs,params:h.default(a)})];case 2:if(r=o.sent(),r.data.errorMessage.length>0)throw new Error(r.data.errorMessage);return n=JSON.parse(r.data.data),[2,n.participants];case 3:return i=o.sent(),this.setState({isError:!0,errorMessage:E.parseErrorMessage(i),errorHeader:"Failed to fetch participants from configs."}),[3,4];case 4:return[2]}})})},a.state={allRfiThreads:[],currentUser:null,approvalActors:null,approverActorId:"",rfiActors:null,displayPage:"HOME",isLoading:!0,isError:!1,errorMessage:"",errorHeader:"",isFutureApprover:!1,selectedThread:null},a}return r(RfiComponent,e),RfiComponent.prototype.render=function(){var e=this.state,t=e.isLoading,a=e.displayPage,r=e.isError,n=e.errorMessage,i=e.errorHeader,o=[{header:i,type:"error",content:n,dismissible:!0}],u="HOME"===a?"show-correspondence-tabs":"hide-correspondence-tabs";return t?s.createElement("div",{className:"rfi-loading-container flex"},s.createElement(m.Spinner,{className:"awsui",variant:"disabled"})," Loading request for information threads"):s.createElement("div",{className:"rfi-container flex-col "+u},r&&s.createElement("div",{className:"rfi-error awsui"},s.createElement(m.Flashbar,{items:o})),"CREATE"===a&&s.createElement(c.default,{rfiActors:this.state.rfiActors,approvalAdmins:this.props.approvalFull.approvalAdminList,approvalActors:this.state.approvalActors,onCreate:this.handleRfiCreate,onConfig:this.props.openConfig,onClose:this.props.onClose,onPrevious:this.handlePrevPage,fetchParticipantsFromConfigs:this.fetchParticipantsFromConfigs}),"HOME"===a&&s.createElement(l.default,{rfiActors:this.state.rfiActors,rfiThreads:this.state.allRfiThreads,currentUser:this.state.currentUser,approvalFull:this.props.approvalFull,isFutureApprover:this.state.isFutureApprover,openCard:this.handleRfiOpen,createRfi:this.displayCreatePage}),"THREAD"===a&&s.createElement(p.default,{approvalActors:this.state.approvalActors,approvalFull:this.props.approvalFull,currentUser:this.state.currentUser,approverActorId:this.state.approverActorId,task:this.state.selectedThread,onEdit:this.handleRfiEdit,onClose:this.props.onClose,onConfig:this.props.openConfig,onPrevious:this.handlePrevPage}))},RfiComponent.prototype.componentDidMount=function(){this.getCurrentUserData()},RfiComponent}(s.Component);t.default=v},1242:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(1243),s=function(e){function RfiHome(t){var a=e.call(this,t)||this;return a.state={activeTasks:[],resolvedTasks:[],alertBox:{}},a}return r(RfiHome,e),RfiHome.prototype.render=function(){var e=this,t=this.state,a=t.activeTasks,r=t.resolvedTasks,s=t.alertBox,l=a.sort(function(e,t){return t.createdAt-e.createdAt}),c=r.sort(function(e,t){return t.createdAt-e.createdAt}),p=a.length>0,u=this.props.rfiActors.rfiRecipient,d=this.props.approvalFull.approval.status,m=this.props.isFutureApprover,f=u&&"PENDING"===d||m,E=m&&"Only pending approvers can create a request for information. Once this request is pending your decision, you can create one.";return n.createElement("div",{className:"rfi-home awsui"},n.createElement("div",{className:"rfi-cards flex-col"},n.createElement("div",{className:"rfi-active-threads"},n.createElement(i.ExpandableSection,{header:n.createElement("div",{className:"rfi-cards-tab"},n.createElement("div",null,"Active"),n.createElement("span",{className:"count"},"(",a.length,")"),n.createElement("div",{className:"new-rfi-btn"},f&&n.createElement(i.Tooltip,{text:E,position:"bottom",size:"medium"},n.createElement(i.Button,{variant:"primary",disabled:m,onClick:function(t){t.stopPropagation(),e.props.createRfi()}},"New request for information")))),variant:"borderless",expanded:!0},p?l.map(function(t){return n.createElement(o.default,{key:t.taskId,task:t,onClick:e.props.openCard})}):n.createElement(i.Alert,{header:s.header},s.message))),n.createElement("div",{className:"rfi-resolved-threads"},n.createElement(i.ExpandableSection,{header:n.createElement("div",{className:"rfi-cards-tab"},n.createElement("div",null,"Resolved"),n.createElement("span",{className:"count"},"(",r.length,")")),variant:"borderless",expanded:!1},c.map(function(t){return n.createElement(o.default,{key:t.taskId,task:t,onClick:e.props.openCard})})))))},RfiHome.prototype.componentDidMount=function(){if(this.props.rfiThreads){var e=[],t=[];this.props.rfiThreads.forEach(function(a){["IN_PROGRESS","ASSIGNED"].includes(a.taskStatus)?e.push(a):["COMPLETED","CANCELLED"].includes(a.taskStatus)&&t.push(a)});var a={header:"",message:""};if(0===e.length){this.props.rfiActors.rfiRecipient?(a.header="You havenâ€™t created or been included on any request for information threads yet.",a.message="Create a request for information when you canâ€™t make a decision until more information is provided. A new thread will be created in this section, and will only be visible to the designated recipients."):(a.header="You havenâ€™t been included on any request for information threads yet.",a.message="Only current approvers can create requests for information. These are used when approvers canâ€™t make a decision until more information is provided.  At such a time, a thread will be created in this section and will only be visible to the designated recipients.")}this.setState({activeTasks:e,resolvedTasks:t,alertBox:a})}},RfiHome}(n.Component);t.default=s},1243:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(52),s=function(e){function RfiCard(t){var a=e.call(this,t)||this;return a.getActorName=function(e){return e?e.firstName+" "+e.lastName:""},a.convertToDateTime=function(e){return"string"==typeof e&&(e=parseInt(e)),new Date(1e3*e).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})},a}return r(RfiCard,e),RfiCard.prototype.render=function(){var e=this,t=this.props.task;return n.createElement("div",{className:"rfi-card flex",key:t.taskId,onClick:function(){return e.props.onClick(t)}},n.createElement("div",{className:"rfi-card-left flex-col"},n.createElement("span",{className:"awsui-util-font-size-0 awsui-util-status-inactive"},"Requested by"),n.createElement("div",{className:"rfi-card-actor flex"},n.createElement("img",{className:"rfi-card-actor-image circularHeader",src:o.getActorImageLink(t.taskOwner),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@320x320.png"},width:"55px",height:"55px",alt:" "}),n.createElement("div",{className:"rfi-card-actor-joblevel flex"},"L",t.taskOwner.jobLevel)),n.createElement("span",{className:"rfi-card-actor-name text-overflow"},this.getActorName(t.taskOwner)),n.createElement("span",{className:"awsui-util-font-size-0 awsui-util-status-inactive text-overflow"},t.taskOwner.title)),n.createElement("div",{className:"rfi-card-right flex-col"},n.createElement("div",{className:"rfi-title"},t.taskTitle),n.createElement("span",{className:"awsui-util-font-size-0 awsui-util-status-inactive"},"Assignee"),n.createElement("div",{className:"rfi-assignee-details flex"},n.createElement("div",{className:"rfi-assignee-left flex"},n.createElement("div",{className:"rfi-assignee-icon"}),n.createElement("img",{className:"rfi-card-actor-image actor-small circularHeader",src:o.getActorImageLink(t.assignee),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@160x160.png"},width:"40px",height:"40px",alt:" "})),n.createElement("div",{className:"rfi-assignee-right flex-col"},n.createElement("span",{className:"rfi-card-actor-name text-overflow"},this.getActorName(t.assignee)),n.createElement("span",{className:"awsui-util-font-size-0 awsui-util-status-inactive text-overflow"},t.assignee.title))),"COMPLETED"===t.taskStatus?n.createElement(n.Fragment,null,n.createElement("div",{className:"rfi-card-status awsui-util-font-size-1 awsui-util-status-positive flex"},n.createElement(i.Icon,{variant:"success",name:"status-positive"}),n.createElement("span",null,"Resolved")),n.createElement("span",{className:"awsui-util-font-size-0 awsui-util-status-inactive text-overflow"},"By "+this.getActorName(t.taskOwner))):n.createElement("div",{className:"rfi-card-status awsui-util-font-size-1 awsui-util-status-info flex"},n.createElement(i.Icon,{variant:"link",name:"status-pending"}),n.createElement("span",null,"Active")),n.createElement("span",{className:"awsui-util-font-size-0 awsui-util-status-inactive text-overflow"},"Created on"," ",this.convertToDateTime(t.createdAt)," ")),n.createElement("div",{className:"rfi-card-open flex"},n.createElement(i.Button,{variant:"icon",icon:"angle-right"})))},RfiCard}(n.Component);t.default=s},1244:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(270),o=a(678),s=a(5),l=function(e){function RfiCreate(t){return e.call(this,t)||this}return r(RfiCreate,e),RfiCreate.prototype.render=function(){var e=this.props.rfiActors;return e.rfiRequester&&e.rfiRecipient?n.createElement("div",{className:"rfi-createpage flex-col"},n.createElement(i.default,{headerText:"Create request for information",actor:e.rfiRequester,onPrevious:this.props.onPrevious,onClose:this.props.onClose}),n.createElement(o.default,{isEditPage:!1,rfiActors:e,openConfigPage:this.props.onConfig,approvalAdmins:this.props.approvalAdmins,approvalActors:this.props.approvalActors,onMessageSend:this.props.onCreate,fetchParticipantsFromConfigs:this.props.fetchParticipantsFromConfigs})):n.createElement(s.Spinner,{className:"awsui",size:"large"})},RfiCreate}(n.Component);t.default=l},1245:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(52),o=function(e){function EmployeeBadge(t){var a=e.call(this,t)||this;return a.handleRemoval=function(){var e=a.props,t=e.actor;e.rfiActors[1].alias===t.alias?a.props.handleAssigneeUpdate(t):a.props.handleRecipientRemove(t)},a}return r(EmployeeBadge,e),EmployeeBadge.prototype.render=function(){var e=this.props,t=e.actor,a=e.rfiActors,r=e.approvalRequester,o=e.isAssigneeColumn,s=e.preventRemove,l=a[0].alias===t.alias,c=a[1].alias===t.alias,p=r.alias===t.alias,u=!(l||c||p);u=o||u;var d="PRINCIPAL"!==t.type;return n.createElement("div",{className:"rfi-actor-badge flex"},c&&n.createElement("div",{className:"rfi-assignee-icon",title:"RFI Assignee"}),l&&n.createElement("div",{className:"rfi-requester-icon",title:"RFI Requester"}),n.createElement("img",{className:"rfi-actor-image",src:i.getActorImageLink(t),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@80x80.png"},width:"22px",height:"22px",alt:" "}),d?n.createElement("div",null,t.groupName):n.createElement("div",null,t.firstName+" "+t.lastName),u&&!s&&n.createElement("span",{className:"remove-icon",onClick:this.handleRemoval},"âœ•"))},EmployeeBadge}(n.Component);t.default=o},1246:function(e,t,a){"use strict";function ImageStack(e){var t=e.images,a=e.maxImageNum,r=t.length;return r>a&&(t=t.slice(0,a+1)),s.createElement(s.Fragment,null,t.map(function(e,t){return t===a?s.createElement("div",{key:e.alias||e.groupName,className:"more-images-box flex"},"+",r-a):s.createElement("img",{key:e.alias||e.groupName,className:"circularHeader",src:E.getActorImageLink(e),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@160x160.png"},width:"40px",height:"40px",alt:" "})}))}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(5),c=a(8),p=a(271),u=a(4),d=a(270),m=a(1247),f=a(1249),E=a(52),h=function(e){function MessageThread(t){var a=e.call(this,t)||this;return a.setMaxImageNum=function(){var e,t=window.innerWidth;e=t>=1780?7:t<1780&&t>=1655?6:t<1655&&t>=1550?5:t<1550&&t>=1450?4:t<1450&&t>=1350?3:t<1350&&t>=1080?2:1,a.setState({maxImageNum:e})},a.getActorName=function(e){return e?e.firstName+" "+e.lastName:""},a.toggleEditPage=function(){a.setState({showEditPage:!a.state.showEditPage})},a.onRfiEdit=function(e){return i(a,void 0,void 0,function(){var t,a;return o(this,function(r){switch(r.label){case 0:return t=n({},e),[4,this.props.onEdit(t)];case 1:return a=r.sent(),"UPDATE_TASK_SUCCESS"===a.type&&this.setState({task:a.task,messages:a.task.messages.slice()}),this.toggleEditPage(),[2]}})})},a.handleStatusChange=function(e){return i(a,void 0,void 0,function(){var t;return o(this,function(a){switch(a.label){case 0:return this.setState({updatingStatus:!0}),[4,this.props.onEdit(e)];case 1:return t=a.sent(),"UPDATE_TASK_SUCCESS"===t.type&&this.setState({task:t.task,messages:t.task.messages.slice()}),this.setState({updatingStatus:!1}),[2]}})})},a.onResolve=function(){return i(a,void 0,void 0,function(){var e;return o(this,function(t){return e=n({},this.state.task,{taskStatus:"COMPLETED"}),this.handleStatusChange(e),[2]})})},a.onReactivate=function(){return i(a,void 0,void 0,function(){var e;return o(this,function(t){return e=n({},this.state.task,{taskStatus:"IN_PROGRESS"}),this.handleStatusChange(e),[2]})})},a.onMessageSubmit=function(){return i(a,void 0,void 0,function(){var e,t;return o(this,function(a){switch(a.label){case 0:return this.setState({messageBeingSent:!0}),e=n({},this.state.task,{messageBody:this.state.message}),[4,this.props.onEdit(e)];case 1:return t=a.sent(),"UPDATE_TASK_SUCCESS"===t.type?this.setState({task:t.task,messages:t.task.messages.slice(),message:"",messageBeingSent:!1}):this.setState({messageBeingSent:!1}),[2]}})})},a.convertToDateTime=function(e){return"string"==typeof e&&(e=parseInt(e)),new Date(1e3*e).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})},a.state={task:n({},a.props.task),isLoading:!0,message:"",messages:[],messageBeingSent:!1,updatingStatus:!1,showEditPage:!1,maxImageNum:7},a}return r(MessageThread,e),MessageThread.prototype.render=function(){var e=this,t=this.state,a=t.message,r=t.messageBeingSent,n=t.updatingStatus,i=t.isLoading,o=(t.maxImageNum,this.state.task),c=o.taskOwner,p=["APPROVED_WITH_CONDITION","APPROVED","REJECTED","CANCELLED","INVALIDATED"],u=p.includes(this.props.approvalFull.approval.status),E=a.length>0,h=s.createElement("div",{className:"rfi-messageThread-wrapper"},s.createElement("div",{className:"rfi-description-bottom"},s.createElement("div",{className:"rfi-more-details flex"},i?s.createElement("div",{className:"awsui flex flex-centered"},s.createElement(l.Spinner,{size:"big",variant:"disabled"}),s.createElement("p",{className:"spinner-disabled-text"},"Loading recipients")):s.createElement("div",{className:"rfi-recipients flex-col"},s.createElement("span",{className:"rfi-recipients-count"},"Recipients("+o.participants.length+")"),s.createElement("div",{className:"rfi-recipients-img-stack flex"},s.createElement(ImageStack,{images:o.participants,maxImageNum:this.state.maxImageNum,participants:this.state.task.participants}))),s.createElement("div",{className:"rfi-status-container flex-col"},s.createElement("span",{className:"rfi-recipients-count"},"Status"),"ASSIGNED"===o.taskStatus||"IN_PROGRESS"===o.taskStatus?s.createElement("div",{className:"rfi-card-status flex"},s.createElement(l.Icon,{variant:"link",name:"status-pending"}),s.createElement("span",{style:{color:"#0073bb"}},"Active")):s.createElement("div",{className:"rfi-card-status flex"},s.createElement(l.Icon,{variant:"success",name:"status-positive"}),s.createElement("span",{style:{color:"#1d8102"}},"Resolved")),s.createElement("span",{className:"rfi-creation-time text-overflow"},"Created on"," ",this.convertToDateTime(o.createdAt))))));return this.state.showEditPage?s.createElement(f.default,{rfiData:this.state.task,approvalAdmins:this.props.approvalFull.approvalAdminList,approvalActors:this.props.approvalActors,onRfiEdit:this.onRfiEdit,openConfigPage:this.props.onConfig,onPrevious:this.toggleEditPage,onClose:this.toggleEditPage}):s.createElement("div",{className:"rfi-thread-container awsui flex-col"},s.createElement(d.default,{headerText:"Request for information by",actor:c,onPrevious:this.props.onPrevious,onClose:this.props.onClose}),s.createElement("div",{className:"rfi-thread-header"},s.createElement("div",{className:"rfi-description flex-col"},s.createElement("div",{className:"rfi-description-top flex"},s.createElement("div",{className:"rfi-description-text flex"},s.createElement("p",null,o.taskTitle),s.createElement(l.Tooltip,{text:s.createElement("span",null,"An approver can request information when they have a question that blocks them from providing a decision.",u&&" Requests for information on completed approvals cannot be edited, resolved, or reactivated."),position:"bottom",size:"large"},s.createElement("a",{className:"awsui-util-help-info-link"},"Info"))),s.createElement("div",{className:"rfi-thread-action-buttons flex"},s.createElement(l.Button,{icon:"edit",wrapText:!1,onClick:function(){return e.toggleEditPage()},disabled:i||u}," ","Edit"," "),("ASSIGNED"===o.taskStatus||"IN_PROGRESS"===o.taskStatus)&&s.createElement(l.Button,{variant:"primary",onClick:this.onResolve,loading:n,disabled:n||i||u,wrapText:!1}," ","Resolve"," "),("COMPLETED"===o.taskStatus||"CANCELLED"===o.taskStatus)&&s.createElement(l.Button,{variant:"primary",onClick:this.onReactivate,loading:n,disabled:n||i||u,wrapText:!1}," ","Reactivate"," "))),s.createElement(l.ExpandableSection,{variant:"borderless",expanded:!0,children:h}))),i?s.createElement("div",{className:"awsui rfi-message-placeholder flex flex-centered"},s.createElement(l.Spinner,{size:"big",variant:"disabled"}),s.createElement("p",{className:"spinner-disabled-text"},"Loading message thread")):s.createElement(m.default,{task:o,messages:this.state.messages,currentUser:this.props.currentUser}),s.createElement("div",{className:"rfi-form-message-area flex"},s.createElement("div",{className:"rfi-form-message-box"},s.createElement("textarea",{placeholder:"Type your message and send",rows:2,cols:1e3,disabled:r||i,value:a,onInput:function(t){return e.setState({message:t.target.value})}})),s.createElement("div",{className:"rfi-form-message-send"},s.createElement(l.Button,{variant:"primary",onClick:this.onMessageSubmit,loading:r,disabled:!E||i},"Send"))))},MessageThread.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,a;return o(this,function(r){switch(r.label){case 0:return this.setMaxImageNum(),window.onresize=this.setMaxImageNum,e={entityId:this.state.task.entityId,entityType:"APPROVAL",taskId:this.state.task.taskId,taskType:"RFI"},[4,c.default.request({method:"get",url:u.ServiceEndPoints.getTask,params:p.default(e)})];case 1:return t=r.sent(),a=JSON.parse(t.data.data).task,this.setState({task:a,messages:a.messages.slice(),isLoading:!1}),[2]}})})},MessageThread.prototype.componentWillUnmount=function(){window.onresize=null},MessageThread}(s.Component);t.default=h},1247:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(1248),o=function(e){function MessageThreadBody(t){var a=e.call(this,t)||this;return a.messagesEndRef=n.createRef(),a.scrollToBottom=function(){a.messagesEndRef.current&&a.messagesEndRef.current.scrollIntoView({behavior:"smooth"})},a}return r(MessageThreadBody,e),MessageThreadBody.prototype.render=function(){var e=this.props,t=e.messages,a=e.currentUser;return n.createElement("div",{className:"rfi-thread-body flex-col"},t.map(function(e){return n.createElement(i.default,{key:e.messageId,isFirstMessage:e===t[0],message:e,currentUser:a})}),n.createElement("div",{ref:this.messagesEndRef}))},MessageThreadBody.prototype.componentDidMount=function(){this.scrollToBottom()},MessageThreadBody.prototype.componentDidUpdate=function(){this.scrollToBottom()},MessageThreadBody}(n.Component);t.default=o},1248:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(1),o=a(5),s=a(52),l=function(e){function Message(t){return e.call(this,t)||this}return r(Message,e),Message.prototype.render=function(){var e,t,a=this.props,r=a.message,l=a.isFirstMessage,c=a.currentUser;e=l?"rfi-message initial-rfi flex":"rfi-message flex",t=c.alias===r.messageOwner.alias?" user-message":" non-user-message";var p=e+t;return n.createElement("div",{className:p},n.createElement("div",{className:"rfi-message-pic flex"},n.createElement("img",{className:"circularHeader",src:s.getActorImageLink(r.messageOwner),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@160x160.png"},width:"40px",height:"40px",alt:" "})),n.createElement("div",{className:"rfi-message-text-container flex-col"},n.createElement("div",{className:"rfi-initial-badge"},l&&n.createElement(o.Badge,{color:"blue"},"Request for information")),n.createElement("span",{className:"rfi-message-author"},r.messageOwner.firstName," ",r.messageOwner.lastName),n.createElement("p",{className:"rfi-message-text-body"},r.messageBody),n.createElement("span",{className:"rfi-message-time"},n.createElement("i",null,i(new Date(1e3*r.createdAt).getTime()).format("MM/DD/YYYY hh:mm a")))))},Message}(n.Component);t.default=l},1249:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(270),l=a(678),c=a(5),p=function(e){function RfiEditPage(t){var a=e.call(this,t)||this;return a.confirmRfiEdit=function(e){return n(a,void 0,void 0,function(){var t,a;return i(this,function(r){return t=this.props.rfiData,(a=t.participants.length!==e.participants.length)?(this.setState({showConfirmDialog:!0,rfiTaskEdit:e}),[2]):[2,this.props.onRfiEdit(e)]})})},a.handleRfiEdit=function(){return n(a,void 0,void 0,function(){return i(this,function(e){return this.setState({updatingRfi:!0}),[2,this.props.onRfiEdit(this.state.rfiTaskEdit)]})})},a.state={showConfirmDialog:!1,rfiTaskEdit:null,updatingRfi:!1},a}return r(RfiEditPage,e),RfiEditPage.prototype.render=function(){var e=this,t=this.props.rfiData;return t?o.createElement("div",{className:"rfi-createpage flex-col awsui"},o.createElement(s.default,{headerText:"Request for information by",actor:t.createdBy,onPrevious:this.props.onPrevious,onClose:this.props.onClose}),o.createElement(l.default,{rfiData:t,isEditPage:!0,approvalAdmins:this.props.approvalAdmins,approvalActors:this.props.approvalActors,openConfigPage:this.props.openConfigPage,onSave:this.confirmRfiEdit,onCancel:this.props.onPrevious}),o.createElement(c.Modal,{visible:this.state.showConfirmDialog,header:"Update recipients?",footer:o.createElement("span",{className:"awsui-util-f-r"},o.createElement(c.Button,{variant:"link",onClick:function(){return e.setState({showConfirmDialog:!1})}},"Cancel"),o.createElement(c.Button,{variant:"primary",onClick:this.handleRfiEdit,loading:this.state.updatingRfi},"Update recipients?"))},o.createElement("div",null,"Are you sure you want to change the recipients on the request for information thread?",o.createElement("br",null),o.createElement("br",null),"Anyone added will be able to see the entire history of the request for information thread, and will be able to add messages.",o.createElement("br",null),o.createElement("br",null),"Anyone removed will no longer receive notifications about requests for information, or be able to view or message in this thread."))):o.createElement(c.Spinner,{className:"awsui",size:"large"})},RfiEditPage}(o.Component);t.default=p},1250:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(1251),c=a(1252),p=a(1253),u=a(1254),d=a(5),m=a(4),f=a(680),E=a(271),h=a(8),v=function(e){function RfiConfig(t){var a=e.call(this,t)||this;return a.checkPermissions=function(){["APPROVAL_ADMIN","REQUESTER"].includes(a.props.approvalFull.approval.userRole)&&a.setState({hasPermission:!0})},a.fetchConfigs=function(){return i(a,void 0,void 0,function(){var e,t,a,r,n;return o(this,function(i){switch(i.label){case 0:e=this.props.approvalFull.approval.id,t={entityId:e,entityType:"APPROVAL"},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,h.default.request({method:"get",url:m.ServiceEndPoints.getTaskConfigs,params:E.default(t)})];case 2:if(a=i.sent(),a.data.errorMessage.length>0)throw new Error(a.data.errorMessage);return r=JSON.parse(a.data.data),this.setState({userConfigs:r.taskConfigurations,approvalId:e,isLoading:!1}),[3,4];case 3:return n=i.sent(),this.setState({isError:!0,errorMessage:f.parseErrorMessage(n),errorHeader:"Failed to retrieve all RFI configurations."}),[3,4];case 4:return[2]}})})},a.handleConfigCreate=function(e){return i(a,void 0,void 0,function(){var t,a,r,i,s,l;return o(this,function(o){switch(o.label){case 0:t=n({},e,{entityId:this.state.approvalId}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,h.default.request({method:"post",url:m.ServiceEndPoints.createTaskConfig,params:E.default(t)})];case 2:if(a=o.sent(),a.data.errorMessage.length>0)throw new Error(a.data.errorMessage);return r=JSON.parse(a.data.data),i=r.taskConfiguration,s={type:"success",text:"Configuration has been created successfully."},this.setState({userConfigs:[i].concat(this.state.userConfigs),showCreatePage:!1,alertMessage:s}),[3,4];case 3:return l=o.sent(),this.setState({isError:!0,errorMessage:f.parseErrorMessage(l),errorHeader:"Failed to create RFI configuration.",showCreatePage:!1}),[3,4];case 4:return[2]}})})},a.handleConfigEdit=function(e){a.setState({configToEdit:e,showEditPage:!0})},a.handleConfigUpdate=function(e){var t=n({},e,{entityId:a.state.approvalId,dbVersion:a.state.configToEdit.dbVersion,configurationId:a.state.configToEdit.configurationId});h.default.request({method:"put",url:m.ServiceEndPoints.updateTaskConfig,params:E.default(t)}).then(function(e){if(e.data.errorMessage.length>0)throw new Error(e.data.errorMessage);var t=JSON.parse(e.data.data),r=t.taskConfiguration,n=a.state.userConfigs.filter(function(e){return e.configurationId!==r.configurationId}),i={type:"success",text:"Configuration edit has been successful."};a.setState({userConfigs:[r].concat(n),configToEdit:null,showEditPage:!1,alertMessage:i})}).catch(function(e){return a.setState({isError:!0,errorMessage:f.parseErrorMessage(e),errorHeader:"Failed to edit RFI configuration.",showEditPage:!1})})},a.handleConfigDelete=function(){var e=a.state.configToDelete,t=n({},e);h.default.request({method:"delete",url:m.ServiceEndPoints.deleteTaskConfig,params:E.default(t)}).then(function(t){if(t.data.errorMessage.length>0)throw new Error(t.data.errorMessage);var r=a.state.userConfigs.filter(function(t){return t.configurationId!==e.configurationId}),n={type:"success",text:"Configuration deleted successfully."};a.setState({userConfigs:r.slice(),alertMessage:n,showConfirmDeleteBox:!1})}).catch(function(e){return a.setState({isError:!0,errorMessage:f.parseErrorMessage(e),errorHeader:"Failed to delete RFI configuration.",showConfirmDeleteBox:!1})})},a.confirmConfigDelete=function(e){a.setState({configToDelete:e,showConfirmDeleteBox:!0})},a.state={showCreatePage:!1,showEditPage:!1,userConfigs:[],configToEdit:null,configToDelete:null,showConfirmDeleteBox:!1,approvalId:null,hasPermission:!1,alertMessage:null,isError:!1,isLoading:!0,errorMessage:"",errorHeader:""},a}return r(RfiConfig,e),RfiConfig.prototype.render=function(){var e=this,t=this.state,a=t.userConfigs,r=(t.hasPermission,t.alertMessage),n=t.isError,i=t.errorMessage,o=t.errorHeader,m=t.isLoading,f=[{header:o,type:"error",content:i,dismissible:!0}];return s.createElement("div",{className:"rfi-config awsui flex-col"},n&&s.createElement("div",{className:"rfi-error awsui"},s.createElement(d.Flashbar,{items:f})),s.createElement("div",{className:"config-nav-bar flex"},s.createElement(d.Button,{variant:"icon",icon:"angle-left",onClick:this.props.onPrevious}),s.createElement("span",null,"Settings"),s.createElement(d.Button,{variant:"icon",icon:"close",onClick:this.props.onClose})),s.createElement("div",{className:"config-description"},this.props.privateApprovalsFeatureEnabled&&s.createElement("div",null,s.createElement("h2",null,"RFI recipient viewer type"),s.createElement("div",{className:"desc-text"},"When new recipients are included in an RFI, theyâ€™ll be added as the type of viewer specified here, to ensure they can access the approval."),s.createElement("div",{className:"awsui-util-font-size-2 awsui-util-pt-s awsui-util-pb-m"},"General viewer")),s.createElement("h2",null,"Additional request for information (RFI) recipients"),s.createElement("div",{className:"desc-text"},"By default, each RFI will include the approval requester and approval admin(s). Include additional recipients automatically on future RFIs by creating rules. Rules will not impact already active or resolved RFIs."),r&&s.createElement(d.Alert,{type:r.type,dismissible:!0,onDismiss:function(){e.setState({alertMessage:null})}},r.text)),m?s.createElement("div",{className:"config-cards rfi-loading-container flex"},s.createElement(d.Spinner,{className:"awsui",variant:"disabled"})," Loading configurations"):s.createElement(s.Fragment,null,s.createElement("div",{className:"config-cards"},a.length>0?a.map(function(t){return s.createElement(l.default,{key:t.configurationId,config:t,hasPermission:e.state.hasPermission,onEdit:e.handleConfigEdit,onDelete:e.confirmConfigDelete})}):this.state.hasPermission?s.createElement(d.Alert,null,"There currently arenâ€™t any rules. If youâ€™d like to include recipients automatically on future requests for information, create a rule."):s.createElement(d.Alert,null,"There currently arenâ€™t any rules and only approval admins or requesters can create rules.")),this.state.hasPermission?s.createElement("div",{className:"config-create flex"},s.createElement("div",{className:"config-create-btn"},s.createElement(d.Button,{variant:"primary",onClick:function(){return e.setState({showCreatePage:!0})}},"Create rule"))):null),this.state.showCreatePage&&s.createElement(c.default,{onCreate:this.handleConfigCreate,onClose:function(){return e.setState({showCreatePage:!1})}}),this.state.showEditPage&&s.createElement(p.default,{configToEdit:this.state.configToEdit,onEdit:this.handleConfigUpdate,onClose:function(){return e.setState({showEditPage:!1})}}),this.state.showConfirmDeleteBox&&s.createElement(u.default,{onDelete:this.handleConfigDelete,onCancel:function(){return e.setState({configToDelete:null,showConfirmDeleteBox:!1})}}))},RfiConfig.prototype.componentDidMount=function(){this.checkPermissions(),this.fetchConfigs()},RfiConfig}(s.Component);t.default=v},1251:function(e,t,a){"use strict";function EmployeeBadge(e){var t=e.actors;return n.createElement("div",{className:"config-actor-list flex"},t.map(function(e,t){return n.createElement(o.EmpBadge,{actor:e,key:(e.alias||e.groupName)+t})}))}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(272),s=function(e){function RfiConfigCard(t){var a=e.call(this,t)||this;return a.filterEntities=function(e){var t=[],a=[];return e&&e.forEach(function(e){"PRINCIPAL"===e.type?t.push(e):a.push(e)}),{individuals:t,groups:a}},a}return r(RfiConfigCard,e),RfiConfigCard.prototype.render=function(){var e=this,t=this.props,a=t.config,r=t.hasPermission,o=this.filterEntities(a.taskContributors),s=this.filterEntities(a.initiators);return n.createElement(n.Fragment,null,n.createElement("div",{className:"awsui-util-container",key:a.configurationId},n.createElement("div",{className:"awsui-util-container-header"},n.createElement("div",{className:"awsui-util-action-stripe"},n.createElement("div",{className:"awsui-util-action-stripe-title"},n.createElement("h2",null,a.title)),r?n.createElement("div",{className:"awsui-util-action-stripe-group flex",style:{alignItems:"center"}},n.createElement("i",{className:"fa fa-trash-o fa-3","aria-hidden":"true",onClick:function(){return e.props.onDelete(a)}}),n.createElement(i.Button,{icon:"edit",onClick:function(){return e.props.onEdit(a)}}," ","Edit"," ")):null),n.createElement("div",{className:"awsui-util-container-header-description awsui-util-mt-s"},a.description)),n.createElement(i.ColumnLayout,{borders:"horizontal"},n.createElement("div",{"data-awsui-column-layout-root":"true"},n.createElement("div",{className:"awsui-util-spacing-v-s"},n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"When will additional recipients will be added?"),n.createElement("div",null,"ANY"===a.initiatorType?"All RFIs on this approval":"RFIs are from specific approvers only")),"ANY"!==a.initiatorType&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Rule type"),n.createElement("div",null,"JOB_LEVEL"===a.initiatorType?"RFI is from someone at a specified level":"RFI is from a specific person")),"JOB_LEVEL"===a.initiatorType?n.createElement("div",{className:"awsui-util-spacing-v-s"},n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Level Configuration"),n.createElement("div",null,"ABSOLUTE"===a.configurationJobLevel.configurationJobLevelRangeType?"Specific level":"Level range")),"ABSOLUTE"===a.configurationJobLevel.configurationJobLevelRangeType?n.createElement("div",null,n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Level"),n.createElement("div",null,a.configurationJobLevel.jobLevelAbsolute))):n.createElement("div",{className:"flex",style:{gap:"10px"}},n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Minimum Level"),n.createElement("div",null,a.configurationJobLevel.jobLevelMin)),n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Maximum Level"),n.createElement("div",null,a.configurationJobLevel.jobLevelMax)))):n.createElement("div",{className:"awsui-util-spacing-v-s"},s.individuals.length>0&&n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Individuals"),n.createElement(EmployeeBadge,{actors:s.individuals,type:"person"})),s.groups.length>0&&n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Members of a group"),n.createElement(EmployeeBadge,{actors:s.groups,type:"person"}))))),n.createElement("div",null,n.createElement("p",{className:"awsui-util-mv-s"},"Who will be added?"),n.createElement("div",{className:"awsui-util-spacing-v-s"},o.individuals.length>0&&n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Individuals"),n.createElement(EmployeeBadge,{actors:o.individuals,type:"person"})),o.groups.length>0&&n.createElement("div",null,n.createElement("div",{className:"awsui-util-label"},"Members of a group"),n.createElement(EmployeeBadge,{actors:o.groups,type:"group"}))))))))},RfiConfigCard}(n.Component);t.default=s},1252:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(272),o=function(e){function RfiConfigCreate(t){return e.call(this,t)||this}return r(RfiConfigCreate,e),RfiConfigCreate.prototype.render=function(){return n.createElement(i.default,{onCreate:this.props.onCreate,onClose:this.props.onClose})},RfiConfigCreate}(n.Component);t.default=o},1253:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(272),o=function(e){function RfiConfigEdit(t){return e.call(this,t)||this}return r(RfiConfigEdit,e),RfiConfigEdit.prototype.render=function(){return n.createElement(i.default,{configData:this.props.configToEdit,onEdit:this.props.onEdit,onClose:this.props.onClose})},RfiConfigEdit}(n.Component);t.default=o},1254:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=function(e){function RfiConfigDelete(t){var a=e.call(this,t)||this;return a.state={isDeleting:!1},a}return r(RfiConfigDelete,e),RfiConfigDelete.prototype.render=function(){var e=this;return n.createElement(i.Modal,{visible:!0,size:"medium",header:"Delete request for information rule?",onDismiss:this.props.onCancel,footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement(i.Button,{variant:"link",onClick:this.props.onCancel},"Cancel"),n.createElement(i.Button,{variant:"primary",loading:this.state.isDeleting,onClick:function(){e.setState({isDeleting:!0}),e.props.onDelete()}},"Delete"))},"Are you sure you want to delete this rule? The specified additional recipients will no longer be added to newly created RFIs. Already active or resolved RFIs will not be impacted.",n.createElement("br",null),n.createElement("br",null),"Once deleted, this rule cannot be restored.")},RfiConfigDelete}(n.Component);t.default=o},1255:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function TemplateAttachment(){}return TemplateAttachment}();t.TemplateAttachment=r;var n=function(){function AttachmentVersion(){}return AttachmentVersion}();t.AttachmentVersion=n},1256:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ApprovalDocument(){}return ApprovalDocument}();t.ApprovalDocument=r;var n=function(){function AttachmentVersion(){}return AttachmentVersion}();t.AttachmentVersion=n},1257:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(684),o=a(46),s=a(139),l=a(86),c=a(72),p=a(10),u=a(5),d=a(7),m=a(4),f=a(61),E=a(51),h=function(e){function DelegateeModalPickerComponentProps(t){var a=e.call(this,t)||this;return a.searchResult=[],a.pendingAlertId=Math.random(),a.selectedActor=null,a.state={query:null,fromDate:null,toDate:null,delegationCreationFailed:!1},a.searchPeople=a.searchPeople.bind(a),a.selectPeople=a.selectPeople.bind(a),a}return r(DelegateeModalPickerComponentProps,e),DelegateeModalPickerComponentProps.prototype.selectPeople=function(e,t){this.searchResult.map(function(e){e.selected=!1}),this.selectedActor=e,this.searchResult[t].selected=!0,this.forceUpdate()},DelegateeModalPickerComponentProps.prototype.searchPeople=function(e){13==e.detail.keyCode&&this.props.callPeopleSearchApi(this.state.query)},DelegateeModalPickerComponentProps.prototype.loadApprovalRequest=function(){var e=this;fetch(m.ServiceEndPoints.getApprovalPlan+this.props.approvalId,{credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.props.approvalPlanChange(t.data,t.verion),e.props.hidePeopleModal()})},DelegateeModalPickerComponentProps.prototype.componentWillReceiveProps=function(e){e.isCreateDelegationPending&&this.props.isCreateDelegationPending!=e.isCreateDelegationPending&&this.props.showNotification({id:this.pendingAlertId,content:"Adding delegation rule",loading:!0,type:"alert",status:"info"}),e.delegationCreated&&this.props.delegationCreated!=e.delegationCreated&&(this.props.deleteNotification(this.pendingAlertId),this.props.showNotification({id:Math.random(),content:"Delegation added successfully.",loading:!1,type:"alert",status:"success",duration:2500}),this.props.hidePeopleModal(),window.location.reload(!0)),e.delegationFailed&&this.props.delegationFailed!=e.delegationFailed&&(this.props.deleteNotification(this.pendingAlertId),this.props.showNotification({id:Math.random(),content:e.delegationFailedMsg,loading:!1,type:"alert",status:"error"})),this.props.showModal!=e.showModal&&(this.searchResult=[],this.selectedActor=null,this.setState({fromDate:"",toDate:"",query:null}),this.props.clearPeopleSearch())},DelegateeModalPickerComponentProps.prototype.render=function(){var e=this;return this.props.peopleResults.data&&this.props.peopleResults.data.length>0?this.searchResult=this.props.peopleResults.data:this.searchResult=[],n.createElement("div",{className:"awsui"},n.createElement(u.Modal,{size:"large",content:n.createElement("div",{className:"delegatee modal-search-container"},n.createElement("div",null,n.createElement(u.ColumnLayout,{columns:3},n.createElement("div",{"data-awsui-column-layout-root":"true"},n.createElement(u.FormField,{label:n.createElement("b",null,"Search for Delegatee")},n.createElement(u.Input,{autocomplete:!1,onKeyup:this.searchPeople,type:"search",value:this.state.query,onChange:function(t){e.setState({query:t.detail.value})}})),n.createElement(u.FormField,{label:n.createElement("b",null,"Start Date")},n.createElement(l.default,{formatDate:c.formatDate,parseDate:c.parseDate,value:this.state.fromDate||"",disabled:!1,dayPickerProps:{disabledDays:{before:new Date}},onDayChange:function(t,a){e.setState({fromDate:t})},placeholder:"MM/DD/YYYY"})),n.createElement(u.FormField,{label:n.createElement("b",null,"End Date")},n.createElement(l.default,{formatDate:c.formatDate,parseDate:c.parseDate,disabled:!1,value:this.state.toDate||"",dayPickerProps:{disabledDays:{before:new Date}},onDayChange:function(t,a){e.setState({toDate:t})},placeholder:"MM/DD/YYYY"}))))),n.createElement("div",{className:"awsui-util-mt-l legalCounselResults"},n.createElement(u.ColumnLayout,{columns:2},n.createElement("div",{"data-awsui-column-layout-root":"true",className:"awsui-util-pt-m "},this.props.isPeopleSearchLoading&&n.createElement(u.Spinner,null),this.searchResult.map(function(t,a){return t.type==m.ActoryType.PRINCIPAL?n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.alias},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:m.ServiceEndPoints.phoneToolImage+t.alias,alt:""}),n.createElement("div",{className:"favorite-star"}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:m.ServiceEndPoints.phoneToolLink+t.alias,target:"blank",className:"name"},t.firstName," ",t.lastName)),n.createElement("p",{className:"title"},t.title),n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("p",{className:"department"},t.departmentName,n.createElement("span",{className:"deptID"},"(",t.departmentId,")"))),n.createElement(u.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}),n.createElement("div",{className:"levelTab"},"L",t.jobLevel)))):n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.groupName},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:"/assets/images/GroupImage.png",alt:""}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:E.getGroupDetailsLink(t),target:"blank"},n.createElement("h5",{title:t.groupName,className:"userName"},t.groupName))),n.createElement("p",{className:"title"},E.getGroupDisplayName(t.type)),n.createElement("span",{className:"awsui-util-clearfix"})),n.createElement(u.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}))))}))))),visible:this.props.showModal,header:"Add delegation for Approval "+this.props.approvalId,onDismiss:function(t){e.props.hidePeopleModal()},footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:function(t){e.props.hidePeopleModal()}},"Cancel"),n.createElement("button",{className:"btn btn-primary",onClick:function(t){e.onDelegationSave()}},"Save"))}))},DelegateeModalPickerComponentProps.prototype.onDelegationSave=function(){if(!this.selectedActor)return void this.props.showNotification({id:Math.random(),content:"Please select delegatee",type:"alert",status:"info"});if(!this.state.fromDate)return void this.props.showNotification({id:Math.random(),content:"Please select Start date",type:"alert",status:"info"});if(!this.state.toDate)return void this.props.showNotification({id:Math.random(),content:"Please select End date",type:"alert",status:"info"});if(this.state.toDate<this.state.fromDate)return void this.props.showNotification({id:Math.random(),content:"Start Date should be always greater than End Date",type:"alert",status:"info"});var e=this.selectedActor.type==m.ActoryType.PRINCIPAL?this.selectedActor.alias:this.selectedActor.groupName;this.props.createDelegationRule(this.props.approvalId,e,this.selectedActor.type,this.state.fromDate,this.state.toDate)},DelegateeModalPickerComponentProps}(n.Component),v=function(e){return{peopleResults:e.PeopleSearch.peopleResults,showModal:e.PeoplePickerModal.showModal,modalHeader:e.PeoplePickerModal.modalHeaderText,modalType:e.PeoplePickerModal.modalType,isCreateDelegationPending:e.DelegationService.isCreateDelegationPending,delegationCreated:e.DelegationService.isCreateDelegationSucceeded,delegationFailed:e.DelegationService.isCreateDelegationFailed,delegationFailedMsg:e.DelegationService.createDelegationErrorMsg,isPeopleSearchLoading:e.PeopleSearch.isPending}},A=function(e){return{callPeopleSearchApi:function(t){e(o.queryPeopleSearch(t))},hidePeopleModal:function(){e(i.hidePeopleModal())},showNotification:function(t){e(p.updateNotification({value:t}))},createDelegationRule:function(t,a,r,n,i){e(s.createDelegationRule(t,a,r,n,i))},deleteNotification:function(t){e(p.deleteNotification({value:t}))},clearPeopleSearch:function(){e(o.clearPeopleResults())},approvalPlanChange:function(t,a){e(f.approvalPlanChange({routesByLevel:t,approvalPlanVersion:a}))}}};t.default=d.connect(v,A)(h)},1258:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(141),s=a(5),l=a(6),c=a(273),p=a(274),u=a(101),d=function(e){function default_1(t){var a=e.call(this,t)||this;return a.state={name:null},a}return r(default_1,e),default_1.prototype.generateNewAttribute=function(e,t){var a=this.props.attribute,r=n({},a);switch(e){case"type":r.type=t;break;case"name":r.name=t;break;case"description":r.description=t;break;case"value":r.value=t;break;case"parameter":r.parameter=t;break;case"locked":r.locked=t;break;case"required":r.required=t;break;case"privateAttribute":r.privateAttribute=t}return r},default_1.prototype.update=function(e,t){t&&this.props.upsertAttributeLocal(this.generateNewAttribute(e,t))},default_1.prototype.updateAndSave=function(e,t){this.props.updateAttribute(this.generateNewAttribute(e,t))},default_1.prototype.getType=function(e){var t=this;return e._editing&&!0===e.canChangeValue&&1==e.canChangeRequired?i.createElement(s.Select,{selectedId:e.type,options:l.ATTRIBUTE_TYPE_OPTIONS,onChange:function(e){t.update("type",e.detail.selectedId)}}):i.createElement("span",null,o.getAttributeTypeDisplayName(e.type))},default_1.prototype.getName=function(e){var t=this;if(e._editing&&!0===e.canChangeName){var a="string"==typeof this.state.name,r=a?this.state.name:e.name;return i.createElement(s.Input,{value:r,invalid:!e._isValid,disabled:e._saving,onInput:function(e){return t.setState({name:e.detail.value})},onBlur:function(){t.update("name",r),t.setState({name:null})},autofocus:!0})}return e.name},default_1.prototype.getDescription=function(e){var t=this;if(!e._editing||!e.canChangeName)return e.description;var a="string"==typeof this.state.description,r=a?this.state.description:e.description;return i.createElement(s.Input,{value:r,disabled:e._saving,onInput:function(e){return t.setState({description:e.detail.value})},onBlur:function(){t.update("description",r),t.setState({description:null})}})},default_1.prototype.getButton=function(e){var t=this;return e._editing?i.createElement(s.Button,{variant:"primary",disabled:!e._isValid||0==e.canChangeName&&0==e.canChangeValue,text:e._saving?"Saving":"new"==e.id?"Add":"Save",loading:e._saving,formAction:"none",onClick:function(e){t.props.saveAttribute()},"data-testid":"new"==e.id?"detail-page__key-details-add-button":"detail-page__key-details-save-button"}):i.createElement(s.Button,{variant:"link",disabled:!e._isValid||0==e.canChangeName&&0==e.canChangeValue,text:e._saving?"Saving":"Edit",loading:e._saving,formAction:"none",onClick:function(a){t.props.upsertAttributeLocal(n({},e,{_editing:!0}))}})},default_1.prototype.canEnableActions=function(e){var t=!0;return(1==e.lockedFromTemplate||1==e.locked&&0==e.canChangeLocked)&&(t=!1),t},default_1.prototype.getReorderButton=function(e,t){return e._editing||t?null:i.createElement("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})},default_1.prototype.getRuleInfo=function(e){var t=null,a=u.getDisplayRuleNames(e.ruleIds);return 0!=this.props.showRulesInfo&&null!=a&&(t=i.createElement("span",{className:"ruleBasedApprover"},i.createElement("span",{className:"approverRule awsui-util-p-xs"}," Used in rule(s) ",a))),t},default_1.prototype.render=function(){var e=this,t=this.props,a=(t.index,t.attribute),r=t.readOnly,n=t.privateApprovalsFeatureEnabled,o=t.approvalIsPrivate,l=this.getType(a),u=this.getName(a),d=this.getDescription(a),m=this.getButton(a),f=this.getReorderButton(a,r),E=this.getRuleInfo(a),h=0!=this.props.showRulesInfo&&E,v=a.required?"row-required":"not-required",A=a.locked?"row-locked":"not-locked",g=a.privateAttribute?"row-private":"not-private",T="attribute-row "+a.type+" "+v+" "+A+" "+g;return i.createElement("form",{method:"POST",onSubmit:function(t){t.preventDefault(),e.props.saveAttribute()}},i.createElement("div",{className:T},i.createElement("div",{className:"reorder-handle"},f),i.createElement("div",{className:"details-and-description"},i.createElement("div",{className:"details","data-testid":"detail-page__key-details-input"},i.createElement("div",{className:h?"rule-info":""},u,h&&i.createElement(i.Fragment,null,i.createElement("div",{className:"awsui-util-clearfix"}),E)),i.createElement("div",{className:"type"},l),i.createElement("div",{className:"value"},i.createElement(p.default,{attribute:a,update:function(t){return e.update("parameter",t)}}),i.createElement(c.default,{attribute:a,save:function(){e.props.saveAttribute()},updateAndSave:function(t){return e.updateAndSave("value",t)},update:function(t){return e.update("value",t)}})),i.createElement("div",{className:o?"privacy-type":"jsHide"},a.privateAttribute&&i.createElement("div",{className:"private-attachment","data-testid":"detail-page__key-detail-private-badge"},i.createElement(s.Badge,{color:"grey"},i.createElement("i",{className:"fa fas fa-user-secret fa-lg"}),"Â Private")))),d&&i.createElement(s.ExpandableSection,{header:i.createElement("span",{"data-testid":"detail-page__key-details-description"},"Description"),variant:"borderless"},d)),i.createElement("div",{className:"awsui-grid action-bar"},1==this.canEnableActions(this.props.attribute)||"new"==a.id?i.createElement("div",{className:"awsui-row"},i.createElement("div",{className:"col-4 awsui-util-pl-m button"},m),i.createElement("div",{className:"col-2 awsui-util-pl-m locked"},1==this.props.attribute.canChangeLocked&&i.createElement("div",null,i.createElement(s.Tooltip,{position:"top",text:!0===this.props.attribute.locked?"Key detail is locked":"Key detail is unlocked"},i.createElement("a",{className:"attributeLocked",href:"javascript:void(0)",onClick:function(){a._saving||e.props.updateAttribute({locked:!a.locked})}},i.createElement("span",{className:"fa fa-"+(!0===this.props.attribute.locked?"lock":"unlock")+" fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"}}))))),n&&o&&i.createElement("div",{className:"col-2 awsui-util-pl-m private-detail"},i.createElement("div",null,i.createElement(s.Tooltip,{position:"top",text:!0===this.props.attribute.privateAttribute?"Key detail is private":"Key detail is non-private"},i.createElement("a",{className:"attributePrivate",href:"javascript:void(0)","data-testid":"draft-page__key-details-private-checkbox",onClick:function(){a._saving||e.props.updateAttribute({privateAttribute:!a.privateAttribute})}},i.createElement("span",{className:"fa fa-"+(!0===this.props.attribute.privateAttribute?"user-secret":"user")+" fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"}}))))),i.createElement("div",{className:"col-2 awsui-util-pl-m required"},1==this.props.attribute.canChangeRequired&&i.createElement("div",null,i.createElement(s.Tooltip,{position:"top",text:!0===a.required?"Mandatory":"Optional"},i.createElement("a",{className:"attributeRequired",href:"javascript:void(0)",onClick:function(){a._saving||e.props.updateAttribute({required:!a.required})}},i.createElement("span",{className:"fa fa-asterisk fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"}}))))),i.createElement("div",{className:"col-2 awsui-util-pl-m delete"},1==this.props.attribute.canDelete&&i.createElement("div",null,i.createElement(s.Tooltip,{position:"top",text:"Delete"},i.createElement("a",{href:"javascript:void(0)",onClick:this.props.deleteAttribute},i.createElement("span",{className:"fa fa-trash fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"}}))))),i.createElement("div",{className:"col-2 awsui-util-pl-m selectOptions"},1==this.props.attribute.canChangeValue&&i.createElement("div",null,i.createElement("a",{className:"attributeSelectOptionsIcon",href:"javascript:void(0)",title:"configure dropdown values",onClick:this.props.showAttributeSelectOptions},i.createElement("span",{className:"fa fa-cog fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"}}))))):i.createElement("div",{className:"awsui-row"},i.createElement("div",{className:"col-12"},i.createElement("i",null,1==this.props.attribute.lockedFromTemplate?"(This attribute is locked at template)":this.props.attribute.locked?"(This attribute is locked)":""))))))},default_1}(i.Component);t.default=d},1267:function(e,t,a){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(41),s=a(5),l=o.default.div(p||(p=r(["\n"],["\n"]))),c=function(e){function default_1(t){var a=e.call(this,t)||this;return a.state={value:t.value},a}return n(default_1,e),default_1.prototype.componentWillReceiveProps=function(e){e.visible&&this.setState({value:e.value})},default_1.prototype.render=function(){var e=this,t=this.state.value,a=this.props,r=a.visible,n=a.save,o=a.close,c=a.attributeName;return i.createElement(l,null,i.createElement(s.Modal,{onDismiss:o,content:i.createElement("div",null,i.createElement(s.FormField,{label:"Items",description:"Enter one item per line"},i.createElement(s.Textarea,{value:t,onChange:function(t){e.setState({value:t.detail.value})}}))),visible:r,header:"Attribute "+c+" Settings",footer:i.createElement("span",{className:"awsui-util-f-r"},i.createElement(s.Button,{variant:"link",text:"Cancel",onClick:o}),i.createElement(s.Button,{variant:"primary",text:"Ok",onClick:function(){n(t)}}))}))},default_1}(i.Component);t.default=c;var p},135:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function MenuItem(e,t,a,r){this.text=e,this.data=t,this.key=a,this.header=r}return MenuItem}();t.MenuItem=r},1371:function(e,t,a){"use strict";function mapStateToProps(e){return{}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(4),o=a(13),s=a(77),l=a(7),c=a(10),p=function(e){function ApprovalActionsFooterComponent(t){var a=e.call(this,t)||this;return a.state={currentUser:null,routeFullList:null,displayActions:!1},a.handleEditOnclick=a.handleEditOnclick.bind(a),a.displayInfo=a.displayInfo.bind(a),a.handleMoreActions=a.handleMoreActions.bind(a),a.handleRequestInformation=a.handleRequestInformation.bind(a),a}return r(ApprovalActionsFooterComponent,e),ApprovalActionsFooterComponent.prototype.handleEditOnclick=function(){n.createElement(s.Redirect,{to:"/approval/edit/"+this.props.approvalId+"1"})},ApprovalActionsFooterComponent.prototype.handleMoreActions=function(){this.moreActionContainer.classList.toggle("moreAction-show")},ApprovalActionsFooterComponent.prototype.handleRequestInformation=function(){this.requestInformationContainer.classList.toggle("requestInformation-show")},ApprovalActionsFooterComponent.prototype.displayInfo=function(){this.props.dispatch(c.updateNotification({value:{id:Math.random(),content:"This feature will be available soon.",type:"alert",status:"info",duration:2e3}}))},ApprovalActionsFooterComponent.prototype.render=function(){var e,t,a,r=this,s=!1,l=!1,c=!1,p=!1,u=!1,d=!1,m=!1;if(null!=this.props&&this.props.status==o.ApprovalStatus.PENDING&&(this.props.userRole===i.UserRole.REQUESTER||this.props.userRole===i.UserRole.APPROVAL_ADMIN)&&null!=this.props.allowedRequesterActions&&this.props.allowedRequesterActions.length>0)for(var f=0;f<this.props.allowedRequesterActions.length;f++)this.props.allowedRequesterActions[f]==i.RequestorAction.CANCEL&&(p=!0),this.props.allowedRequesterActions[f]==i.RequestorAction.RESTART_APPROVAL&&(u=!0);return this.props.allowedRequesterActions.length>0&&(l=!0),this.props.approvalPlan&&(this.props.approvalPlan.forEach(function(r){r.forEach(function(r){r.route&&r.approvers.forEach(function(r){r.forEach(function(r){r.allowedApproverActions.length>0&&(s||(t=r.id,e=r.allowedApproverActions,a=r.actor.type,r.assignmentStatus===o.ActorAssignmentStatus.APPROVER_PENDING?s=!0:l=!0))})})})}),c=s&&e&&-1!=e.indexOf(i.ApproverAction.RECOMMEND_FOR_APPROVAL),u=l&&e&&-1!=e.indexOf(i.ApproverAction.RESTART_APPROVAL),d=e&&-1!=e.indexOf(o.AllowedApproverActions.RESUME_APPROVAL)),this.props.status==o.ApprovalStatus.ON_HOLD&&(s=!1,this.props.userRole===i.UserRole.REQUESTER||this.props.userRole===i.UserRole.APPROVAL_ADMIN?p=!0:this.props.userRole===i.UserRole.APPROVER&&(p=!1,m=!0)),s?c?n.createElement("div",{className:"stickyFooter detailsPageActions"},n.createElement("div",{className:"stickyNavigation stickyNavigationRecommend "},n.createElement("div",{className:"action-button approval"+(0==p?" ewr4 ewr4o":" ewr5")},n.createElement("a",{"data-testid":"recommend-approve-button",href:"javascript:void(0)",id:t,onClick:this.props.onRecommendApprove},n.createElement("i",{className:"fa fas fa-thumbs-up fa-lg"}),"Recommend Approve")),n.createElement("div",{className:"action-button requestInformation"+(0==p?" ewr4 ewr4o":" ewr5")},n.createElement("span",{id:"requestInformation-dropdown",ref:function(e){return r.requestInformationContainer=e},className:"requestInformation-dropdown-content "+(1==p?" ewr6 ewr6o":" ewr5")},n.createElement("a",{"data-testid":"request-information-button-large",href:"javascript:void(0)",onClick:this.props.onRequestInformationClick},n.createElement("p",{className:"rfiButtonHeader"},"Request information",n.createElement("span",null," New")),n.createElement("p",{className:"rfiButtonBody"},'Use when you canâ€™t make a decision until more information is provided. A new thread will be created in the request for information tab of the correspondence section. Your thread will only be visible to the recipients included. A sub-status will show on this approval reading "Request for info" until your request is marked as resolved or you have made a decision.')),n.createElement("a",{"data-testid":"correspondence-button-large",href:"javascript:void(0)",onClick:this.props.onQuestionClick},n.createElement("p",{className:"rfiButtonHeader"},"Message in the correspondence section"),n.createElement("p",{className:"rfiButtonBody"},"Use when you want to communicate with everyone who has access to this approval. There will be no change in the approval status."))),n.createElement("a",{"data-testid":"request-information-button",href:"javascript:void(0)",onClick:this.handleRequestInformation},n.createElement("i",{className:"fa fas fa-question-circle fa-lg"}),"Request information",n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))),n.createElement("div",{className:"action-button reject"+(0==p?" ewr4 ewr4o":" ewr5")},n.createElement("a",{"data-testid":"recommend-reject-button",href:"javascript:void(0)",id:t,onClick:this.props.onRecommendReject},n.createElement("i",{className:"fa fas fa-thumbs-down fa-lg"}),"Recommend Reject")),n.createElement("div",{className:"action-button delegate "+(0==p?" ewr4 ewr4o":" ewr5"),onClick:this.handleMoreActions},n.createElement("span",{id:"moreActions",ref:function(e){return r.moreActionContainer=e},className:"moreactions-dropdown-content "+(1==p?" ewr6 ewr6o":" ewr5")},n.createElement("a",{"data-testid":"transfer-button",href:"javascript:void(0)",onClick:function(){return r.props.onTransferClick(t)}},"Transfer"),n.createElement("a",{"data-testid":"delegate-button",href:"javascript:void(0)",onClick:function(){return r.props.onDelegateClick(a)}},"Delegate"),n.createElement("a",{"data-testid":"restart-button",href:"javascript:void(0)",id:t,onClick:this.props.onRestart},"Restart"),this.props.status==o.ApprovalStatus.PENDING&&n.createElement("a",{"data-testid":"on-hold-button",href:"javascript:void(0)",onClick:function(){return r.props.onHoldClick(t)}},"Place On Hold")),n.createElement("p",{"data-testid":"more-actions-text",className:"moreActions-alignment"},n.createElement("span",null,"More actions"),n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))),1==p&&n.createElement("div",{className:"action-button reject cancel ewr5"},n.createElement("a",{"data-testid":"cancel-request-button",href:"javascript:void(0)",onClick:this.props.onCancel},"Cancel Request")))):n.createElement("div",{className:"stickyFooter detailsPageActions"},n.createElement("div",{className:"stickyNavigation"},n.createElement("div",{className:"action-button approval"+(1==p?" ewr6 ewr6o":" ewr5")},n.createElement("a",{"data-testid":"approve-button",href:"javascript:void(0)",id:t,onClick:this.props.onApprove},n.createElement("i",{className:"fa fas fa-thumbs-up fa-lg"}),"Approve")),n.createElement("div",{className:"action-button conditions"+(1==p?" ewr6 ewr6c":" ewr5")},n.createElement("a",{"data-testid":"approve-with-conditions-button",href:"javascript:void(0)",id:t,onClick:this.props.onApproveWithConditions},n.createElement("i",{className:"fa fas fa-check-square fa-lg"}),"Approve with conditions")),n.createElement("div",{className:"action-button requestInformation"+(0==p?" ewr4 ewr4o":" ewr5"),onClick:this.handleRequestInformation},n.createElement("span",{id:"requestInformation-dropdown",ref:function(e){return r.requestInformationContainer=e},className:"requestInformation-dropdown-content "+(1==p?" ewr6 ewr6o":" ewr5")},n.createElement("a",{"data-testid":"request-information-button-large",ref:"javascript:void(0)",onClick:this.props.onRequestInformationClick},n.createElement("p",{className:"rfiButtonHeader"},"Request information",n.createElement("span",null," New")),n.createElement("p",{className:"rfiButtonBody"},"Use when you canâ€™t make a decision until more information is provided. A new thread will be created in the request for information tab of the correspondence section, and will only be visible to the designated recipients.")),n.createElement("a",{"data-testid":"correspondence-button-large",href:"javascript:void(0)",onClick:this.props.onQuestionClick},n.createElement("p",{className:"rfiButtonHeader"},"Message in the correspondence section"),n.createElement("p",{className:"rfiButtonBody"},"Anyone with access to this approval will be able to read this message. The status and assignment will not change."))),n.createElement("a",{"data-testid":"request-information-button",href:"javascript:void(0)"},n.createElement("i",{className:"fa fas fa-question-circle fa-lg"}),"Request information",n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))),n.createElement("div",{className:"action-button reject"+(1==p?" ewr6 ewr6o":" ewr5")},n.createElement("a",{"data-testid":"reject-button",href:"javascript:void(0)",id:t,onClick:this.props.onReject},n.createElement("i",{className:"fa fas fa-thumbs-down fa-lg"}),"Reject")),n.createElement("div",{className:"action-button delegate "+(1==p?" ewr6 ewr6o":" ewr5"),onClick:this.handleMoreActions},n.createElement("span",{"data-testid":"more-actions-dropdown",id:"moreActions",ref:function(e){return r.moreActionContainer=e},className:"moreactions-dropdown-content"+(1==p?" ewr6 ewr6o":" ewr5 align-right")},n.createElement("a",{"data-testid":"transfer-button",href:"javascript:void(0)",onClick:function(){return r.props.onTransferClick(t)}},"Transfer"),n.createElement("a",{"data-testid":"delegate-button",href:"javascript:void(0)",onClick:function(){return r.props.onDelegateClick(a)}},"Delegate"),n.createElement("a",{"data-testid":"restart-button",href:"javascript:void(0)",id:t,onClick:this.props.onRestart},"Restart"),this.props.status==o.ApprovalStatus.PENDING&&n.createElement("a",{"data-testid":"on-hold-button",href:"javascript:void(0)",onClick:function(){return r.props.onHoldClick(t)}},"Place On Hold")),n.createElement("p",{"data-testid":"more-actions-text",className:"moreActions-alignment"},n.createElement("span",null,"More actions"),n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))),1==p&&n.createElement("div",{className:"action-button reject cancel ewr6"},n.createElement("a",{"data-testid":"cancel-request-button",href:"javascript:void(0)",onClick:this.props.onCancel},"Cancel Request")))):1==p?n.createElement("div",{className:"stickyFooter detailsPageActions"},n.createElement("div",{className:"stickyNavigation"},n.createElement("div",{className:"action-button placeholder"}),n.createElement("div",{"data-testid":"more-actions-dropdown",className:"action-button delegate ewr5",onClick:this.handleMoreActions},n.createElement("span",{id:"moreActions",ref:function(e){return r.moreActionContainer=e},className:"moreactions-dropdown-content ewr5"},n.createElement("a",{href:"javascript:void(0)",id:t,onClick:this.props.onRestart},"Restart"),this.props.status==o.ApprovalStatus.PENDING&&n.createElement("a",{"data-testid":"on-hold-button",href:"javascript:void(0)",onClick:function(){return r.props.onHoldClick(t)}},"Place On Hold"),this.props.status==o.ApprovalStatus.ON_HOLD&&n.createElement("a",{"data-testid":"resume-button",href:"javascript:void(0)",onClick:function(){return r.props.resumeClick(t)}},"Resume")),n.createElement("p",{"data-testid":"more-actions-text",className:"moreActions-alignment"},n.createElement("span",null,"More Actions"),n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))),n.createElement("div",{className:"action-button reject cancel"},n.createElement("a",{"data-testid":"cancel-request-button",href:"javascript:void(0)",onClick:this.props.onCancel},"Cancel Request")))):m&&d?n.createElement("div",{className:"stickyFooter detailsPageActions"},n.createElement("div",{className:"stickyNavigation"},n.createElement("div",{className:"action-button placeholderSingleActionButton"}),n.createElement("div",{className:"action-button delegate ewr5"},n.createElement("a",{"data-testid":"resume-button",href:"javascript:void(0)",onClick:function(){return r.props.resumeClick(t)}},n.createElement("span",{className:"moreActions-alignment"},n.createElement("i",{className:"fa fas fa-play-circle fa-lg"}),"Resume"))))):l?n.createElement("div",{className:"stickyFooter detailsPageActions"},n.createElement("div",{className:"stickyNavigation"},n.createElement("div",{className:"action-button placeholderSingleActionButton"}),n.createElement("div",{"data-testid":"more-actions-dropdown",className:"action-button delegate ewr5",onClick:this.handleMoreActions},n.createElement("span",{id:"moreActions",ref:function(e){return r.moreActionContainer=e},className:"moreactions-dropdown-content ewr5"},u&&n.createElement("a",{"data-testid":"restart-button",href:"javascript:void(0)",id:t,onClick:this.props.onRestart},"Restart"),this.props.canInvalidate&&n.createElement("a",{"data-testid":"invalidate-button",href:"javascript:void(0)",id:t,onClick:this.props.onInvalidate},"Invalidate")),n.createElement("p",{"data-testid":"more-actions-text",className:"moreActions-alignment"},n.createElement("span",null,"More Actions"),n.createElement("i",{className:"fa fas fa-caret-up fa-lg"}))))):null},ApprovalActionsFooterComponent}(n.Component);t.default=l.connect(mapStateToProps)(p)},138:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOAD_RULES="LOAD_RULES",t.UPSERT_RULE="UPSERT_RULE",t.DELETE_RULE="DELETE_RULE",t.SET_RULE_ENTITY="SET_RULE_ENTITY",t.setRuleEntity=function(e){return{type:t.SET_RULE_ENTITY,value:e.value}},t.loadRules=function(e){return{type:t.LOAD_RULES,value:e.value}},t.upsertRule=function(e){return{type:t.UPSERT_RULE,value:e.value}},t.deleteRule=function(e){return{type:t.DELETE_RULE,value:e.value}}},1380:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(151),o=a(301),s=a(13),l=a(51),c=function(e){function GroupComponent(t){var a=e.call(this,t)||this;return a.state={group:t.group},a.onDelete=a.onDelete.bind(a),a}return r(GroupComponent,e),GroupComponent.prototype.onDelete=function(){this.props.onDelete(this.state.group)},GroupComponent.prototype.render=function(){var e=this.props,t=e.actionBy,a=e.delegatedBy,r=e.finalApprover,c=e.group,p=e.menu,u=e.showDelete,d=e.status,m=e.approvalStatus,f=!1,E=null;return null==d||d!=s.ActorAssignmentStatus.APPROVER_APPROVED&&d!=s.ActorAssignmentStatus.APPROVER_PENDING&&d!=s.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION&&d!=s.ActorAssignmentStatus.APPROVER_REJECTED&&d!=s.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_APPROVAL&&d!=s.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_REJECTION||(f=!0,E=i.getDisplayAssignmentStatusText(d,m)),n.createElement(o.default,{actionBy:t,actor:c,approvalStatusText:E,delegatedBy:a,displayApprovalStatus:f,displayName:c.groupName,finalApprover:r,headerLink:l.getGroupDetailsLink(c),headerTitle:c.groupName,keyValue:"card"+c.groupName+c.type,menu:p,onDelete:this.onDelete,profilePic:"/assets/images/GroupImage.png",showDelegatee:null!=a,showDelete:u,status:d,title:l.getGroupDisplayName(c.type),approvalStatus:m})},GroupComponent}(n.Component);t.default=c},1381:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(301),o=function(e){function DynamicComponent(t){var a=e.call(this,t)||this;return a.state={group:t.group},a.onDelete=a.onDelete.bind(a),a}return r(DynamicComponent,e),DynamicComponent.prototype.onDelete=function(){this.props.onDelete(this.state.group)},DynamicComponent.prototype.render=function(){var e=this.props,t=e.finalApprover,a=e.group,r=e.menu,o=e.showDelete,s=e.status,l=e.approvalStatus;return n.createElement(i.default,{actor:a,displayName:a.displayName,finalApprover:t,headerTitle:a.displayName,keyValue:"card"+a.groupName+a.type,menu:r,onDelete:this.onDelete,profilePic:"/assets/images/"+a.groupName.toLowerCase()+".png",showDelete:o,status:s,approvalStatus:l})},DynamicComponent}(n.Component);t.default=o},1382:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(78),o=a(715),s=function(e){return{background:"none",border:e?"dashed 1px black":"solid 1px transparent"}},l=function(e){function DynamicTiles(t){var a=e.call(this,t)||this;return a.getSearchResult=function(){return a.props.searchResults},a.getSearchResult=a.getSearchResult.bind(a),a}return r(DynamicTiles,e),DynamicTiles.prototype.afterSelect=function(e){var t=this.props.searchResults;this.props.setSearchResults(t.slice(0,e.source.index).concat(t.slice(e.source.index+1)))},DynamicTiles.prototype.componentDidMount=function(){var e=this.props,t=e.onRef,a=e.setSearchResults;t&&this.props.onRef({dynamicTiles:this}),a&&a([{alias:"",avgDecisionDuration:0,departmentId:null,departmentName:"",displayName:"Requester's Manager",email:"",emailAddress:"",employeeId:"",firstName:"",jobLevel:null,lastName:"",title:"",groupName:"REQUESTERS_MANAGER",type:"DYNAMIC_ACTOR"},{alias:"",avgDecisionDuration:0,departmentId:null,departmentName:"",displayName:"Requester's Skip Level Manager",email:"",emailAddress:"",employeeId:"",firstName:"",jobLevel:null,lastName:"",title:"",groupName:"REQUESTERS_SKIP_LEVEL_MANAGER",type:"DYNAMIC_ACTOR"}])},DynamicTiles.prototype.componentWillUnmount=function(){this.props.onRef&&this.props.onRef({dynamicTiles:void 0})},DynamicTiles.prototype.render=function(){var e=this,t=this.props,a=t.actorMenuItems,r=t.onActorMenuItemClick,l=t.searchResults;return n.createElement("div",{className:"approval-wrapper awsui-util-p-n"},n.createElement("div",{className:"laneRow awsui-util-p-m searchResultCardsContainer"},n.createElement(i.Droppable,{droppableId:"dynamicTiles",ignoreContainerClipping:!1,isDropDisabled:!0,type:"actor"},function(t,c){return n.createElement("div",{ref:t.innerRef,style:s(c.isDraggingOver)},l.map(function(t,s){var l=t.groupName+t.type;return n.createElement(i.Draggable,{key:l,draggableId:l,type:"actor",index:s},function(i,l){return n.createElement(o.default,{actorMenuItems:a,droppableId:"dynamicTiles",onActorMenuItemClick:r,provided:i,snapshot:l,userOutput:t,id:t.groupName,resultIndex:s,tourIndex:e.props.tourIndex,tourLifecycle:e.props.tourLifecycle})})}),t.placeholder)})))},DynamicTiles}(n.Component);t.default=l},1389:function(e,t,a){"use strict";function getApprovalPlan(e,t){return r(this,void 0,void 0,function(){var t;return n(this,function(a){switch(a.label){case 0:return[4,i.default.get(s.SERVICE_ENDPOINTS+s.API_ROUTES.GET_APPROVAL_PLAN+"?approvalId="+e).then(function(e){return e.data}).catch(function(e){console.log(e);var t=new l.GenericResponse;return t.isError=!0,t.errorMessage=e.message,t})];case 1:return t=a.sent(),[2,t]}})})}function saveApprovalPlan(e,t,a){return r(this,void 0,void 0,function(){var r,o;return n(this,function(n){switch(n.label){case 0:return r=new URLSearchParams,r.append("approvalId",e),r.append("version",a),r.append("approvalPlan",JSON.stringify(t)),[4,i.default.post(s.SERVICE_ENDPOINTS+s.API_ROUTES.SAVE_APPROVAL_PLAN,r).then(function(e){return e.data}).catch(function(e){var t=new l.GenericResponse;return t.isError=!0,t.errorMessage=e.message,t})];case 1:return o=n.sent(),[2,o]}})})}function getNewRoute(e,t){var a=new l.RouteFullOutput,r=new l.RouteOutput,n=getNewGroupName(e,t);return r.name=n,r.unsavedName=n,r.id="Temp_"+getRandomInt()+"_"+t,r.editRouteName=!1,r.sequence=e,a.route=r,a.approvers=[],a}function idOf(e){return(e>=26?this.idOf((e/26>>0)-1):"")+"abcdefghijklmnopqrstuvwxyz"[e%26>>0]}function getNewGroupName(e,t){return"Group "+idOf(e).toUpperCase()+"-"+t}function getRandomInt(){return Math.floor(2e4*Math.random())+0}function reorderItem(e,t,a){var r=Array.from(e),n=r.splice(t,1)[0];return r.splice(a,0,n),r}function moveApproverInSameRoute(e,t,a,r,n){var i=n[e][t],o=new c.ApproverLocation,s=new c.ApproverLocation;return o.droppableId=e+"_"+t+"|"+i.route.id,o.index=a,s.droppableId=e+"_"+t+"|"+i.route.id,s.index="UP"==r?a-1:a+1,{source:o,destination:s}}function moveApproverAcrossRoutes(e,t,a,r,n,i){for(var o=i[e][t],s=i[r][n],l=new c.ApproverLocation,p=new c.ApproverLocation,u=0,d=0;d<s.approvers.length;d++)0==s.approvers[d].changeable&&u++;return l.droppableId=e+"_"+t+"|"+o.route.id,l.index=a,p.droppableId=r+"_"+n+"|"+s.route.id,p.index=s.approvers.length-u,{source:l,destination:p}}function moveApproverFromPeopleSearch(e,t,a,r){var n=r[e][t],i=new c.ApproverLocation,o=new c.ApproverLocation;return i.droppableId="peopleSearch",i.index=a,o.droppableId=e+"_"+t+"|"+n.route.id,o.index=n.approvers.length,{source:i,destination:o}}function reorderApprovalPlan(e,t,a){return r(this,void 0,void 0,function(){var r,i,o,s,l,c,p,u,d,m,f,E,h,v,A,g,T,y,E,_,N,A;return n(this,function(n){for(r=e.droppableId,i=t.droppableId,o=i.split("|")[0].split("_")[0],s=i.split("|")[0].split("_")[1],l=i.split("|")[1],c=null,m=0,f=0,u=a[o][s].approvers,E=0;E<u.length;E++)u[E][0].changeable||m++;if(t.index=t.index+m,"peopleSearch"===r)null!=(h=this.peopleSearch.getSearchResult()[e.index])&&(this.peopleSearch.afterSelect({source:{index:e.index}}),v=new ApproverOutput,h.isBeingSaved=!0,v.actor=h,v.id="",v.assignmentOrder=t.index+1,v.routeId=l,v.changeable=!0,u.splice(t.index,0,[v]),a[o][s].approvers=u,A=this,a[o][s].route.id.startsWith("Temp_")?this.saveRoute(a[o][s].route,function(e){A.saveActor(v,a[o][s].route,function(e,r,n){h.isBeingSaved=!1,""==r?(a[o][s].approvers[t.index][0].id=e,a[o][s].approvers[t.index][0].isError=!1,a[o][s].approvers[t.index][0].errorMessage=""):(a[o][s].approvers[t.index][0].isError=!0,a[o][s].approvers[t.index][0].errorMessage=r),A.setState({approvalPlan:a,approvalPlanVersion:n})})}):A.saveActor(v,a[o][s].route,function(e,r,n){h.isBeingSaved=!1,""==r?(a[o][s].approvers[t.index][0].id=e,a[o][s].approvers[t.index][0].actor.isError=!1,a[o][s].approvers[t.index][0].actor.errorMessage=""):(a[o][s].approvers[t.index][0].actor.isError=!0,a[o][s].approvers[t.index][0].actor.errorMessage=r),A.setState({approvalPlan:a,approvalPlanVersion:n}),A.approvalPlanChanged()}));else{for(g=r.split("|")[0].split("_")[0],T=r.split("|")[0].split("_")[1],y=r.split("|")[1],p=a[g][T].approvers,E=0;E<p.length;E++)0==p[E][0].changeable&&f++;e.index=e.index+f,d=p[e.index],r==i?(_=this.reorder(p,e.index,t.index),a[g][T].approvers=_):(p.splice(e.index,1),u.splice(t.index,0,d),a[g][T].approvers=p,a[o][s].approvers=u),N=new ApproverOutput,d[0].actor.isBeingSaved=!0,N.actor=d[0].actor,N.id=d[0].id,N.assignmentOrder=t.index+1,N.routeId=l,d[0].isBeingSaved=!0,A=this,this.saveActor(N,a[o][s].route,function(e,t,r){d[0].actor.isBeingSaved=!1,d[0].isBeingSaved=!1,d[0].actor.isError=""!=t,d[0].actor.errorMessage=t,A.setState({approvalPlan:a,approvalPlanVersion:r}),A.approvalPlanChanged()})}return this.setState({approvalPlan:a}),[2]})})}function getApprovalPlanActorMenuItems(e,t,a,r){var n=r[e][t].route.id,i=[];return null!=a&&0!=a&&i.push(new p.MenuItem("Move up",{currentRouteLevelIndex:e,currentRouteIndex:t,direction:"UP"},"MoveUp",!1)),null!=a&&a!=r[e][t].approvers.length-1&&i.push(new p.MenuItem("Move down",{currentRouteLevelIndex:e,currentRouteIndex:t,direction:"DOWN"},"MoveDown",!1)),i.push(new p.MenuItem("Move to",null,"-",!0)),r.map(function(a,r){a.map(function(a,o){n!=a.route.id&&i.push(new p.MenuItem(a.route.name,{currentRouteLevelIndex:e,currentRouteIndex:t,targetRouteLevelIndex:r,targetRouteIndex:o,direction:"ACROSS"},"Menu-PS-"+r+"-"+o+"-",!1))})}),i}function getPeopleSearchRouteMenuItems(e){var t=[];return t.push(new p.MenuItem("Add to",null,"-",!0)),e.map(function(e,a){e.map(function(e,r){t.push(new p.MenuItem(e.route.name,{routeLevelIndex:a,routeIndex:r},"Menu-PS-"+a+"-"+r+"-",!1))})}),t}function getRouteMenu(e,t,a){var r=[];return r.push(new p.MenuItem("Move to previous level",new c.RouteMenuData(e,t,"PREVIOUS"))),r.push(new p.MenuItem("Move to next level",new c.RouteMenuData(e,t,"NEXT"))),r}function moveRoute(e,t,a,r){var n=o.clone(r),i=n[e].splice(t,1)[0],s=e,l=null;return"PREVIOUS"==a?l=e-1:"NEXT"==a&&(l=e+1),l<0?(s=1,n.splice(0,0,[i])):l>n.length-1?(s=n.length-1,n.push([i])):n[l].push(i),0==n[s].length&&n.splice(s,1),n}var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),o=a(307),s=a(6),l=a(159),c=a(1390),p=a(135);!function(e){e.ApprovalRequest="APPROVAL_REQUEST",e.Template="TEMPLATE"}(t.EntityType||(t.EntityType={})),t.getApprovalPlan=getApprovalPlan,t.saveApprovalPlan=saveApprovalPlan,t.getNewRoute=getNewRoute,t.reorderItem=reorderItem,t.moveApproverInSameRoute=moveApproverInSameRoute,t.moveApproverAcrossRoutes=moveApproverAcrossRoutes,t.moveApproverFromPeopleSearch=moveApproverFromPeopleSearch,t.reorderApprovalPlan=reorderApprovalPlan,t.getApprovalPlanActorMenuItems=getApprovalPlanActorMenuItems,t.getPeopleSearchRouteMenuItems=getPeopleSearchRouteMenuItems,t.getRouteMenu=getRouteMenu,t.moveRoute=moveRoute},139:function(e,t,a){"use strict";function getDelegationRules(){return function(e){return e(getDelegationPending()),r.default.get(n.ServiceEndPoints.delegation).then(function(t){var a=t.data;e(a.isError?getDelegationRulesFailed(a.errorMessage):getDelegationRulesSucceeded(t.data))}).catch(function(t){e(getDelegationRulesFailed)})}}function getDelegationPending(){return{type:"Delegation_Pending",payload:!0}}function getDelegationRulesSucceeded(e){return{type:"Delegation_Succeeded",payload:e}}function getDelegationRulesFailed(e){return{type:"Delegation_Failed",payload:e}}function createDelegationPending(){return{type:t.CreateDelegation_Pending,payload:!0}}function createDelegationSucceeded(){return{type:t.CreateDelegation_Succeeded,payload:!0}}function createDelegationFailed(e){return{type:t.CreateDelegation_Failed,payload:e}}function createDelegationRule(e,t,a,i,s){return function(l){var c=new Date,p=void 0;p=o(i).isSame(c,"Date")?o(c).toISOString():o(i).startOf("day").toISOString(),l(createDelegationPending());var u=new URLSearchParams;return u.set("approvalId",e),u.set("startDate",p),u.set("endDate",o(s).endOf("day").toISOString()),u.set("delegateeAlias",t),u.set("actorType",a),r.default.post(n.ServiceEndPoints.delegation,u).then(function(e){var t=e.data;t.isError?l(createDelegationFailed(t.errorMessage)):(l(createDelegationSucceeded()),l(getDelegationRules()))}).catch(function(e){l(createDelegationFailed("Something went wrong, please try again"))})}}function createDelegationRuleForMultipleApproval(e,t,a,i,s){return function(l){var c=new Date,p=void 0;p=o(i).isSame(c,"Date")?o(c).toISOString():o(i).startOf("day").toISOString(),l(createDelegationPending());var u=new URLSearchParams;return u.set("approvalIdList",JSON.stringify(e)),u.set("startDate",p),u.set("endDate",o(s).endOf("day").toISOString()),u.set("delegateeAlias",t),u.set("actorType",a),r.default.post(n.ServiceEndPoints.multiDelegation,u).then(function(e){var t=e.data;if(t.isError)l(createDelegationFailed(t.errorMessage));else{var a=t.data.failedDelegationList;a&&a.length>0?l(createDelegationFailed("Something went wrong, please try again")):(l(createDelegationSucceeded()),l(getDelegationRules()))}}).catch(function(e){l(createDelegationFailed("Something went wrong, please try again"))})}}function createDelegationRuleForAll(e,t,a,i){return function(s){var l=new Date,c=void 0;c=o(a).isSame(l,"Date")?o(l).toISOString():o(a).startOf("day").toISOString(),s(createDelegationPending());var p=new URLSearchParams;return p.set("startDate",c),p.set("endDate",o(i).endOf("day").toISOString()),p.set("delegateeAlias",e),p.set("actorType",t),r.default.post(n.ServiceEndPoints.delegationAll,p).then(function(e){var t=e.data;t.isError?s(createDelegationFailed(t.errorMessage)):(s(createDelegationSucceeded()),s(getDelegationRules()))}).catch(function(e){s(createDelegationFailed("Something went wrong, please try again"))})}}function getPendingApprovals(e){return function(t){return t(getPendingApprovalsPending()),r.default.get(n.ServiceEndPoints.getPendingApprovalsForDelegation+"?from="+e.From+"&to="+e.Size).then(function(e){var a=e.data;t(a.isError?getPendingApprovalsFailed(a.errorMessage):getPendingApprovalsSucceeded(e.data))}).catch(function(e){t(getPendingApprovalsFailed("something went wrong, please try again."))})}}function getPendingApprovalsPending(){return{type:t.GetPendingApprovals_Pending,payload:!0}}function getPendingApprovalsSucceeded(e){return{type:t.GetPendingApprovals_Succeeded,payload:e}}function getPendingApprovalsFailed(e){return{type:t.GetPendingApprovals_Failed,payload:e}}function deleteDelegationRule(e){return function(t){var a=Math.random();return t(i.updateNotification({value:{id:a,content:"Removing delegation",loading:!0,type:"alert",status:"info"}})),r.default.delete(n.ServiceEndPoints.delegation+"?id="+e).then(function(e){t(i.deleteNotification({value:a})),t(getDelegationRules())}).catch(function(e){t(i.deleteNotification({value:a})),t(i.updateNotification({value:{id:Math.random(),content:"Removing delegation failed, please try again.",type:"alert",status:"error"}}))})}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10),o=a(1);t.CreateDelegation_Pending="CreateDelegation_Pending",t.CreateDelegation_Succeeded="CreateDelegation_Succeeded",t.CreateDelegation_Failed="CreateDelegation_Failed",t.GetPendingApprovals_Pending="GetPendingApprovals_Pending",t.GetPendingApprovals_Succeeded="GetPendingApprovals_Succeeded",t.GetPendingApprovals_Failed="GetPendingApprovals_Failed",t.getDelegationRules=getDelegationRules,t.getDelegationPending=getDelegationPending,t.getDelegationRulesSucceeded=getDelegationRulesSucceeded,t.getDelegationRulesFailed=getDelegationRulesFailed,t.createDelegationPending=createDelegationPending,t.createDelegationSucceeded=createDelegationSucceeded,t.createDelegationFailed=createDelegationFailed,t.createDelegationRule=createDelegationRule,t.createDelegationRuleForMultipleApproval=createDelegationRuleForMultipleApproval,t.createDelegationRuleForAll=createDelegationRuleForAll,t.getPendingApprovals=getPendingApprovals,t.getPendingApprovalsPending=getPendingApprovalsPending,t.getPendingApprovalsSucceeded=getPendingApprovalsSucceeded,t.getPendingApprovalsFailed=getPendingApprovalsFailed,t.deleteDelegationRule=deleteDelegationRule},1390:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ApproverLocation(){}return ApproverLocation}();t.ApproverLocation=r;var n=function(){function MoveCoordinates(){}return MoveCoordinates}();t.MoveCoordinates=n;!function(e){e.SameRoute="SAME_ROUTE",e.DifferentROute="DIFFERENT_ROUTE",e.FromPeopleSearch="FROM_PEOPLE_SEARCH"}(t.ApproverMoveType||(t.ApproverMoveType={}));var i=function(){function RouteMenuData(e,t,a){this.routeIndex=t,this.routeLevelIndex=e,this.direction=a}return RouteMenuData}();t.RouteMenuData=i},140:function(e,t,a){"use strict";function transferSingleRequest(e,t,a,i){return function(o){var s=(Math.random(),new URLSearchParams);return s.set("approvalId",e),s.set("approverId",t),s.set("transferTo",a),s.set("userType",i),o(transferRequestPending()),o(transferPending()),r.default.post(n.ServiceEndPoints.performReassign,s).then(function(e){var t=e.data;t.isError?(o(transferFailed(t.errorMessage)),o(transferRequestFailed(t.errorMessage))):(o(transferSucceeded()),o(transferRequestSucceeded()))}).catch(function(e){o(transferRequestFailed("Failed to transfer approval request, please try again.")),o(transferFailed("Something went wrong, please try again"))})}}function getTransferHistory(){return function(e){return e(getTransferHistoryPending()),r.default.get(n.ServiceEndPoints.getTransferHistory).then(function(t){var a=t.data;e(a.isError?getTransferHistoryFailed(a.errorMessage):getTransferHistorySucceeded(a))}).catch(function(t){e(getTransferHistoryFailed("Something went wrong, please try again"))})}}function getTransferApprovals(e){return function(t){var a=new URLSearchParams;a.append("from",e.from.toString()),a.append("to",e.to.toString()),e.role&&a.append("role",e.role),e.approvalStatus&&a.append("approvalStatus",e.approvalStatus),e.assignmentStatus&&a.append("assignmentStatus",e.assignmentStatus),t(getTransferApprovalsPending()),r.default.get(n.ServiceEndPoints.getTransferApprovals+a).then(function(e){var a=e.data;t(a.isError?getTransferApprovalsFailed(a.errorMessage):getTransferApprovalsSucceeded(a.data))}).catch(function(e){t(getTransferApprovalsFailed("Something went wrong, please try again"))})}}function getTransferTemplates(e){return function(t){var a=new URLSearchParams;a.append("templateRole",e.role),a.append("from",e.from.toString()),a.append("to",e.to.toString()),t(getTransferApprovalsPending()),r.default.get(n.ServiceEndPoints.getTransferTemplates+a).then(function(e){var a=e.data;t(a.isError?getTransferApprovalsFailed(a.errorMessage):getTransferApprovalsSucceeded(a.data))}).catch(function(e){t(getTransferApprovalsFailed("Something went wrong, please try again"))})}}function transferAllApprovals(e,t,a){var i=new URLSearchParams;return i.append("transferTo",e),t&&i.append("bulkTransferOptionType",t),a.role&&i.append("role",a.role),a.approvalStatus&&i.append("approvalStatus",a.approvalStatus),a.assignmentStatus&&i.append("assignmentStatus",a.assignmentStatus),function(e){e(transferRequestPending()),r.default.post(n.ServiceEndPoints.transferAllApprovals+i).then(function(t){var a=t.data;if(a.isError)e(transferRequestFailed(a.errorMessage));else{var r=a.data.failedTransferList;e(r&&r.length>0?transferRequestWithFailures(r):transferRequestSucceeded())}console.log(t)}).catch(function(t){console.log(t),e(transferRequestFailed("Something went wrong, please try again."))})}}function transferAllTemplates(e,t){var a=new URLSearchParams;return a.append("transferTo",e),a.append("templateRole",t),function(e){e(transferRequestPending()),r.default.post(n.ServiceEndPoints.transferAllTemplates+a).then(function(t){var a=t.data;if(a.isError)e(transferRequestFailed(a.errorMessage));else{var r=a.data.failedTransferList;e(r&&r.length>0?transferRequestWithFailures(r):transferRequestSucceeded())}console.log(t)}).catch(function(t){e(transferRequestFailed("Something went wrong, please try again."))})}}function postBulkTransfer(e,t,a,i){return function(o){var s=new URLSearchParams;s.append("transferTo",e),s.append("transferObjects",JSON.stringify(t)),o(transferRequestPending()),r.default.post(n.ServiceEndPoints.postBulkTransfer,s).then(function(e){var t=e.data;if(t.isError)o(transferRequestFailed(t.errorMessage));else{setTimeout(function(){o(i?getTransferTemplates(a):getTransferApprovals(a))},1100);var r=t.data.failedTransferList;o(r&&r.length>0?transferRequestWithFailures(r):transferRequestSucceeded())}}).catch(function(e){console.log(e),o(transferRequestFailed("Something went wrong, please try again."))})}}function transferRequestPending(){return function(e){e(i.updateNotification({value:{id:s,content:"Transferring requests..",loading:!0,type:"alert",status:"info"}}))}}function transferRequestFailed(e){return function(t){t(i.deleteNotification({value:s})),t(i.updateNotification({value:{id:Math.random(),content:e,type:"alert",status:"error"}}))}}function transferRequestSucceeded(){return function(e){e(i.deleteNotification({value:s}));e(i.updateNotification({value:{id:Math.random(),content:"Transferred requests successfully",type:"alert",status:"success",duration:2500}}))}}function transferRequestWithFailures(e){return function(t){t(i.deleteNotification({value:s})),t(i.updateNotification({value:{id:Math.random(),content:"Completed transferring requests with validation failures",type:"alert",status:"warning",buttonText:"View Failed",buttonClick:o.displayReportSummaryReport(e)}}))}}function getTransferApprovalsPending(){return{type:t.GetTransferApprovals_Pending,payload:!0}}function getTransferApprovalsSucceeded(e){return{type:t.GetTransferApprovals_Succeeded,payload:e}}function getTransferApprovalsFailed(e){return{type:t.GetTransferApprovals_Failed,payload:e}}function getTransferHistoryPending(){return{type:t.GetTransferHistory_Pending,payload:!0}}function getTransferHistoryFailed(e){return{type:t.GetTransferHistory_Failed,payload:e}}function getTransferHistorySucceeded(e){return{type:t.GetTransferHistory_Succeeded,payload:e}}function transferPending(){return{type:t.Transfer_Pending,payload:!0}}function transferSucceeded(){return{type:t.Transfer_Succeeded,payload:!0}}function transferFailed(e){return{type:t.Transfer_Failed,payload:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10),o=a(224);t.Transfer_Pending="Transfer_Pending",t.Transfer_Succeeded="Transfer_Succeeded",t.Transfer_Failed="Transfer_Failed",t.GetTransferHistory_Pending="GetTransferHistory_Pending",t.GetTransferHistory_Succeeded="GetTransferHistory_Succeeded",t.GetTransferHistory_Failed="GetTransferHistory_Failed",t.GetTransferApprovals_Pending="GetTransferApprovals_Pending",t.GetTransferApprovals_Failed="GetTransferApprovals_Failed",t.GetTransferApprovals_Succeeded="GetTransferApprovals_Succeeded";var s=Math.random();t.transferSingleRequest=transferSingleRequest,t.getTransferHistory=getTransferHistory,t.getTransferApprovals=getTransferApprovals,t.getTransferTemplates=getTransferTemplates,t.transferAllApprovals=transferAllApprovals,t.transferAllTemplates=transferAllTemplates,t.postBulkTransfer=postBulkTransfer,t.transferRequestPending=transferRequestPending,t.transferRequestFailed=transferRequestFailed,t.transferRequestSucceeded=transferRequestSucceeded,t.transferRequestWithFailures=transferRequestWithFailures,t.getTransferApprovalsPending=getTransferApprovalsPending,t.getTransferApprovalsSucceeded=getTransferApprovalsSucceeded,t.getTransferApprovalsFailed=getTransferApprovalsFailed,t.getTransferHistoryPending=getTransferHistoryPending,t.getTransferHistoryFailed=getTransferHistoryFailed,t.getTransferHistorySucceeded=getTransferHistorySucceeded,t.transferPending=transferPending,t.transferSucceeded=transferSucceeded,t.transferFailed=transferFailed},141:function(e,t,a){"use strict";function getAttributeTypeDisplayName(e){for(var t=0;t<r.ATTRIBUTE_TYPE_OPTIONS.length;t++)if(r.ATTRIBUTE_TYPE_OPTIONS[t].id===e)return r.ATTRIBUTE_TYPE_OPTIONS[t].label;return null}function getDisplayTextFromAttribute(e){var t=null,a=getDisplayTextFromValue(e.value,e.type);return null!=e.parameter&&(e.type===r.ATTRIBUTE_TYPE.CURRENCY?t=r.ATTRIBUTE_PARAMETER_CURRENCY.filter(function(t){return t.id===e.parameter})[0].label:e.type==r.ATTRIBUTE_TYPE.PHONE_NUMBER&&(t=r.ATTRIBUTE_PARAMETER_PHONE_COUNTRY_CODE.filter(function(t){return t.id===e.parameter})[0].label)),(t||"")+" "+a}function getDisplayTextFromParam(e,t){return void 0===t&&(t=!0),null!=e&&e.indexOf("_")>0?e.split("_")[1]+(t?" ":""):""}function getDisplayTextFromValue(e,t){if(null==t){var a={};if(null!=e&&""!=e)try{a=JSON.parse(e)}catch(e){}t=Array.isArray(a)?r.ATTRIBUTE_TYPE.MULTI_DROPDOWN:""}switch(t){case r.ATTRIBUTE_TYPE.SINGLE_DROPDOWN:if(""!=e){for(var i=JSON.parse(e),o=0;o<i.length;o++)if(i[o].selected)return i[o].value}else console.log("this.state.value is empty string");return"";case r.ATTRIBUTE_TYPE.MULTI_DROPDOWN:var s="";if(""!=e)for(var i=JSON.parse(e),o=0;o<i.length;o++)i[o].selected&&(""!=s&&(s+=", "),s+=i[o].value);return s;case r.ATTRIBUTE_TYPE.CALENDAR:return e&&" "!=e?n.formatDate(e):" ";case r.ATTRIBUTE_TYPE.CURRENCY||r.ATTRIBUTE_TYPE.NUMERIC:return e&&""!=e&&!isNaN(toNumber(e))?t==r.ATTRIBUTE_TYPE.CURRENCY?toCurrencyRepresentation(e):toNumber(e).toString():e;case r.ATTRIBUTE_TYPE.PHONE_NUMBER:return toPhoneNumberRepresentation(e);default:return null==e?"":e}}function toCurrencyRepresentation(e){return toNumber(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function toNumber(e){if(null!=e){var t=1;return e.startsWith("-")&&(t=-1),parseFloat(e.replace(/[^0-9.]+/g,""))*t}throw new TypeError("Cannot parse number from "+e)}function toPhoneNumberRepresentation(e){var t=parseInt(toNumber(e).toString());if(isNaN(t))return"";var a="";return t.toString().split("").forEach(function(e,t){-1!=[3,6].indexOf(t)&&(a+="-"),a+=e}),a}function deepDiffMapper(){return{VALUE_CREATED:"created",VALUE_UPDATED:"updated",VALUE_DELETED:"deleted",VALUE_UNCHANGED:"unchanged",map:function(e,t){if(this.isFunction(e)||this.isFunction(t))throw"Invalid argument. Function given, object expected.";if(this.isValue(e)||this.isValue(t))return{type:this.compareValues(e,t),data:void 0===e?t:e};var a={};for(var r in e)if(!this.isFunction(e[r])){var n=void 0;void 0!==t[r]&&(n=t[r]),a[r]=this.map(e[r],n)}for(var r in t)this.isFunction(t[r])||void 0!==a[r]||(a[r]=this.map(void 0,t[r]));return a},compareValues:function(e,t){return e===t?this.VALUE_UNCHANGED:this.isDate(e)&&this.isDate(t)&&e.getTime()===t.getTime()?this.VALUE_UNCHANGED:void 0===e?this.VALUE_CREATED:void 0===t?this.VALUE_DELETED:this.VALUE_UPDATED},isFunction:function(e){return"[object Function]"==={}.toString.apply(e)},isArray:function(e){return"[object Array]"==={}.toString.apply(e)},isDate:function(e){return"[object Date]"==={}.toString.apply(e)},isObject:function(e){return"[object Object]"==={}.toString.apply(e)},isValue:function(e){return!this.isObject(e)&&!this.isArray(e)}}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),n=a(72);t.getAttributeTypeDisplayName=getAttributeTypeDisplayName,t.getDisplayTextFromAttribute=getDisplayTextFromAttribute,t.getDisplayTextFromParam=getDisplayTextFromParam,t.getDisplayTextFromValue=getDisplayTextFromValue,t.deepDiffMapper=deepDiffMapper},144:function(e,t,a){"use strict";function default_1(e,a){if(void 0===e&&(e=r),null==a)return e;switch(a.type){case t.FETCH_ALL_TAGS:return{tags:a.payload};case t.ADD_TAG:return{tags:e.tags.concat([a.payload])};case t.DELETE_TAG:return{tags:e.tags.filter(function(e){return e.tagName!==a.payload})};default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_TAG="ADD_TAG",t.DELETE_TAG="DELETE_TAG",t.FETCH_ALL_TAGS="FETCH_ALL_TAGS";var r={tags:[]};t.default=default_1},1494:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(746),n=function(){function RouteFullInput(){}return RouteFullInput}();t.default=n,t.toRouteFullInput=function(e){var t=e.route,a=e.approvers;return{route:{name:t.name,description:t.description,id:t.id,minNumApprovalsEnabled:t.minNumApprovalsEnabled},approvers:a.map(function(e){return e.map(function(e){return{actor:r.toUserInput(e.actor),id:e.id,finalApprover:e.finalApprover}})})}}},1495:function(e,t,a){"use strict";function createCloneApproval(e,t){return function(a){var s=Math.random();a(i.updateNotification({value:{id:s,content:"Cloning approval request.",loading:!0,type:"alert",status:"info"}})),null==t&&(t=o().add(1,"day").endOf("day").toDate());var l=new URLSearchParams;return l.append("approvalId",e),l.append("neededOnDate",t.toUTCString()),r.default.get(n.ServiceEndPoints.cloneApproval+l).then(function(e){a(i.deleteNotification({value:s}));var t=e.data;t.isError?a(i.updateNotification({value:{id:Math.random(),content:t.errorMessage,type:"alert",status:"error"}})):(a(i.updateNotification({value:{id:Math.random(),content:"Approval cloned successfully.",type:"alert",status:"success",duration:2500}})),location.href="/approval/edit/"+t.data.approvalFull.approval.id+"/1")}).catch(function(e){console.log(e),a(i.deleteNotification({value:s})),a(i.updateNotification({value:{id:Math.random(),content:"Approval clone failed, please try again.ex: "+e,type:"alert",status:"error"}}))})}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10),o=a(1);t.createCloneApproval=createCloneApproval},1496:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(46),o=a(10),s=a(5),l=a(7),c=a(4),p=a(6),u=a(140),d=a(51),m=function(e){function TransferModalPickerComponent(t){var a=e.call(this,t)||this;return a.searchResult=[],a.pendingAlertId=Math.random(),a.selectedActor=null,a.state={query:null,showTransferModal:a.props.showTransferModal},a.searchPeople=a.searchPeople.bind(a),a.selectPeople=a.selectPeople.bind(a),a.onTransferClick=a.onTransferClick.bind(a),a}return r(TransferModalPickerComponent,e),TransferModalPickerComponent.prototype.onTransferClick=function(){this.selectedActor?this.selectedActor.type==p.ActorType.PRINCIPAL?this.props.transferApprovalReqeust(this.props.approvalId,this.props.actorApproverId,this.selectedActor.alias,this.selectedActor.type):this.props.transferApprovalReqeust(this.props.approvalId,this.props.actorApproverId,this.selectedActor.groupName,this.selectedActor.type):this.props.showNotification({id:Math.random(),content:"please select the user to whom you want to transfer the request",type:"alert",status:"info"})},TransferModalPickerComponent.prototype.componentWillReceiveProps=function(e){e.isTransferSucceeded&&e.isTransferSucceeded!=this.props.isTransferSucceeded&&(this.props.onDismissClick(),window.location.reload(!0))},TransferModalPickerComponent.prototype.selectPeople=function(e,t){this.searchResult.map(function(e){e.selected=!1}),this.selectedActor=e,this.searchResult[t].selected=!0,this.forceUpdate()},TransferModalPickerComponent.prototype.searchPeople=function(e){this.setState({query:e.detail.value}),e.detail.value.length>2&&this.props.callPeopleSearchApi(this.state.query)},TransferModalPickerComponent.prototype.render=function(){var e=this;return this.props.peopleResults.data&&this.props.peopleResults.data.length>0?this.searchResult=this.props.peopleResults.data:this.searchResult=[],n.createElement("div",{className:"awsui"},n.createElement(s.Modal,{size:"large",content:n.createElement("div",{className:"transfer-picker modal-search-container"},n.createElement("div",null,n.createElement(s.ColumnLayout,{columns:1},n.createElement("div",{"data-awsui-column-layout-root":"true"},n.createElement(s.FormField,{label:n.createElement("b",null,"Transfer to user")},n.createElement(s.Input,{autocomplete:!1,type:"search",value:this.state.query,onChange:this.searchPeople}))))),n.createElement("div",{className:"awsui-util-mt-l legalCounselResults"},n.createElement(s.ColumnLayout,{columns:2},n.createElement("div",{"data-awsui-column-layout-root":"true",className:"awsui-util-pt-m "},this.props.isPeopleSearchLoading&&n.createElement(s.Spinner,null),this.searchResult.map(function(t,a){return t.type==c.ActoryType.PRINCIPAL?n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.alias},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:c.ServiceEndPoints.phoneToolImage+t.alias,alt:""}),n.createElement("div",{className:"favorite-star"}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:c.ServiceEndPoints.phoneToolLink+t.alias,target:"blank",className:"name"},t.firstName," ",t.lastName)),n.createElement("p",{className:"title"},t.title),n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("p",{className:"department"},t.departmentName,n.createElement("span",{className:"deptID"},"(",t.departmentId,")"))),n.createElement(s.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}),n.createElement("div",{className:"levelTab"},"L",t.jobLevel)))):n.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){e.selectPeople(t,a)},className:"awsui-util-pr-m viewerItem "},n.createElement("div",null,n.createElement("div",{className:"userCard",style:{border:!0===t.selected?"solid 1px blue":"none"},key:"card"+t.groupName},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular",src:"/assets/images/GroupImage.png",alt:""}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:d.getGroupDetailsLink(t),target:"blank"},n.createElement("h5",{title:t.groupName,className:"userName"},t.groupName))),n.createElement("p",{className:"title"},d.getGroupDisplayName(t.type)),n.createElement("span",{className:"awsui-util-clearfix"})),n.createElement(s.Checkbox,{className:"selectLegalCounsel",checked:1==t.selected,onChange:function(r){e.selectPeople(t,a)}}))))}))))),visible:this.props.showTransferModal,header:"Transfer Approval Request "+this.props.approvalId,onDismiss:function(t){e.props.onDismissClick()},footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:this.props.onDismissClick},"Cancel"),n.createElement("button",{className:"btn btn-primary",onClick:this.onTransferClick},"Start Transfer"))}))},TransferModalPickerComponent}(n.Component),f=function(e){return{peopleResults:e.PeopleSearch.peopleResults,isPeopleSearchLoading:e.PeopleSearch.isPending,isTransferPending:e.TransferService.isTransferPending,isTransferSucceeded:e.TransferService.isTransferSucceeded,isTransferFailed:e.TransferService.isTransferFailed}},E=function(e){return{callPeopleSearchApi:function(t){e(i.queryPeopleSearch(t,!1))},transferApprovalReqeust:function(t,a,r,n){e(u.transferSingleRequest(t,a,r,n))},showNotification:function(t){e(o.updateNotification({value:t}))}}};t.default=l.connect(f,E)(m)},1497:function(e,t,a){"use strict";function mapStateToProps(e){return{routesByLevel:null!=e.approvalRequest?e.approvalRequest.routesByLevel:[],history:e.HistoryService.approvalHistory,isLoading:e.HistoryService.isApprovalLoading,endedAtStatus:e.HistoryService.endedAtStatus}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(7),o=a(5),s=a(4),l=a(13),c=a(151),p=a(223),u=a(1),d=function(e){function ApprovalHistory(t){var a=e.call(this,t)||this;return a.state={isLoading:!0,approvalRequestId:t.approvalRequestId,history:[],approvalBasicDetails:t.approvalBasicDetails},a.getApproversIndex=a.getApproversIndex.bind(a),a}return r(ApprovalHistory,e),ApprovalHistory.prototype.componentDidMount=function(){this.props.getApprovalHistory(this.props.id,this.props.isTemplate)},ApprovalHistory.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0}),console.log(e,t)},ApprovalHistory.prototype.getApproversIndex=function(e){var t={};if(null!=this.props.routesByLevel)for(var a=this.props.routesByLevel,r=0;r<a.length;r++)for(var n=0;n<a[r].length;n++)for(var i=a[r][n].approvers,o=0;o<i.length;o++)t[i[o][0].id]={actor:i[o][0].actor};for(var l=0;l<e.length;l++)e[l].action==s.ApprovalHistoryAction.UPDATE_APPROVAL_PLAN&&"ACTOR"==e[l].changedSection&&null==e[l].actorAfter&&null!=e[l].actorBefore&&null==t[e[l].actorBefore.id]&&(t[e[l].actorBefore.id]={actor:e[l].actorBefore.actor});return t},ApprovalHistory.prototype.getParsedHistory=function(e){if(null!=e){for(var t=[],a={},r=this.getApproversIndex(e),i=0;i<e.length;i++){var o=e[i],s=o.requestId;if(null==a[s]){var c={requestId:o.requestId,action:o.action,changedAt:o.changedAt};t.push(c),a[s]={requestId:s,history:[]}}a[s].history.push(o)}for(var p=[],d=!1,i=0;i<t.length;i++){var o=null,m=this.getActionText(r,t[i].action,a[t[i].requestId].history);m.sort(function(e,t){return t.order-e.order});for(var f=0;f<m.length;f++){o={action:t[i].action,actionText:m[f].actionText,date:u(t[i].changedAt).format("MM-DD-YYYY hh:mm a"),rawDate:t[i].changedAt,order:m[f].order,requestId:t[i].requestId},""!=o.action&&p.push(o);var E=a[o.requestId].history.filter(function(e){return"APPROVAL"===e.changedSection})[0];o.rawDate>=this.props.approvalBasicDetails.endedAt&&null!=this.props.approvalBasicDetails.endedAt&&!d&&E.approvalBefore&&(this.props.approvalBasicDetails.status===l.ApprovalStatus.INVALIDATED?this.props.updateEndedAtStatus(E.approvalBefore.status):this.props.updateEndedAtStatus(E.approvalAfter.status),o={action:"-",actionText:n.createElement("b",null," Approval request is ",l.getDisplayApprovalStatus(this.props.endedAtStatus)),date:u(this.props.approvalBasicDetails.endedAt).format("MM-DD-YYYY hh:mm a"),rawDate:this.props.approvalBasicDetails.endedAt,order:1e4,requestId:""},p.push(o),d=!0)}}return this.props.approvalBasicDetails.status===l.ApprovalStatus.INVALIDATED&&(o={action:"-",actionText:n.createElement("b",null," Approval request is Invalidated"),date:u(this.props.approvalBasicDetails.invalidatedAt).format("MM-DD-YYYY hh:mm a"),rawDate:this.props.approvalBasicDetails.invalidatedAt,order:10001,requestId:""},p.push(o)),p.sort(function(e,t){return e.rawDate!==t.rawDate?e.rawDate>t.rawDate?-1:1:e.order>t.order?-1:1})}return[]},ApprovalHistory.prototype.getActionText=function(e,t,a){for(var r,n=[],i=0;i<a.length;i++)if(null!=a[i])switch(t){case s.ApprovalHistoryAction.PERFORM_REQUESTER_ACTION:if("APPROVAL"==a[i].changedSection&&null!=a[i].approvalAfter&&null!=a[i].approvalBefore&&a[i].approvalAfter.status!=a[i].approvalBefore.status)if(a[i].approvalBefore.status==l.ApprovalStatus.ON_HOLD&&a[i].approvalAfter.status==l.ApprovalStatus.PENDING)r="Approval request resumed by "+a[i].user.displayName,n.push({order:0,actionText:r});else if(a[i].approvalAfter.status==l.ApprovalStatus.PENDING)r="Approval request submitted by "+a[i].user.displayName,n.push({order:0,actionText:r});else if(a[i].approvalAfter.status==l.ApprovalStatus.CANCELLED)r="Approval request is cancelled by "+a[i].user.displayName,n.push({order:0,actionText:r});else if(a[i].approvalAfter.status==l.ApprovalStatus.ON_HOLD)r=a[i].user.displayName+" placed approval on hold",n.push({order:0,actionText:r});else{var o=l.getDisplayApprovalStatus(a[i].approvalAfter.status);""!=o&&(r="",r=o,r+=" created by "+a[i].user.displayName,n.push({order:0,actionText:r}))}else"APPROVAL"==a[i].changedSection&&null!=a[i].approvalAfter&&null!=a[i].approvalBefore&&a[i].approvalAfter.restartCount!=a[i].approvalBefore.restartCount?(r="Approval has been restarted by "+a[i].user.displayName,n.push({order:1,actionText:r})):"ACTOR"==a[i].changedSection&&null!=a[i].actorAfter&&null!=a[i].actorBefore&&a[i].actorAfter.assignmentStatus!=a[i].actorBefore.assignmentStatus&&a[i].actorAfter.assignmentStatus==l.ActorAssignmentStatus.APPROVER_PENDING?(r=" Approval is pending with "+this.getApproverName(a[i].actorBefore.id,e),n.push({order:1,actionText:r})):"APPROVAL"==a[i].changedSection&&a[i].approvalAfter.status===l.ApprovalStatus.INVALIDATED&&(r="Approval has been invalidated by "+a[i].user.displayName,n.push({order:1,actionText:r}));break;case s.ApprovalHistoryAction.PERFORM_APPROVER_ACTION:case s.ApprovalHistoryAction.PERFORM_EMAIL_ACTION:if("ACTOR"==a[i].changedSection&&null!=a[i].actorAfter&&null!=a[i].actorBefore&&a[i].actorAfter.assignmentStatus!=a[i].actorBefore.assignmentStatus&&a[i].actorAfter.assignmentStatus!=l.ActorAssignmentStatus.APPROVER_PENDING&&null!=a[i].actorAfter.actionBy){var p=c.getDisplayAssignmentStatusText(a[i].actorAfter.assignmentStatus);r=p+" by "+a[i].actorAfter.actionBy.displayName;var u=e[a[i].actorBefore.id];null==u||u.actor.employeeId===a[i].actorAfter.actionBy.employeeId&&!u.actor.groupName||(r+=" on behalf of "+u.actor.displayName),n.push({order:1,actionText:r})}else"ACTOR"==a[i].changedSection&&null!=a[i].actorAfter&&null!=a[i].actorBefore&&a[i].actorAfter.assignmentStatus!=a[i].actorBefore.assignmentStatus&&a[i].actorAfter.assignmentStatus==l.ActorAssignmentStatus.APPROVER_PENDING?(r=" Approval is pending with "+this.getApproverName(a[i].actorBefore.id,e),n.push({order:1,actionText:r})):"ACTOR"===a[i].changedSection&&null!=a[i].actorAfter&&null!=a[i].actorBefore&&null!=a[i].actorAfter.actor&&null!=a[i].actorBefore.actor&&a[i].actorAfter.actor.alias!==a[i].actorBefore.actor.alias?(r="Approval transferred from "+a[i].actorBefore.actor.displayName+" to "+a[i].actorAfter.actor.displayName,null!=a[i].user&&a[i].user.employeeId!==a[i].actorBefore.actor.employeeId&&(r+=" by "+a[i].user.displayName),n.push({order:1,actionText:r}),e[a[i].actorBefore.id]={actor:a[i].actorBefore.actor}):"APPROVAL"==a[i].changedSection&&null!=a[i].approvalAfter&&null!=a[i].approvalBefore&&a[i].approvalAfter.status!=a[i].approvalBefore.status?a[i].approvalBefore.status==l.ApprovalStatus.ON_HOLD&&a[i].approvalAfter.status==l.ApprovalStatus.PENDING?(r="Approval request resumed by "+a[i].user.displayName,n.push({order:0,actionText:r})):a[i].approvalAfter.status==l.ApprovalStatus.ON_HOLD&&(r=a[i].user.displayName+" placed approval on hold",n.push({order:0,actionText:r})):"APPROVAL"==a[i].changedSection&&null!=a[i].approvalAfter&&null!=a[i].approvalBefore&&a[i].approvalAfter.restartCount!=a[i].approvalBefore.restartCount?(r="Approval has been restarted by "+a[i].user.displayName,n.push({order:1,actionText:r})):"APPROVAL"==a[i].changedSection&&a[i].approvalAfter.status===l.ApprovalStatus.INVALIDATED&&(r="Approval has been invalidated by "+a[i].user.displayName,n.push({order:1,actionText:r}));break;case s.ApprovalHistoryAction.UPDATE_APPROVAL_PLAN:"ACTOR"==a[i].changedSection&&null!=a[i].actorAfter&&null!=a[i].actorBefore&&a[i].actorAfter.assignmentStatus!=a[i].actorBefore.assignmentStatus&&a[i].actorBefore.assignmentStatus==l.ActorAssignmentStatus.APPROVER_PENDING?(r=this.getApproverName(a[i].actorBefore.id,e)+" is changed to future approver.",n.push({order:0,actionText:r})):"ACTOR"==a[i].changedSection&&null!=a[i].actorAfter&&null!=a[i].actorBefore&&a[i].actorAfter.assignmentStatus!=a[i].actorBefore.assignmentStatus&&a[i].actorAfter.assignmentStatus==l.ActorAssignmentStatus.APPROVER_PENDING?(r=" Approval is pending with "+this.getApproverName(a[i].actorBefore.id,e),n.push({order:1,actionText:r})):"ACTOR"==a[i].changedSection&&null!=a[i].actorAfter&&null==a[i].actorBefore&&a[i].actorAfter.assignmentStatus==l.ActorAssignmentStatus.APPROVER_PENDING&&(r=" Approval is pending with "+this.getApproverName(a[i].actorAfter.id,e),n.push({order:1,actionText:r}));break;case s.ApprovalHistoryAction.CLONE_APPROVAL:if("APPROVAL"==a[i].changedSection&&null!=a[i].approvalAfter&&null==a[i].approvalBefore){var o=l.getDisplayApprovalStatus(a[i].approvalAfter.status);""!=o&&(r=o+" created by "+a[i].user.displayName+" by cloning approval request "+a[i].approvalAfter.parentId,n.push({order:1,actionText:r}))}break;case s.ApprovalHistoryAction.CREATE_AND_START_APPROVAL_FROM_TEMPLATE:"APPROVAL"==a[i].changedSection&&a[i].approvalAfter.status==l.ApprovalStatus.PENDING&&(r="Approval request submitted by "+a[i].user.displayName+" using template "+a[i].approvalAfter.templateId,n.push({order:0,actionText:r}));break;case s.ApprovalHistoryAction.CREATE_AND_START_APPROVAL_FULL:"APPROVAL"==a[i].changedSection&&a[i].approvalAfter.status==l.ApprovalStatus.PENDING&&(r="Approval request submitted by "+a[i].user.displayName,n.push({order:0,actionText:r}));break;case s.ApprovalHistoryAction.CREATE_APPROVAL_FROM_TEMPLATE:if("APPROVAL"==a[i].changedSection&&null!=a[i].approvalAfter&&null==a[i].approvalBefore){var o=l.getDisplayApprovalStatus(a[i].approvalAfter.status);""!=o&&(r="",r=o,r+=" created by "+a[i].user.displayName+" using template "+a[i].approvalAfter.templateId,n.push({order:1,actionText:r}))}}return n},ApprovalHistory.prototype.getApproverName=function(e,t){var a=t[e];return null!=a?a.actor.displayName:"..."},ApprovalHistory.prototype.render=function(){var e=this.props.isLoading,t=[];if(!this.props.isLoading&&this.props.history&&this.props.history.data)try{t=this.getParsedHistory(this.props.history.data)}catch(e){console.log(e)}var a=[{id:"Date",header:"Date",cell:function(e){return n.createElement("span",null,e.date)},minWidth:"120px",allowLineWrap:!0},{id:"Action",header:"Action",cell:function(e){return n.createElement("span",null,e.actionText)},allowLineWrap:!0}];return n.createElement("div",{className:"awsui-util-mt-m"},n.createElement(o.Table,{loading:e,items:null==t?[]:t,columnDefinitions:a,empty:"No data found!"}))},ApprovalHistory}(n.Component),m=function(e){return{getApprovalHistory:function(t,a){e(p.getApprovalHistory(t,a,[s.ApprovalHistoryAction.PERFORM_REQUESTER_ACTION,s.ApprovalHistoryAction.CREATE_APPROVAL_FROM_TEMPLATE,s.ApprovalHistoryAction.UPDATE_APPROVAL_PLAN,s.ApprovalHistoryAction.CLONE_APPROVAL,s.ApprovalHistoryAction.CREATE_VIEWER,s.ApprovalHistoryAction.UPDATE_APPROVAL,s.ApprovalHistoryAction.CREATE_LEGAL_COUNSEL,s.ApprovalHistoryAction.CREATE_APPROVAL_FULL,s.ApprovalHistoryAction.PERFORM_APPROVER_ACTION,s.ApprovalHistoryAction.PERFORM_EMAIL_ACTION,s.ApprovalHistoryAction.CREATE_AND_START_APPROVAL_FROM_TEMPLATE,s.ApprovalHistoryAction.CREATE_AND_START_APPROVAL_FULL,s.ApprovalHistoryAction.RETRY_CREATE_ISSUE]))},updateEndedAtStatus:function(t){e(p.updateEndedAtStatus(t))}}};t.default=i.connect(mapStateToProps,m)(d)},1498:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(8),o=a(5),s=a(4),l=a(6),c=a(51),p=a(1),u=function(e){function RemindersModal(t){var a=e.call(this,t)||this;return a.initializeSelection=function(){var e=[],t=[];a.props.cards.forEach(function(r,n){var i=Date.now()-864e5;new Date(a.props.approvers[n].lastRemindedOn||0)<i?e[n]=!0:t[n]=!0}),a.setState({selected:e,tooRecent:t})},a.sendHandler=function(){a.setState({sending:!0},function(){a.props.dismissHandler(),a.props.handleNotification("Sending notifications...",!0,"info",void 0),i.default.post(s.ServiceEndPoints.reminders,{userAlias:a.props.userAlias,approverIds:a.props.approvers.filter(function(e,t){return a.state.selected[t]}).map(function(e){return e.id}),approvalId:a.props.approvalId,priority:a.props.priority}).then(function(e){e.data.isError?a.setState({sending:!1},function(){a.props.handleNotification("Error sending reminder: "+e.data.errorMessage,!1,"error",5e3),a.props.refreshApproval()}):a.setState({sending:!1},function(){a.props.handleNotification("Reminders sent!",!1,"success",5e3),a.props.refreshApproval()})},function(e){a.setState({sending:!1},function(){a.props.handleNotification("Error sending reminder.",!1,"error",5e3),a.props.refreshApproval()})})})},a.selectHandler=function(e){var t=a.state.selected;t[e]=!t[e],a.setState({selected:t})},a.deselectAllHandler=function(){a.setState({selected:[]})},a.formatApproversList=function(e){return e.map(function(e,t){var r={index:t,level:e.actor.jobLevel,remindedCount:e.remindedCount,lastRemindedOn:e.lastRemindedOn,card:a.props.cards[t]};return e.delegateAssignee?e.delegateAssignee.type==l.ActorType.PRINCIPAL?r.name=n.createElement("span",null,n.createElement("span",{className:"reminder-name"},e.delegateAssignee.firstName+" "+e.delegateAssignee.firstName),"(@",e.delegateAssignee.alias,")"):r.name=n.createElement("span",null,n.createElement("span",{className:"reminder-name"},e.delegateAssignee.displayName),"(",c.getGroupDisplayName(e.delegateAssignee.type),")"):e.actor.type==l.ActorType.PRINCIPAL?r.name=n.createElement("span",null,n.createElement("span",{className:"reminder-name"},e.actor.firstName+" "+e.actor.lastName),"(@",e.actor.alias,")"):r.name=n.createElement("span",null,n.createElement("span",{className:"reminder-name"},e.actor.displayName),"(",c.getGroupDisplayName(e.actor.type),")"),r})},a.state={selected:[],tooRecent:[],sending:!1},a.initializeSelection(),a}return r(RemindersModal,e),RemindersModal.prototype.componentDidUpdate=function(e){e.show!=this.props.show&&this.initializeSelection()},RemindersModal.prototype.render=function(){var e=this,t=[{id:"check",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},n.createElement(o.Checkbox,{checked:e.state.selected[t.index]||!1,onChange:function(){return e.selectHandler(t.index)},disabled:e.state.tooRecent[t.index]||!1}))}},{id:"name",header:"Approver",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},t.card)}},{id:"num_sent",header:"# Sent",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},t.remindedCount)}},{id:"num_sent",header:"Last Reminded",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},t.lastRemindedOn?p(t.lastRemindedOn).format("MM-DD-YYYY hh:mm a"):"N/A")}}];return n.createElement(o.Modal,{className:"awsui remindersmodal",size:"large",visible:this.props.show,onDismiss:this.props.dismissHandler,header:"Send Reminders to Pending Approvers",content:n.createElement("div",null,n.createElement("h4",null,"Select the approvers to send reminders to."),n.createElement("h5",{className:"reminders-notice"},"Approvers who have been reminded within the past 24 hours cannot be selected."),n.createElement("span",{className:"reminders-select-buttons"},n.createElement("a",{href:"#",onClick:this.initializeSelection},"Select All")," / ",n.createElement("a",{href:"#",onClick:this.deselectAllHandler},"Deselect All")),n.createElement(o.Table,{className:"reminders-options",columnDefinitions:t,items:this.formatApproversList(this.props.approvers),empty:"No pending approvers."})),footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:this.props.dismissHandler},"Cancel"),n.createElement("button",{className:"btn btn-primary sendreminderbutton",onClick:this.sendHandler,disabled:0===this.state.selected.filter(function(e){return e}).length||this.state.sending},"Send Reminders"))})},RemindersModal}(n.Component);t.default=u},1499:function(e,t,a){"use strict";function mapStateToProps(e){return{auditLog:e.auditLog}}function mapDispatchToProps(e){return l.bindActionCreators({selectUser:s.auditLogSelectUser,selectCategory:s.auditLogSelectCategory,updateFilteringText:s.auditLogUpdateFilteringText,loadHistory:s.auditLogLoadHistory,resetHistory:s.auditLogResetHistory},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(6),s=a(169),l=a(23),c=a(7),p=a(456),u=function(e){function AuditLogTableActionBarInternal(t){return e.call(this,t)||this}return r(AuditLogTableActionBarInternal,e),AuditLogTableActionBarInternal.prototype.componentDidMount=function(){var e=this.props;(0,e.loadHistory)(e.hashKey,e.actorList,e.attributeList,!1,e.isTemplate,e.lookupIndex)},AuditLogTableActionBarInternal.prototype.loadAllHistory=function(){var e=this.props;(0,e.loadHistory)(e.hashKey,e.actorList,e.attributeList,!0,e.isTemplate,e.lookupIndex)},AuditLogTableActionBarInternal.prototype.reloadHistory=function(){(0,this.props.resetHistory)(),this.loadAllHistory()},AuditLogTableActionBarInternal.prototype.onSelectCategoryChange=function(e){(0,this.props.selectCategory)(e.detail.selectedOption.label)},AuditLogTableActionBarInternal.prototype.onSelectedUserChange=function(e){(0,this.props.selectUser)(e.detail.selectedOption.label)},AuditLogTableActionBarInternal.prototype.onFilteringTextChange=function(e){(0,this.props.updateFilteringText)(e.detail.value)},AuditLogTableActionBarInternal.prototype.generateUserOptions=function(){var e=this.props.auditLog,t=e.historyList,a=[{label:p.AUDIT_LOG_SELECTED_USER_ANY,id:p.AUDIT_LOG_SELECTED_USER_ANY}],r=t.map(function(e){return e.user});return r.filter(function(e,t){return r.indexOf(e)===t}).forEach(function(e){a.push({label:e,id:e})}),a},AuditLogTableActionBarInternal.prototype.getLoadButton=function(){var e=this.props.auditLog,t=e.status,a=e.totalRawHistory,r=e.rawHistoryList,o="error"===t?"Reload":"Load all",s=!1;return"loading"===t&&(s=!0),"loaded"===t&&r.length>=a&&(s=!0),n.createElement(i.Button,{variant:"primary",className:"audit-log-load-button",disabled:s,onClick:this.loadAllHistory.bind(this)},n.createElement("span",{"data-testid":"detail-page__audit-log-button"},o))},AuditLogTableActionBarInternal.prototype.render=function(){var e=this.props,t=e.auditLog,a=e.isTemplate,r=e.privateApproval,s=t.selectedCategory,l=t.selectedUser,c=t.filteringText,p=a?o.AUDIT_LOG_CATEGORY_OPTIONS_FOR_TEMPLATE:o.AUDIT_LOG_CATEGORY_OPTIONS_FOR_APPROVAL,u=this.generateUserOptions();return n.createElement("div",{className:"audit-log-action-bar"},n.createElement(i.Input,{className:"audit-log-filtering-text",value:c,type:"search",onInput:this.onFilteringTextChange.bind(this),placeholder:"Find audit log",label:"Find audit log"}),n.createElement(i.Select,{className:"audit-log-selected-category",options:p,selectedId:s,onChange:this.onSelectCategoryChange.bind(this)}),n.createElement(i.Select,{className:"audit-log-selected-user",options:u,selectedId:l,onChange:this.onSelectedUserChange.bind(this)}),this.getLoadButton(),r&&n.createElement("div",{className:"private-audit-log","data-testid":"detail-page__audit-log-private-badge"},n.createElement(i.Badge,{color:"grey"},n.createElement("i",{className:"fa fas fa-user-secret fa-lg"}),"Â Private")))},AuditLogTableActionBarInternal}(n.Component);t.AuditLogTableActionBarInternal=u,t.AuditLogTableActionBar=c.connect(mapStateToProps,mapDispatchToProps)(u)},1500:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=function(e,t,a){return t.hasDetail&&e&&e.trim().length>0?r.createElement("span",null,r.createElement("span",null,e),r.createElement("a",{className:"audit-log-show-history-detail",onClick:function(){a(t)}}," ","(show details)")):e};t.generateAuditLogTableColumnDefinition=function(e){return[{id:"date",header:"Date",cell:function(e){return e.date},width:140,minWidth:"140px"},{id:"category",header:"Category",cell:function(e){return e.category}},{id:"event",header:"Event",cell:function(e){return e.event}},{id:"user",header:"User",cell:function(e){return e.user}},{id:"oldValue",header:"Old value",cell:function(t){return n(t.oldValue,t,e)}},{id:"newValue",header:"New value",cell:function(t){return n(t.newValue,t,e)}}]}},1501:function(e,t,a){"use strict";function mapStateToProps(e){return{auditLog:e.auditLog}}function mapDispatchToProps(e){return s.bindActionCreators({updateDisplayHistory:l.auditLogUpdateDisplayHistory},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(170),s=a(23),l=a(169),c=a(7),p=a(99),u=function(e){function AuditLogHistoryDetailModalInternal(t){return e.call(this,t)||this}return r(AuditLogHistoryDetailModalInternal,e),AuditLogHistoryDetailModalInternal.prototype.getHistoryDetailModalHeader=function(){var e=this.props.auditLog,t=e.displayHistory;return null==t?null:[t.category,t.event].join(" - ")},AuditLogHistoryDetailModalInternal.prototype.getActorDisplay=function(e){return n.createElement(p.default,{actor:e.actor,delegate:e.delegateAssignee,internalProps:{finalApprover:e.finalApprover,showDelete:!1,status:e.assignmentStatus,decisionMadeOn:e.decisionMadeOn,actionBy:e.actionBy}})},AuditLogHistoryDetailModalInternal.prototype.getHistoryDetailModalValueDisplay=function(e,t){return null==e?null:t===o.AuditLogHistoryValueType.HTML?n.createElement("div",{dangerouslySetInnerHTML:{__html:e}}):t===o.AuditLogHistoryValueType.ACTOR?this.getActorDisplay(e):n.createElement("div",null,e)},AuditLogHistoryDetailModalInternal.prototype.getHistoryDetailModalContent=function(){var e=this.props.auditLog,t=e.displayHistory;if(null==t)return null;var a=t.oldValueFull,r=t.newValueFull,i=t.valueType;return n.createElement("div",{className:"awsui-grid"},n.createElement("div",{className:"awsui-row"},n.createElement("div",{className:"col-6 audit-log-history-detail-value"},this.getHistoryDetailModalValueDisplay(a,i)),n.createElement("div",{className:"col-6 audit-log-history-detail-value"},this.getHistoryDetailModalValueDisplay(r,i))))},AuditLogHistoryDetailModalInternal.prototype.getHistoryDetailModalFooter=function(){return n.createElement("div",{className:"awsui-grid"},n.createElement("div",{className:"awsui-row"},n.createElement("div",{className:"col-6"},n.createElement("h3",null,"Old value")),n.createElement("div",{className:"col-6"},n.createElement("h3",null,"New value"))))},AuditLogHistoryDetailModalInternal.prototype.render=function(){var e=this.props,t=e.auditLog,a=e.updateDisplayHistory,r=t.displayHistory;return n.createElement("div",{className:"audit-log-history-detail-modal"},n.createElement(i.Modal,{size:"large",header:this.getHistoryDetailModalHeader(),visible:null!=r,footer:this.getHistoryDetailModalFooter(),content:this.getHistoryDetailModalContent(),onDismiss:function(){a(null)}}))},AuditLogHistoryDetailModalInternal}(n.Component);t.AuditLogHistoryDetailModal=c.connect(mapStateToProps,mapDispatchToProps)(u)},1502:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(8),o=a(5),s=a(4),l=a(6),c=a(1),p=function(e){function EscalationModal(t){var a=e.call(this,t)||this;return a.initializeSelection=function(){var e=[],t=[];a.props.cards.forEach(function(r,n){null==a.props.approvers[n].escalatedTo?e[n]=!0:t[n]=!0}),a.setState({selected:e,tooRecent:t})},a.sendEscalation=function(){a.setState({sending:!0},function(){a.props.dismissHandler(),a.props.handleNotification("Escalating",!0,"info",void 0),i.default.post(s.ServiceEndPoints.escalations,{userAlias:a.props.userAlias,employeeIds:a.props.approvers.filter(function(e,t){return a.state.selected[t]}).map(function(e){return e.actor.employeeId}),approvalId:a.props.approvalId}).then(function(e){e.data.isError?a.setState({sending:!1},function(){a.props.handleNotification("Error Escalating: "+e.data.errorMessage,!1,"error",5e3),a.props.refreshApproval()}):a.setState({sending:!1},function(){a.props.handleNotification("Approver Escalated",!1,"success",5e3),a.props.refreshApproval()})},function(e){a.setState({sending:!1},function(){a.props.handleNotification("Error Escalating.",!1,"error",5e3),a.props.refreshApproval()})})})},a.selectHandler=function(e){var t=a.state.selected;t[e]=!t[e],a.setState({selected:t})},a.deselectAllHandler=function(){a.setState({selected:[]})},a.formatApproversList=function(e){return e.filter(function(e){return e.actor.type===l.ActorType.PRINCIPAL}).map(function(e,t){var r={index:t,level:e.actor.jobLevel,card:a.props.cards[t],escalatedAt:e.escalatedAt,escalatedTo:e.escalatedTo};return e.delegateAssignee?e.delegateAssignee.type===l.ActorType.PRINCIPAL&&(r.name=n.createElement("span",null,n.createElement("span",{className:"reminder-name"},e.delegateAssignee.firstName+" "+e.delegateAssignee.firstName),"(@",e.delegateAssignee.alias,")")):e.actor.type===l.ActorType.PRINCIPAL&&(r.name=n.createElement("span",null,n.createElement("span",{className:"reminder-name"},e.actor.firstName+" "+e.actor.lastName),"(@",e.actor.alias,")")),r})},a.state={selected:[],tooRecent:[],sending:!1},a.initializeSelection(),a}return r(EscalationModal,e),EscalationModal.prototype.componentDidUpdate=function(e){e.show!=this.props.show&&this.initializeSelection()},EscalationModal.prototype.render=function(){var e=this,t=[{id:"check",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},n.createElement(o.Checkbox,{checked:e.state.selected[t.index]||!1,onChange:function(){return e.selectHandler(t.index)},disabled:e.state.tooRecent[t.index]||!1}))}},{id:"name",header:"Approver",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},t.card)}},{id:"num_sent",header:"Escalated At",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},t.escalatedAt?c(new Date(t.escalatedAt)).format("MM-DD-YYYY hh:mm a"):"N/A")}},{id:"num_sent",header:"Escalated To",cell:function(t){return n.createElement("span",{className:"cell"+(e.state.selected[t.index]?" selected":"")+(e.state.tooRecent[t.index]?" disabled":"")},t.escalatedTo?t.escalatedTo:"N/A")}}];return n.createElement(o.Modal,{className:"awsui remindersmodal",size:"large",visible:this.props.show,onDismiss:this.props.dismissHandler,header:"Send Escalations to Pending Approvers",content:n.createElement("div",null,n.createElement("h4",null,"Select the Approvers to Escalate."),n.createElement("h5",{className:"reminders-notice"},"Approvers who have been escalated cannot be selected."),n.createElement("span",{className:"reminders-select-buttons"},n.createElement("a",{href:"#",onClick:this.initializeSelection},"Select All")," / ",n.createElement("a",{href:"#",onClick:this.deselectAllHandler},"Deselect All")),n.createElement(o.Table,{className:"reminders-options",columnDefinitions:t,items:this.formatApproversList(this.props.approvers),empty:"No pending Individual Approvers."})),footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:this.props.dismissHandler},"Cancel"),n.createElement("button",{className:"btn btn-primary sendreminderbutton",onClick:this.sendEscalation,disabled:0===this.state.selected.filter(function(e){return e}).length||0===this.props.approvers.filter(function(e){return"PRINCIPAL"===e.actor.type}).length||this.state.sending},"Send Escalations"))})},EscalationModal}(n.Component);t.default=p},1503:function(e,t,a){"use strict";function mapStateToProps(e){return{draftApprovalRequestId:e.approvalRequest.approvalRequestId}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(77),o=a(755),s=a(7),l=a(215),c=a(30),p=a(6),u=a(10),d=function(e){function CreateApprovalComponent(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new c.MetricPageLatencyTimer,a.state={approvalRequestId:null},a.setAlertMessage=a.setAlertMessage.bind(a),a}return r(CreateApprovalComponent,e),CreateApprovalComponent.prototype.setAlertMessage=function(e){var t=e.display,a=e.content,r=(e.type,e.loading);void 0==t&&this.props.dispatch(u.updateNotification({value:{content:a,type:"alert",loading:r,status:"error"}}))},CreateApprovalComponent.prototype.componentWillMount=function(){if(this.props.location.search){console.log(this.props.location.search);var e=this.props.location.search.match(/templateId=(\d+)/i);e&&this.props.history.push("/template/createApproval/"+e[1])}},CreateApprovalComponent.prototype.componentWillReceiveProps=function(e){null!=e.draftApprovalRequestId&&this.setState({approvalRequestId:e.draftApprovalRequestId})},CreateApprovalComponent.prototype.componentDidMount=function(){document.title=this.props.addTitle("Create Approval - "),this.metricPageLatencyTimer.publishPageLatency(p.CLIENT_METRICS_METHOD_NAMES.CREATE_APPROVAL)},CreateApprovalComponent.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},CreateApprovalComponent.prototype.getNavigationBarLinks=function(){return[{available:!0,targetId:"BasicDetails",text:"Basic Details",iconClass:"fa-info-circle"},{available:!1,targetId:"KeyDetails",text:"Key Details",iconClass:"fa-file"},{available:!1,targetId:"Attachments",text:"Attachments",iconClass:"fa-file"},{available:!1,targetId:"Plan",text:"Approval Plan",iconClass:"fa-users"},{available:!1,targetId:"ApprovalViewers",text:"Approval Viewers",iconClass:"fa-eye"},{available:!1,targetId:"ApprovalSettings",text:"Questionnaire",iconClass:"fa-cog"},{available:!1,targetId:"RelatedApprovals",text:"Related / Tags",iconClass:"fa-clipboard"}]},CreateApprovalComponent.prototype.render=function(){var e=this.props.privateApprovalsFeatureEnabled,t=this.getNavigationBarLinks();return null==this.state.approvalRequestId?n.createElement("div",null,n.createElement("section",{className:"wrapper createApprovals"},n.createElement(l.default,{links:t,completedItemBackground:"#F5CD69",unavailableItemBackground:"#B4B4B4",unavailableItemColor:"#C7C7C7",completedItemColor:"black",dividerColor:"#A2A2A2"}),n.createElement("div",{className:"awsui approvalsform"},n.createElement("div",{className:"awsui-util-p-m"},n.createElement("a",{id:"BasicDetails"}),n.createElement("div",{className:"awsui-util-pb-m",style:{marginTop:"26px"}},n.createElement(o.default,{setAlertMessage:this.setAlertMessage,basicDetails:null,privateApprovalsFeatureEnabled:e}))),n.createElement("div",{className:"awsui-util-clearfix"})))):n.createElement(i.Redirect,{to:"/approval/edit/"+this.state.approvalRequestId+"/1"})},CreateApprovalComponent}(n.Component);t.default=s.connect(mapStateToProps)(d)},1505:function(e,t,a){"use strict";function mapStateToProps(e){var t={};return null!=e.approvalRequest&&(t={routesByLevel:e.approvalRequest.routesByLevel,approvalPlanVersion:e.approvalRequest.approvalPlanVersion,approvalAdmins:e.approvalAdmins,basicDetails:e.approvalRequest.basicDetails,approvalRequestVersion:e.approvalRequest.approvalRequestVersion,legalCounsel:e.approvalRequest.legalCounsel,finalApprover:e.approvalRequest.finalApprover,draftApprovalRequestId:e.approvalRequest.approvalRequestId,groupMembers:e.groupMembers}),null!=e.unsavedDataChange&&(t.unsavedDataChange=e.unsavedDataChange),t}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s,l=a(0),c=a(77),p=a(681),u=a(8),d=a(306),m=a(713),f=a(755),E=a(319),h=a(1506),v=a(750),A=a(749),g=a(685),T=a(752),y=a(214),_=a(757),N=a(4),R=a(138),S=a(174),P=a(13),b=a(135),C=a(158),O=a(78),I=a(99),D=(a(758),a(5)),L=a(5),w=a(159),M=a(6),U=a(7),k=a(61),V=a(4),F=a(215),x=a(753),B=a(10),H=a(37),Y=a(30),G=a(52),q=a(751),j=a(144),W=a(13),Q=a(759);a(1);!function(e){e.TRANSACTION_VALUE="TRANSACTION_VALUE",e.LEGAL_COUNSEL_SELECTION="LEGAL_COUNSEL_SELECTION",e.FINAL_APPROVER="FINAL_APPROVER",e.ESCALATION="ESCALATION"}(s||(s={}));var z=function(e){function EditApprovalComponent(t){var a=e.call(this,t)||this;a.metricPageLatencyTimer=new Y.MetricPageLatencyTimer,a.saveEscalationEnabledDetails=function(e){"NO"===e&&a.saveEscalationDetails("false",""),a.setState(function(t){return t.approvalRequest.approval.escalationEnabled="YES"===e,t.approvalRequest.approval.escalationPeriodInDays="",t})},a.onInputEscalationPeriod=function(e){a.setState(function(t){return t.approvalRequest.approval.escalationPeriodInDays=e,t})},a.onBlurEscalationPeriod=function(){var e=a.state.approvalRequest.approval.escalationPeriodInDays;Q.isValidEscalationPeriod(e,a.props.dispatch)?(a.saveEscalationDetails("true",e),a.setState(function(t){return t.approvalRequest.approval.escalationEnabled=!0,t.approvalRequest.approval.escalationPeriodInDays=e,t})):a.setState(function(e){return e.approvalRequest.approval.escalationPeriodInDays="",e})},a.childSaveBasicDetails=null,a.childSaveKeyDetails=null,a.saveBasicDetails=function(e){a.childSaveBasicDetails=e},a.saveKeyDetails=function(e){a.childSaveKeyDetails=e};var r=new w.ApprovalRequest,n={};n.transactionAboveUsd100M=null,n.privilegedAndConfidential=null,n.recommended=null,n.recommendedForSwimlane=null,n.routeLockedForApprover=null,n.routeLockedForRequester=null,n.escalationEnabled=null,n.escalationPeriodInDays="",r.approval=n;var i=t.location.search,o=new URLSearchParams(i),s=o.get("ssid"),l=o.get("linkback");return a.state={receivedServiceData:!1,approvalRequestId:a.props.match.params.approvalRequestId,approvalRequest:r,approvalPlanVersion:null,approvalRequestVersion:null,isBeingSaved:!1,readOnlyApprovalPlan:!1,approvalPlanLocked:!1,savingApprovalInfo:!1,redirectToDetailsPage:!1,isLoading:!1,errorWhileLoading:!1,hasValidLinkback:!1,sourceSystemId:s,linkbackUrl:l,sourceSystemName:A.getSourceSystemName(s),showDiscardConfirmation:!1,shouldIncludeList:[],showSuggestionModal:!1,checkSuggestions:!0,template:null,templateLoading:!1,hasPermissionedContent:!1,alertIds:[]},a.addExternalValidateBasicDetails=a.addExternalValidateBasicDetails.bind(a),a.validateApprovalRequest=a.validateApprovalRequest.bind(a),a.submitApprovalRequest=a.submitApprovalRequest.bind(a),a.saveApprovalAttribute=a.saveApprovalAttribute.bind(a),a.discardApprovalRequest=a.discardApprovalRequest.bind(a),a.performDiscardApproval=a.performDiscardApproval.bind(a),a.discardSuggestions=a.discardSuggestions.bind(a),a.generatePDF=a.generatePDF.bind(a),a.fetchPrivateViewers=a.fetchPrivateViewers.bind(a),a.addPrivateViewer=a.addPrivateViewer.bind(a),a.removePrivateViewer=a.removePrivateViewer.bind(a),a.getFullApproval=a.getFullApproval.bind(a),a}return r(EditApprovalComponent,e),EditApprovalComponent.prototype.fetchPrivateViewers=function(){var e=this,t={entityType:"APPROVAL",entityId:this.state.approvalRequest.approval.id,roleName:N.UserRole.PRIVATE_VIEWER},a=new URLSearchParams;a.append("payload",JSON.stringify(t)),u.default.request({method:"get",url:M.SERVICE_ENDPOINTS+M.API_ROUTES.GET_ACTORS_BY_ROLE,params:a}).then(function(t){var a=t.data.data.actorOutputList;a.forEach(function(e){e.actor=e.userOutput}),e.setState({approvalPrivateViewers:a})}).catch(function(e){console.log(e)})},EditApprovalComponent.prototype.addPrivateViewer=function(e,t,a){var r=this,n=new FormData;n.append("entityType","APPROVAL"),n.append("entityId",e),n.append("roleName","PRIVATE_VIEWER"),n.append("actorType",t),n.append("actorId",a),u.default.post(M.SERVICE_ENDPOINTS+M.API_ROUTES.ADD_ACTOR_TO_ROLE,n).then(function(){r.fetchPrivateViewers()}).catch(function(e){console.log(e)})},EditApprovalComponent.prototype.removePrivateViewer=function(e){var t=this,a={entityType:"APPROVAL",entityId:this.state.approvalRequest.approval.id,roleName:N.UserRole.PRIVATE_VIEWER,actorId:e},r=new URLSearchParams;r.append("payload",JSON.stringify(a)),u.default.request({method:"delete",url:M.SERVICE_ENDPOINTS+M.API_ROUTES.REMOVE_ACTOR_FROM_ROLE,params:r}).then(function(){t.fetchPrivateViewers()}).catch(function(e){console.log(e)})},EditApprovalComponent.prototype.addExternalValidateBasicDetails=function(e){this.setState({externalValidateBasicDetails:e})},EditApprovalComponent.prototype.generatePDF=function(){this.props.dispatch(q.generatePdf(this.state.approvalRequest.approval.id,this.state.approvalRequest.approval.title,"false"))},EditApprovalComponent.prototype.componentWillReceiveProps=function(e){e.approvalRequestVersion!=this.props.approvalRequestVersion&&this.setState({approvalRequestVersion:e.approvalRequestVersion})},EditApprovalComponent.prototype.componentDidMount=function(){var e=this;this.resetReduxState(),document.title=this.props.addTitle("Edit Approval - "+this.props.match.params.approvalRequestId+" - "),null!=this.props.match.params.messageId&&this.props.dispatch(B.updateNotification({value:{id:"EDIT_APPROVAL_MESSAGE",content:this.getMessage(this.props.match.params.messageId,this.props.match.params.approvalRequestId),loading:!1,type:"alert",status:"success",duration:5e3}})),this.setState({isLoading:!0,savingApprovalInfo:!0}),u.default.get(V.ServiceEndPoints.getApprovalRelations+this.state.approvalRequestId).then(function(t){var a=t.data;a.isError||e.props.dispatch(S.getRelatedApprovalRecordDetails(a.data,S.FETCH_ALL_APPROVAL_RELATIONS))}),u.default.get(V.ServiceEndPoints.getTags+this.state.approvalRequestId).then(function(t){var a=t.data;a.isError||e.props.dispatch({type:j.FETCH_ALL_TAGS,payload:a.data})}),this.getFullApproval()},EditApprovalComponent.prototype.getFullApproval=function(){var e=this;u.default.get(M.SERVICE_ENDPOINTS+M.API_ROUTES.GET_APPROVAL_REQUEST_FULL+"?approvalId="+this.state.approvalRequestId).then(function(t){var a=t.data,r=a.data;if(null!=r&&r.approval.status!=P.ApprovalStatus.DRAFT||a.errorMessage.startsWith("You do not have permission to access this approval"))e.setState({redirectToDetailsPage:!0});else{if(a.errorMessage)return void e.props.dispatch(B.updateNotification({value:{content:a.errorMessage,type:"alert",loading:!1,status:"error"}}));var n=!!e.props.history.location.search.match("createdFromTemplate=true"),i=!1;null!=r.approval.templateId&&r.approval.templateId.length>0&&1==r.approval.routeLockedForRequester&&(i=!0),null!=r.approval.neededOnDate&&(r.approval.neededOnDate=new Date(r.approval.neededOnDate)),r.attributes=r.attributeList.reduce(function(e,t){return t._saving=!1,t._editing=n,t._type="approval",e[t.id]=t,t._unsave=!1,t._isValid=!0,e},{}),e.props.dispatch(R.setRuleEntity({value:{entityId:e.state.approvalRequestId,entityType:N.RuleEntityType.Request}})),e.props.dispatch(R.loadRules({value:{rules:r.ruleList.reduce(function(e,t){return t._isBeingDeleted=!1,e[t.ruleId]=t,e},{})}})),e.setState({errorWhileLoading:a.isError,receivedServiceData:!0,isLoading:!1,approvalRequest:r,savingApprovalInfo:!1,approvalPlanVersion:a.version,approvalRequestVersion:r.approval.version,readOnlyApprovalPlan:!1,approvalPlanLocked:i},function(){this.state.hasValidLinkback&&this.props.location.pathname.toLowerCase().indexOf("/route")>0&&window.setTimeout(function(){document.getElementById("lnkSequence").click()},1e3)}),e.props.privateApprovalsFeatureEnabled&&e.fetchPrivateViewers()}e.metricPageLatencyTimer.publishPageLatency(M.CLIENT_METRICS_METHOD_NAMES.EDIT_APPROVAL)}).catch(function(t){e.setState({receivedServiceData:!0,errorWhileLoading:!0}),e.metricPageLatencyTimer.publishPageLatency(M.CLIENT_METRICS_METHOD_NAMES.EDIT_APPROVAL)})},EditApprovalComponent.prototype.componentWillUnmount=function(){var e=this;document.title=this.props.addTitle(""),this.state.alertIds.forEach(function(t){return e.props.deleteNotification(t)}),this.props.clearApprovalAdmins()},EditApprovalComponent.prototype.componentDidUpdate=function(e,t){var a=this,r=this.state,n=r.approvalRequest,i=r.hasPermissionedContent,o=r.template,s=r.templateLoading,l=n&&n.approval;if(l&&!l.issueCreated&&l.templateId&&1!=l.templateId&&!o&&!s){var c=l.templateId;this.setState({templateLoading:!0}),H.default({method:"GET_TEMPLATE_FULL",payload:JSON.stringify({templateId:c})}).then(function(e){var t=e.templateFull;return a.setState({template:t.template,templateLoading:!1})}).catch(function(){return a.setState({template:{},templateLoading:!1})})}var p=l&&(l.userRole===N.UserRole.APPROVER||l.userRole===N.UserRole.REQUESTER||l.userRole===N.UserRole.APPROVAL_ADMIN);i!==p&&this.setState({hasPermissionedContent:p});var u=this.state,d=u.linkbackUrl,m=u.sourceSystemId,f=u.hasValidLinkback,E=this.props,h=E.basicDetails,A=E.approvalAdmins,g=E.updateNotification;if(!f&&v.isValidLinkback(d,m,h)&&this.setState({hasValidLinkback:!0}),!l.id||A&&A.status!==P.Status.INVALID||this.props.getApprovalAdmins({approvalId:l.id}),A.status===P.Status.FAILURE&&A.status!==e.approvalAdmins.status){var T=Math.random();g({id:T,content:"Failed operation on Approval Admins: "+A.error,loading:!1,type:"alert",status:"error"}),this.setState({alertIds:this.state.alertIds.concat([T])})}},EditApprovalComponent.prototype.getMessage=function(e,t){return"1"==e?"Draft approval request "+t+" has been created successfully.":""},EditApprovalComponent.prototype.discardApprovalRequest=function(e){this.setState({showDiscardConfirmation:!0})},EditApprovalComponent.prototype.performDiscardApproval=function(e){var t=this;this.setState({isBeingSaved:!0});var a=new URLSearchParams;a.append("approvalId",this.state.approvalRequestId),a.append("action",V.RequestorAction.CANCEL),u.default.post(V.ServiceEndPoints.requestorAction,a).then(function(e){200==e.status&&(t.props.dispatch(B.updateNotification({value:{id:"EDIT_APPROVAL_MESSAGE",content:"Successfully discarded draft request.",loading:!1,type:"alert",status:"success",duration:3e3}})),t.setState({showDiscardConfirmation:!1,isBeingSaved:!1,redirectToDetailsPage:!0}))}).catch(function(e){t.setState({showDiscardConfirmation:!1,isBeingSaved:!1}),t.props.dispatch(B.updateNotification({value:{id:"EDIT_APPROVAL_MESSAGE",content:"Error while discarding draft request.",loading:!1,type:"alert",status:"error",duration:3e3}}))})},EditApprovalComponent.prototype.validateApprovalRequest=function(e){return i(this,void 0,void 0,function(){var e,t,a,r,n,i,l;return o(this,function(o){switch(o.label){case 0:return e="",t=document.getElementById("lnkQuestionnaire"),a=null,r=!1,n="",this.validateBasicDetails()?this.validateApprovalPlan()?null==this.state.approvalRequest.approval.transactionAboveUsd100M?(r=!0,n="Invalid transaction value selection. Please select either Yes or No",e=s.TRANSACTION_VALUE,a=t):this.validateFinalApprover()?this.validateLegalCounsel()?this.validateEscalationPeriod()||(r=!0,n="Please enter valid escalation period between 4 to 30 days",e=s.ESCALATION):(r=!0,n="Please select a Legal Counsel.",e=s.LEGAL_COUNSEL_SELECTION):(r=!0,n="Invalid final approver selection.",e=s.FINAL_APPROVER,a=t):(r=!0,n="Invalid approval plan.",a=document.getElementById("lnkSequence")):(r=!0,n="Invalid basic details.",a=document.getElementById("lnkBasics")),this.state.checkSuggestions?[4,H.default({method:"GET_SUGGESTIONS",payload:JSON.stringify({approvalId:this.state.approvalRequestId})})]:[3,2];case 1:if(i=o.sent(),i.shouldInclude.length>0)return this.setState({shouldIncludeList:i.shouldInclude,showSuggestionModal:!0}),[2];o.label=2;case 2:return 0!=r?[3,5]:(l=Math.random(),null!=this.props.unsavedDataChange&&null!=this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS]&&this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS].length>0?(this.props.dispatch(B.createNotification({value:{id:l,content:"Saving key details",loading:!0,type:"alert",status:"success"}})),[4,this.childSaveKeyDetails(this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS])]):[3,4]);case 3:o.sent(),this.props.dispatch(B.deleteNotification({value:l})),o.label=4;case 4:return null!=this.props.unsavedDataChange&&null!=this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS]&&this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS].length>0?this.childSaveBasicDetails(this.submitApprovalRequest):this.submitApprovalRequest(),[3,6];case 5:this.props.dispatch(B.updateNotification({value:{content:n,type:"alert",status:"error"}})),o.label=6;case 6:return[2]}})})},EditApprovalComponent.prototype.discardSuggestions=function(e){var t=this;this.setState({checkSuggestions:!1},function(){t.validateApprovalRequest(e)})},EditApprovalComponent.prototype.submitApprovalRequest=function(){var e=this,t=new URLSearchParams;t.append("approvalId",this.state.approvalRequestId),t.append("updatableApprovalAttributeId","7"),t.append("value","2"),this.setState({isBeingSaved:!0}),u.default.post(M.SERVICE_ENDPOINTS+M.API_ROUTES.SUBMIT_APPROVAL,t).then(function(t){var a=t.data;1==a.isError?(e.props.dispatch(B.updateNotification({value:{content:a.errorMessage,type:"alert",loading:!1,status:"error"}})),e.setState({isBeingSaved:!1})):e.state.hasValidLinkback?window.location.href=e.state.linkbackUrl:window.location.href="/Approval/Details/"+e.state.approvalRequestId})},EditApprovalComponent.prototype.validateBasicDetails=function(){var e=!0,t={title:!0,neededOnDate:!0};null!=this.props.basicDetails.title&&""!=this.props.basicDetails.title.trim()||(t.title=!1,e=!1),null!=this.props.basicDetails.neededOnDate&&""!=this.props.basicDetails.toString().trim()||(t.neededOnDate=!1,e=!1);var a=this.state.externalValidateBasicDetails;return e&&(!a||a())},EditApprovalComponent.prototype.validateApprovalPlan=function(){var e=!0;return null==this.props.routesByLevel||0==this.props.routesByLevel.length?e=!1:null!=this.props.routesByLevel&&1==this.props.routesByLevel.length&&1==this.props.routesByLevel[0].length&&0==this.props.routesByLevel[0][0].approvers.length&&(e=!1),e},EditApprovalComponent.prototype.validateLegalCounsel=function(){var e=!0;return null==this.state.approvalRequest.approval.privilegedAndConfidential?e=!1:1!=this.state.approvalRequest.approval.privilegedAndConfidential||null!=this.props.legalCounsel&&null!=this.props.legalCounsel.id||(e=!1),e},EditApprovalComponent.prototype.validateEscalationPeriod=function(){var e=!0;return this.state.approvalRequest.approval.escalationEnabled&&(null==this.state.approvalRequest.approval.escalationPeriodInDays||this.state.approvalRequest.approval.escalationPeriodInDays<4||this.state.approvalRequest.approval.escalationPeriodInDays>30)&&(e=!1),e},EditApprovalComponent.prototype.validateFinalApprover=function(){var e=!0;return 1!=this.state.approvalRequest.approval.recommended||0!=this.state.approvalRequest.approval.recommendedForSwimlane||null!=this.props.finalApprover&&null!=this.props.finalApprover.id||(e=!1),e},EditApprovalComponent.prototype.saveApprovalAttribute=function(e,t){var a=this,r=new URLSearchParams;r.append("approvalId",this.state.approvalRequestId),r.append("updatableApprovalAttributeId",e),r.append("value",t.toString()),r.append("version",this.state.approvalRequestVersion),this.setState({isBeingSaved:!0,savingApprovalInfo:!0}),u.default.post(M.SERVICE_ENDPOINTS+M.API_ROUTES.SAVE_APPROVAL_PROPERTIES,r).then(function(e){var t=e.data;a.setState({approvalRequestVersion:t.version,isBeingSaved:!1,savingApprovalInfo:!1}),a.basicDetailsChanged()})},EditApprovalComponent.prototype.saveEscalationDetails=function(e,t){var a=this,r=new URLSearchParams;r.append("approvalId",this.state.approvalRequestId),r.append("escalationEnabled",e),r.append("escalationPeriodInDays",t),r.append("version",this.state.approvalRequestVersion),this.setState({isBeingSaved:!0,savingApprovalInfo:!0}),u.default.post(M.SERVICE_ENDPOINTS+M.API_ROUTES.SAVE_ESCALATION_DETAILS,r).then(function(e){var t=e.data;a.setState({approvalRequestVersion:t.version,isBeingSaved:!1,showAlertMessage:!1,savingApprovalInfo:!1}),a.basicDetailsChanged()})},EditApprovalComponent.prototype.getSuggestions=function(){var e=this;H.default({method:"GET_SUGGESTIONS",payload:JSON.stringify({approvalId:this.state.approvalRequestId})}).then(function(t){t.length>0&&e.setState({shouldIncludeList:t,showSuggestionModal:!0})}).catch(function(e){console.error(e)})},EditApprovalComponent.prototype.basicDetailsChanged=function(){this.props.dispatch(k.basicDetailsChange({changedAt:"--",basicDetails:this.state.approvalRequest.approval,approvalRequestVersion:this.state.approvalRequestVersion}))},EditApprovalComponent.prototype.resetReduxState=function(){this.props.dispatch(k.resetState({changedAt:new Date}))},EditApprovalComponent.prototype.getNavigationBarLinks=function(e){return[{available:!0,targetId:"BasicDetails",text:"Basic Details",iconClass:"fa-info-circle",offset:-120-e},{available:!0,targetId:"KeyDetails",text:"Key Details",iconClass:"fa-file",offset:-120-e},{available:!0,targetId:"Attachments",text:"Attachments",iconClass:"fa-file",offset:-120-e},{available:!0,targetId:"Sequence",text:"Approval Plan",iconClass:"fa-users",offset:-120-e},{available:!0,targetId:"Viewers",text:"Approval Viewers",iconClass:"fa-eye",offset:-120-e},{available:!0,targetId:"Questionnaire",text:"Questionnaire",iconClass:"fa-cog",offset:-120-e},{available:!0,targetId:"RelatedApprovals",text:"Related/Tags",iconClass:"fa-clipboard",offset:-120-e}]},EditApprovalComponent.prototype.render=function(){return 1==this.state.redirectToDetailsPage?l.createElement(c.Redirect,{to:"/approval/details/"+this.state.approvalRequestId+this.props.location.search}):l.createElement("div",null,l.createElement("section",{className:"wrapper createApprovals"},1==this.state.receivedServiceData?0==this.state.errorWhileLoading?this.getMainContent():l.createElement("div",{className:"awsui approvalsform"},l.createElement("div",null,l.createElement("div",{style:{paddingTop:"10%",width:"70%",marginLeft:"auto",marginRight:"auto"}},l.createElement(L.Alert,{header:"Error",type:"error",content:l.createElement("div",null,"Unable to load details for this approval request. Please retry after sometime and ",l.createElement("a",{target:"blank",href:"https://tt.amazon.com/quicklink/Q000299572"},"contact us"),"Â if the issue still persists.")})))):l.createElement("div",{className:"awsui"},l.createElement("div",{className:" awsui-util-t-c",style:{paddingTop:"250px"}},l.createElement(L.Spinner,null)," Loading approval information..."))),l.createElement("div",{className:"awsui-util-clearfix"}))},EditApprovalComponent.prototype.getMainContent=function(){var e=this,t=this.state,a=t.approvalPlanLocked,r=t.approvalRequest,i=t.approvalPrivateViewers,o=r.approval,c=r.viewerList,u=r.legalCounselList,A=r.attributes,R=r.documentList,S=r.approvalPlan,w=r.requester,U=(r.ruleList,o.lockApprovalAdminSection),k=o.userRole,V=o.privateApproval,H=w.actor,Y=H.alias,q=H.displayName,j=this.props,Q=j.approvalAdmins,z=j.getGroupMembers,K=j.groupMembers,J=j.privateApprovalsFeatureEnabled,X={ActorCard:I.default,DragDropContext:O.DragDropContext,Droppable:O.Droppable,MenuItem:b.MenuItem,PeopleSearch:C.default,actors:Q&&Q.admins||[],droppableId:"ApprovalAdmins",enableDynamicTiles:!1,readonlyView:!1,removeActor:function(t){return e.props.deleteApprovalAdmin({approvalId:o.id,approvalAdminId:t.id})},addActor:function(t){var a=t.type,r=t.alias,n=t.groupName,i="PRINCIPAL"===a?r:n;e.props.addApprovalAdmin({approvalId:o.id,type:a,actorId:i})},secondaryText:"Add approval admins",getGroupMembers:z,groupMembers:K,threshold:150,setNotification:B.updateNotification},$={ActorCard:I.default,DragDropContext:O.DragDropContext,Droppable:O.Droppable,MenuItem:b.MenuItem,PeopleSearch:C.default,actors:i||[],droppableId:"ApprovalPrivateViewers",enableDynamicTiles:!1,readonlyView:!1,removeActor:function(t){return e.removePrivateViewer(t.id)},addActor:function(t){var a=t.type,r=t.alias,n=t.groupName,i="PRINCIPAL"===a?r:n;e.addPrivateViewer(o.id,a,i)},secondaryText:"Add approval private viewers",getGroupMembers:z,groupMembers:K,threshold:150,setNotification:B.updateNotification},Z={};c.map(function(e,t){return Z[e.id]=e,Z});var ee=this.state.hasValidLinkback?172:100,te=this.getNavigationBarLinks(ee),ae=l.createElement(E.default,{readOnly:!1,approvalRequestId:this.state.approvalRequestId,legalCounsel:u.length>0?u[0]:null}),re=l.createElement(h.default,{disabled:o.routeLockedForRequester,approvalRequestId:this.state.approvalRequestId,approvalRequestVersion:this.state.approvalRequestVersion}),ne=null,ie="";null==this.props.unsavedDataChange||null==this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS]&&null==this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS]||(null!=this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS]&&this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS].length>0&&(ie=" basic details"),null!=this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS]&&this.props.unsavedDataChange[M.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS].length>0&&(""!=ie&&(ie+=","),ie+=" key details"),""!=ie&&(ne=l.createElement("div",null,l.createElement("div",{className:"awsui-util-clearfix awsui-util-mt-m"}),l.createElement(L.Icon,{name:"status-info"}),l.createElement("span",{className:"awsui-util-pl-s"},l.createElement("i",null,"Your pending changes in",l.createElement("b",null,ie)," section",-1!=ie.indexOf(",")?"s":""," will be saved when you click Start Approval")))));var oe=k===N.UserRole.APPROVAL_ADMIN,se=!oe&&U,le=!oe&&a,ce=this.props.privateApprovalsFeatureEnabled&&V;return l.createElement("div",null,l.createElement(F.default,{links:te,completedItemBackground:"#F5CD69",unavailableItemBackground:"#B4B4B4",unavailableItemColor:"#C7C7C7",completedItemColor:"black",dividerColor:"#A2A2A2",attachedDiv:l.createElement(P.ApprovalDetails,n({},o,{onGeneratePdf:this.generatePDF,correspondenceCheckBoxVal:!1,requesterAlias:Y,requesterLink:G.getActorLink(w.actor),requesterDisplayName:q,userRole:k,isEscalationEnabled:this.state.isEscalationEnabled,escalationPeriodInDays:this.state.escalationPeriodInDays,privateApprovalsFeatureEnabled:J}))}),l.createElement("div",{className:"navigationBar1 navigationBar1-custom"},this.state.hasValidLinkback&&l.createElement("div",{style:{marginTop:"40px",width:"fit-content"}},l.createElement("div",{className:"awsui linkBackOuterContainer"},l.createElement("div",{className:"awsui-util-clearfix"}),l.createElement("div",{className:"awsui-util-p-m awsui-util-pb-n"},l.createElement("div",{className:"awsui-util-p-l"},l.createElement(v.Linkback,{href:this.state.linkbackUrl,text:"Back to "+this.state.sourceSystemName}))))),l.createElement("div",{className:"awsui-util-clearfix"}),l.createElement("a",{id:"endApprovalHeader",className:"hiddenText"},"D"),l.createElement("div",{className:"awsui-util-clearfix"})),l.createElement("div",{className:"awsui approvalsform"},l.createElement("div",{className:"awsui-util-p-m",style:{position:"relative"}},l.createElement("a",{id:"BasicDetails"}),l.createElement("div",{style:{marginTop:ee+"px"}},l.createElement(f.default,{approvalRequestVersion:this.state.approvalRequestVersion,approvalRequestId:this.state.approvalRequestId,basicDetails:o,hasPermissionedContent:this.state.hasPermissionedContent,validateBasicDetails:this.addExternalValidateBasicDetails,saveBasicDetails:this.saveBasicDetails,getFullApproval:this.getFullApproval,privateApprovalsFeatureEnabled:J})),l.createElement("div",null,l.createElement("a",{id:"KeyDetails"}),l.createElement(g.default,{isEditPage:!0,approvalId:this.state.approvalRequestId,attributes:A,privateApprovalsFeatureEnabled:J,approvalIsPrivate:o.privateApproval,saveUnsavedAttrubutes:this.saveKeyDetails}),l.createElement("a",{id:"Attachments"}),l.createElement(L.FormSection,{header:"Attachments",description:"Files associated with your approval, such as contracts, emails, or plans."},l.createElement("section",{className:"awsui-util-mb-m"},l.createElement(p.default,{approvalRequestId:this.state.approvalRequestId,documents:R,privateApprovalsFeatureEnabled:J,approvalIsPrivate:o.privateApproval}))),l.createElement("div",{className:"awsui-util-clearfix"}),l.createElement("a",{id:"Sequence"}),l.createElement(L.FormSection,{header:l.createElement("span",null," Approval Plan",l.createElement("span",{className:le?"detailsEditIcons":"displayNone"},l.createElement(D.Popover,{triggerType:"custom",content:x.POPOVER_MESSAGE.ROUTE_LOCKED_FOR_REQUESTER,size:"large"},l.createElement("i",{className:"fa fa-lock fa-lg"})))),description:"Build your approval route. Use your best judgement and consider the Amazon Spending and Transaction Policy and your departmental policies.",className:"approvalSequenceContainer"},l.createElement("section",{className:"awsui-util-m-l "},l.createElement("div",{style:{border:"solid 1px #e5e5e5"}},l.createElement("div",{className:"awsui-util-m-m"},le&&l.createElement(L.Alert,{header:"Approval plan is locked and cannot be modified"},"The approval plan was either locked by the template or by the system that created it on the requesters behalf.")),l.createElement(d.default,{routesByLevel:S,dispatch:function(){return 0},currentUser:w.actor.alias,requester:w.actor,readOnly:le,approvalRequestId:this.state.approvalRequestId,approvalPlanVersion:this.state.approvalPlanVersion,approvalStatus:o.status,updateIssueFolder:function(){},issueFolder:!o.issueCreated&&this.state.template&&this.state.template.issueFolder,groupMembers:K,getGroupMembers:z,threshold:150})))),l.createElement("a",{id:"Viewers"}),l.createElement(L.FormSection,{header:"Approval General Viewers",description:"General viewers cannot see private key details, attachments, correspondence, or audit log.","data-testid":"draft-page__general-viewers-container",className:"approvalSequenceContainer "},l.createElement("section",{className:"awsui-util-m-l"},l.createElement("div",{style:{border:"solid 1px #e5e5e5"}},l.createElement(m.default,{routesByLevel:S,approvalPlan:S,viewers:c,approvalRequestId:this.state.approvalRequestId,readonlyView:!1,groupMembers:K,getGroupMembers:z,threshold:150})))),ce&&l.createElement(l.Fragment,null,l.createElement("a",{id:"PrivateViewers"}),l.createElement(L.FormSection,{header:"Approval Private Viewers",description:"Private viewers can see all of an approval request, including private key details, attachments, correspondence, and audit log.","data-testid":"draft-page__private-viewers-container",className:"approvalSequenceContainer "},l.createElement("section",{className:"awsui-util-m-l"},l.createElement("div",{style:{border:"solid 1px #e5e5e5"}},l.createElement(P.ActorContainer,n({},$,{readonlyView:!1})))))),l.createElement("a",{id:"Admins"}),l.createElement(L.FormSection,{header:l.createElement(l.Fragment,null,"Approval Admins",se&&l.createElement("span",{className:"detailsEditIcons"},l.createElement(D.Popover,{triggerType:"custom",content:x.POPOVER_MESSAGE.APPROVAL_ADMINS,size:"large"},l.createElement("i",{className:"fa fa-lock fa-lg"})))),description:"Add people with access to make changes as a requester.","data-testid":"draft-page__approval-admins-container",className:"approvalSequenceContainer "},l.createElement("section",{className:"awsui-util-m-l"},l.createElement("div",{style:{border:"solid 1px #e5e5e5"}},l.createElement(P.ActorContainer,n({},X,{readonlyView:se}))))),null!=o.templateId&&"1"!=o.templateId&&l.createElement(L.FormSection,{id:"approvalRulesSection",header:l.createElement("div",null,"Rules"),description:"The rules to enable/disable appovers, groups and viewers",className:"approvalSequenceContainer"},l.createElement("section",{className:"awsui-util-m-l"},l.createElement("div",null,l.createElement(_.default,{update:function(){window.location.reload()},approvalPlan:S,attributes:A,viewers:Z,entityId:this.state.approvalRequestId,entityType:N.RuleEntityType.Request})))),l.createElement("a",{id:"Questionnaire"}),l.createElement(L.FormSection,{header:"Questionnaire",description:"Answers to the following questions are required.",className:"approvalInfo"},l.createElement("section",{className:"awsui-util-mtq-m"},l.createElement("div",null,l.createElement("div",{className:this.state.errorType==s.TRANSACTION_VALUE?"errorBox":""},l.createElement(L.FormField,{stretch:!0,label:"This is a request to approve a transaction with committed revenue or spend over $100 million in value. "},l.createElement(L.RadioGroup,{items:!0===this.state.savingApprovalInfo?M.RADIO_BUTTON_YES_NO_ITEMS_DISABLED:M.RADIO_BUTTON_YES_NO_ITEMS,value:null==o.transactionAboveUsd100M?"":!0===o.transactionAboveUsd100M?"YES":"NO",onChange:function(t){e.setState(function(a){return a.approvalRequest.approval.transactionAboveUsd100M="YES"===t.detail.value,e.saveApprovalAttribute("4","YES"===t.detail.value),a})}})))),l.createElement("div",{className:"awsui-util-pt-m"},l.createElement(L.FormField,{label:l.createElement("div",null," ",l.createElement("span",null,o.routeLockedForRequester?"The approval plan on this request should be locked for both requester and approvers.(This is set by the template the approval request created from, and you cannot change it)":"The approval plan on this request should be locked for approvers. "),l.createElement(L.Tooltip,{size:"medium",text:"Locking the approval plan will prevent anyone (including you) from making changes to the approval plan once it is pending. Approvers cannot be added or removed when the approval plan is locked.",position:"right"},l.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":"true"})))},l.createElement(L.RadioGroup,{items:!0===this.state.savingApprovalInfo||o.routeLockedForRequester?M.RADIO_BUTTON_YES_NO_ITEMS_DISABLED:M.RADIO_BUTTON_YES_NO_ITEMS,value:null==o.routeLockedForApprover?"":!0===o.routeLockedForApprover?"YES":"NO",onChange:function(t){e.setState(function(a){return a.approvalRequest.approval.routeLockedForApprover="YES"===t.detail.value,e.saveApprovalAttribute("5","YES"===t.detail.value),a})}}))),l.createElement("div",{className:"awsui-util-pt-m"},l.createElement(L.FormField,{label:l.createElement("div",null," ",l.createElement("span",null,"Approvers should be asked to â€œrecommendâ€ this approval.  "),l.createElement(L.Tooltip,{size:"medium",text:'In a normal approval process, all approvers approve or reject the approval. When you set this option, most approvers will be asked to "recommend" approval or rejection. When someone recommends an approval for rejection the approval process does not stop (but their recommendation is noted). Only the last approver or the last person in each lane will make an actual (standard) approval or rejection decision.',position:"right"},l.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":"true"}))," ")},l.createElement(L.RadioGroup,{items:!0===this.state.savingApprovalInfo||o.routeLockedForRequester?M.RADIO_BUTTON_YES_NO_ITEMS_DISABLED:M.RADIO_BUTTON_YES_NO_ITEMS,value:null==o.recommended?"":!0===o.recommended?"YES":"NO",onChange:function(t){e.setState(function(a){return a.approvalRequest.approval.recommended="YES"===t.detail.value,e.saveApprovalAttribute("2","YES"===t.detail.value),a})}}))),1==o.recommended?l.createElement("div",{className:this.state.errorType==s.FINAL_APPROVER?"errorBox":""},l.createElement(L.FormField,{label:"Who should make a non-recommending approval decision.  "},l.createElement(L.RadioGroup,{className:"approvalInfo_recommend",items:!0===this.state.savingApprovalInfo||o.routeLockedForRequester?M.RADIO_BUTTON_RECOMMEND_ITEMS_DISABLED:M.RADIO_BUTTON_RECOMMEND_ITEMS,value:null==o.recommendedForSwimlane?"2":!0===o.recommendedForSwimlane?"1":"2",onChange:function(t){e.setState(function(a){return a.approvalRequest.approval.recommendedForSwimlane="1"===t.detail.value,e.saveApprovalAttribute("3","1"===t.detail.value),a})}}),l.createElement("div",{className:"awsui-util-clearfix"}),l.createElement("div",{className:"legalCounselPanel awsui-util-mt-s",style:{display:0==o.recommendedForSwimlane?"block":"none"}},re))):null,l.createElement("div",{className:"awsui-util-pt-m"},l.createElement(L.FormField,{stretch:!0,label:o.blockRequesterFromMakingApproverDecisionFromTemplate?"Can a Requestor approve his/her own request as a member of a group?(This is set by the template which the approval request was created from and you cannot change it)":"Can a Requestor approve his/her own request as a member of a group?"},l.createElement(L.RadioGroup,{items:this.state.savingApprovalInfo||o.blockRequesterFromMakingApproverDecisionFromTemplate?M.RADIO_BUTTON_YES_NO_ITEMS_DISABLED:M.RADIO_BUTTON_YES_NO_ITEMS,value:null==o.blockRequesterFromMakingApproverDecision?"NO":o.blockRequesterFromMakingApproverDecision?"NO":"YES",onChange:function(t){e.setState(function(a){return a.approvalRequest.approval.blockRequesterFromMakingApproverDecision="NO"===t.detail.value,e.saveApprovalAttribute("9","NO"===t.detail.value),a})}}))),l.createElement(W.Questionnaire,{name:"escalations",changeSelection:this.saveEscalationEnabledDetails,label:"Should Escalations be enabled for this Request? (This is set by the Requestor, and cannot be changed once the Approval has Started)",disabled:this.state.savingApprovalInfo,value:this.state.approvalRequest.approval.escalationEnabled}),this.state.approvalRequest.approval.escalationEnabled&&l.createElement(W.NumberInput,{label:"Escalation Period in Days",value:this.state.approvalRequest.approval.escalationPeriodInDays.toString(),onInput:this.onInputEscalationPeriod,onBlur:this.onBlurEscalationPeriod,disabled:this.state.savingApprovalInfo}),l.createElement("div",{className:"awsui-util-pt-m"},l.createElement("div",{className:this.state.errorType==s.LEGAL_COUNSEL_SELECTION?"errorBox":""},l.createElement(L.FormField,null,l.createElement("div",{className:"awsui-util-clearfix"}),l.createElement("div",{className:"legalCounselPanel awsui-util-mt-s",style:{display:"block"}},ae)))))),l.createElement("a",{id:"RelatedApprovals"}),l.createElement(T.ApprovalRelationsComponent,{approvalId:this.state.approvalRequestId,readOnly:!1,showEditOption:!1}),l.createElement("a",{id:"Tags"}),l.createElement(y.TagsComponent,{approvalId:this.state.approvalRequestId,initialReadOnly:!1,showEditOption:!1}),l.createElement("section",{className:"awsui-util-ml-l",id:"btnSubmitApproval"},l.createElement(L.Button,{text:this.state.hasValidLinkback?"Submit and return to "+this.state.sourceSystemName:"Start Approval Process",key:"submitApproval",variant:"primary",icon:"status-positive",onClick:this.validateApprovalRequest,loading:this.state.isBeingSaved,"data-testid":"draft-page__submit-approval-button"}),!this.state.hasValidLinkback&&l.createElement(L.Button,{className:"awsui-util-ml-l",text:"Discard this request",key:"discardApproval",icon:"status-negative",onClick:this.discardApprovalRequest,loading:this.state.isBeingSaved}),ne,l.createElement(L.Modal,{id:"suggestionsModal",size:"large",content:this.state.shouldIncludeList.length>0?l.createElement("div",null,this.state.shouldIncludeList.map(function(e){return l.createElement("div",{class:"suggestionBox",dangerouslySetInnerHTML:{__html:e.reason}})})):"",visible:this.state.showSuggestionModal,header:"Start Approval Process",footer:l.createElement("span",{className:"awsui-util-f-r"},l.createElement("button",{onClick:function(t){e.setState({showSuggestionModal:!1})},className:"btn btn-alert"},"Let me make changes"),l.createElement("button",{onClick:this.discardSuggestions,className:"btn btn-primary"},"Create approval"))}),l.createElement(L.Modal,{id:"discardApprovalModal",size:"large",content:l.createElement("span",null,"Are you sure you want to discard this draft request? "),visible:this.state.showDiscardConfirmation,header:"Discard this request",footer:l.createElement("span",{className:"awsui-util-f-r"},l.createElement("button",{onClick:function(t){e.setState({showDiscardConfirmation:!1})},className:"btn btn-alert"},"No"),l.createElement("button",{onClick:this.performDiscardApproval,className:"btn btn-primary"},"Yes, Discard this request")),onDismiss:function(t){e.setState({showDiscardConfirmation:!1})}})))),l.createElement("div",{className:"awsui-util-clearfix"}),l.createElement("div",{className:"pageBottomSpacer"})))},EditApprovalComponent}(l.Component),K=function(e){return{clearApprovalAdmins:function(){return e(P.Actions.clearApprovalAdmins())},getApprovalAdmins:function(t){return e(P.Actions.getApprovalAdmins(t))},addApprovalAdmin:function(t){return e(P.Actions.addApprovalAdmin(t))},deleteApprovalAdmin:function(t){return e(P.Actions.deleteApprovalAdmin(t))},updateNotification:function(t){return e(B.updateNotification({value:t}))},deleteNotification:function(t){return e(B.deleteNotification({value:t}))},getGroupMembers:function(t){return e(P.Actions.getGroupMembers(t))},dispatch:e}};t.default=U.connect(mapStateToProps,K)(z)},1506:function(e,t,a){"use strict";function mapStateToProps(e){if(null!=e.approvalRequest)return{routesByLevel:e.approvalRequest.routesByLevel,approvalPlanVersion:e.approvalRequest.approvalPlanVersion,approvalRequestVersion:e.approvalRequest.approvalRequestVersion}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(8),o=a(99),s=a(300),l=a(7),c=a(5),p=a(6),u=a(61),d=function(e){function ApprovalFinalApprover(t){var a=e.call(this,t)||this;return a.state={approvalRequestId:t.approvalRequestId,routesByLevel:[],eligibleFinalApprovers:[],selectedFinalApprover:null,approvalPlanVersion:t.approvalPlanVersion,disabled:1==t.disabled},a.selectFinalApprover=a.selectFinalApprover.bind(a),a.saveFinalApprover=a.saveFinalApprover.bind(a),a.setEligibleFinalApprovers=a.setEligibleFinalApprovers.bind(a),a}return r(ApprovalFinalApprover,e),ApprovalFinalApprover.prototype.componentWillReceiveProps=function(e){null!=e.routesByLevel&&this.setEligibleFinalApprovers(e.routesByLevel),e.approvalPlanVersion!=this.props.approvalPlanVersion&&this.setState({approvalPlanVersion:e.approvalPlanVersion})},ApprovalFinalApprover.prototype.componentDidMount=function(){this.setEligibleFinalApprovers(this.props.routesByLevel)},ApprovalFinalApprover.prototype.setEligibleFinalApprovers=function(e){var t=this;if(null!=e&&e.length>0){for(var a=e[e.length-1],r=[],n=0;n<a.length;n++)if(a[n].approvers.length>0){var i=a[n].approvers[a[n].approvers.length-1][0];r.push(i)}for(var o=null,n=0;n<r.length;n++)if(1==r[n].finalApprover){o=r[n];break}this.setState(function(e,t){return{eligibleFinalApprovers:r,selectedFinalApprover:o}},function(){t.finalApproverChanged()})}},ApprovalFinalApprover.prototype.selectFinalApprover=function(e,t){var a=this.state.eligibleFinalApprovers,r=null;a.map(function(e){1==e.finalApprover&&(r=e),e.actor.selected=!1,e.finalApprover=!1}),e.actor.selected=!0,e.actor.isBeingSaved=!0,e.finalApprover=!0;var n=this;this.saveFinalApprover(e,function(){e.actor.isBeingSaved=!1,n.setState({eligibleFinalApprovers:a,selectedFinalApprover:e}),n.approvalPlanChanged(),n.finalApproverChanged()})},ApprovalFinalApprover.prototype.saveFinalApprover=function(e,t){var a=this;this.setState({isBeingSaved:!0});for(var r=this.props.routesByLevel,n=0;n<r.length;n++)for(var o=0;o<r[n].length;o++)for(var s=r[n][o].approvers,l=0;l<s.length;l++)s[l][0].finalApprover=e.id==s[l][0].id;this.setState({isBeingSaved:!0});var c=new URLSearchParams;c.append("approvalId",this.state.approvalRequestId),c.append("version",this.state.approvalPlanVersion),c.append("approvalPlan",JSON.stringify(r)),i.default.post(p.SERVICE_ENDPOINTS+p.API_ROUTES.SAVE_APPROVAL_PLAN,c).then(function(e){var r=e.data;a.setState({isBeingSaved:!1,routesByLevel:r.data,approvalPlanVersion:r.version}),t()}).catch(function(e){a.setState({isBeingSaved:!1,showAlertMessage:!0,AlertMessageContent:e.message,AlertMessageType:"error"})})},ApprovalFinalApprover.prototype.finalApproverChanged=function(){this.props.dispatch(u.finalApproverChange({changedAt:new Date,finalApprover:this.state.selectedFinalApprover}))},ApprovalFinalApprover.prototype.approvalPlanChanged=function(){this.props.dispatch(u.approvalPlanChange({changedAt:new Date,routesByLevel:this.state.routesByLevel,approvalPlanVersion:this.state.approvalPlanVersion}))},ApprovalFinalApprover.prototype.render=function(){var e=this;return null!=this.state.selectedFinalApprover&&n.createElement("div",{className:"selectedFinalApprover awsui-util-mr-l"},n.createElement(s.default,{employee:this.state.selectedFinalApprover.actor,showDelete:!1})),n.createElement("div",{className:"finalApproverPanel awsui-util-mt-s"},0==this.state.disabled&&n.createElement("div",null,n.createElement("b",null,"Please specify the assignee who will take the final approval action on this request. "),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mt-s"})),this.state.eligibleFinalApprovers.map(function(t,a){return n.createElement("div",{key:"ApprovalFinalApprover_"+a,onClick:function(r){r.preventDefault(),0==e.state.disabled&&e.selectFinalApprover(t,a)},className:"awsui-util-pr-m finalApproverItem "+(!0===t.finalApprover?"selectedItem":"")},n.createElement("div",null,n.createElement(o.default,{actor:t.actor,internalProps:{showDelete:!1}}),0==e.state.disabled&&n.createElement(c.Checkbox,{className:"selectFinalApprover",checked:!0===t.finalApprover})))}),n.createElement("div",{className:"awsui-util-clearfix"}))},ApprovalFinalApprover}(n.Component);t.default=l.connect(mapStateToProps)(d)},1507:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(26),o=a(5),s=function(e){function Wizard(t){var a=e.call(this,t)||this;return a.activeStepComponent=null,a.nextAction="",a.enableNextButtonHandler=function(e){a.state.nextButtonActive!==e&&a.setState({nextButtonActive:e})},a.state={activeStep:0,farthestStep:0,sendInfo:null,info:Object.assign({},t.info),nextButtonActive:!1},a.activeStepComponent=null,a.nextAction="",a}return r(Wizard,e),Wizard.prototype.componentDidUpdate=function(e,t){if(this.state.activeStep!==t.activeStep){var a=i.findDOMNode(this);this.getOverflowParent(a).scrollTop=0}},Wizard.prototype.getOverflowParent=function(e){for(var t=e.parentElement;t&&"visible"===getComputedStyle(t).overflow;)t=t.parentElement;return t},Wizard.prototype.nextStep=function(){this.setState({activeStep:this.state.activeStep+1})},Wizard.prototype.previousStep=function(){this.setState({activeStep:this.state.activeStep-1})},Wizard.prototype.chooseStep=function(e){this.sendInfo(""),this.setState({activeStep:e})},Wizard.prototype.sendInfo=function(e){var t=this;this.nextAction=e,this.activeStepComponent.getInfo(function(e,a){return t.processInfo(e,a)}),"Previous"===e&&this.previousStep()},Wizard.prototype.processInfo=function(e,t){e.action=this.nextAction,this.setState({info:e,farthestStep:Math.max(this.state.farthestStep,this.state.activeStep)}),t&&("Next"===this.nextAction?(this.setState({nextButtonActive:!1}),this.nextStep(),this.props.onPublish(this.state.info)):"Publish"===this.nextAction&&this.props.onPublish(this.state.info,this.nextAction))},Wizard.prototype.render=function(){var e=this,t=this.props.stepInfo[this.state.activeStep],a=t.content,r=t.title;return n.createElement("div",{className:"custom-layout awsui-util-pt-s"},n.createElement("div",{className:"custom-col-nav"},n.createElement(l,{steps:this.props.stepInfo.map(function(e){return e.title}),active:this.state.activeStep,farthest:this.state.farthestStep,chooseStep:function(t){return e.chooseStep(t)}})),n.createElement("div",{className:"custom-col-content"},n.createElement("form",null,n.createElement(o.Form,{header:n.createElement("span",null,n.createElement("h3",{"data-testid":"template-rule__add-new-rule-"+r.toLocaleLowerCase().split(" ").join("-")+"-title"},r),n.createElement("div",{className:"custom-mobile-nav"},n.createElement("p",{className:"awsui-text-secondary"},"Step ",this.state.activeStep+1," of ",this.props.stepInfo.length))),actions:n.createElement("div",{className:"awsui-util-action-stripe"},n.createElement("div",{className:"awsui-util-action-stripe-group"},n.createElement(o.Button,{text:"Cancel",variant:"link",loading:this.props.info.isSaving,onClick:this.props.onCancel}),0!==this.state.activeStep?n.createElement(o.Button,{className:"prev-step-btn",text:"Previous",loading:this.props.info.isSaving,onClick:function(t){t.preventDefault(),e.sendInfo("Previous")}}):null,this.state.activeStep!=this.props.stepInfo.length-1?n.createElement(o.Button,{className:"next-step-btn",text:"Next",variant:"primary",disabled:!this.state.nextButtonActive,loading:this.props.info.isSaving,onClick:function(t){t.preventDefault(),e.sendInfo("Next")},"data-testid":"template-rule__add-new-rule-next-button"}):n.createElement(o.Button,{text:t.buttonSubmitText?t.buttonSubmitText:"Create",variant:"primary",loading:this.props.info.isSaving,onClick:function(t){t.preventDefault(),e.sendInfo("Publish")}}))),content:n.createElement(a,{ref:function(t){e.activeStepComponent=t},chooseStep:function(t){return e.chooseStep(t)},info:this.state.info,enableNextButton:this.enableNextButtonHandler})}))))},Wizard}(n.Component);t.default=s;var l=function(e){function WizardNavigation(t){return e.call(this,t)||this}return r(WizardNavigation,e),WizardNavigation.prototype.hasVisited=function(e){return this.props.farthest>=e},WizardNavigation.prototype.render=function(){var e=this,t=this.props.steps.map(function(t,a){return n.createElement("li",{key:a,className:"step-"+(a+1)},n.createElement("small",{className:"custom-step-number"},"Step "+(a+1)),n.createElement("div",{className:e.props.active===a?"active":e.hasVisited(a)?"visited":"disabled",onClick:e.hasVisited(a)?function(){return e.props.chooseStep(a)}:""},n.createElement("span",null,e.props.steps[a])))});return n.createElement("ul",{className:"awsui-list-unstyled custom-wizard-navigation","data-testid":"template-rule__add-new-rule-steps-container"},t)},WizardNavigation}(n.Component)},1508:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(4),s=a(162),l=function(e){function BasicDetailsStepComponent(t){var a=e.call(this,t)||this;return a.ruleNameInput=null,a.state=Object.assign({},t.info),a.props.enableNextButton(!1),a.isChecked=a.isChecked.bind(a),a.ruleNameInput=n.createRef(),a}return r(BasicDetailsStepComponent,e),BasicDetailsStepComponent.prototype.getInfo=function(e){e(this.state,!0)},BasicDetailsStepComponent.prototype.fieldsAreValid=function(){var e=!0;if(null!=this.state.rule.order&&""!=this.state.rule.order){var t=parseInt(this.state.rule.order);(isNaN(t)||t<1||t>99999)&&(e=!1)}return null!=this.state.rule.name&&""!=this.state.rule.name.trim()&&this.state.rule.actions.length>0&&1==e},BasicDetailsStepComponent.prototype.isChecked=function(e){var t=this.state.rule;if(null==t)return!0;for(var a=0;a<t.actions.length;a++)if(e==t.actions[a].type)return!0;return!1},BasicDetailsStepComponent.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){e.ruleNameInput.current&&e.ruleNameInput.current.focus()},150)},BasicDetailsStepComponent.prototype.render=function(){var e=this,t=[{value:"true",label:"Yes"},{value:"false",label:"No"}];return this.fieldsAreValid()?this.props.enableNextButton(!0,this.state):this.props.enableNextButton(!1,this.state),n.createElement("div",{className:"awsui-util-mb-l"},n.createElement(i.FormField,{label:n.createElement("span",{"data-testid":"template-rule__add-new-rule-rule-detials-name"},"Name"),description:"Friendly name to this rule"},n.createElement(i.Input,{ref:this.ruleNameInput,controlId:"ruleName",value:this.state.rule.name,onInput:function(t){var a=e.state.rule;a.name=t.detail.value,e.setState(a)}})),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),n.createElement(i.FormField,{label:"Actions",description:"Select one or more actions to be performed when this rule is evaluated successfully."},n.createElement(i.Checkbox,{controlId:"ruleDynamicApprover",disabled:!0,label:"Dynamic approval plan",description:"Dynamically add/remove approval routes or approvers",onChange:function(t){var a=e.state.rule;if(!0===t.detail.checked){var r=new s.Action;r.type=o.RuleActionType.DYNAMIC_APPROVAL_PLAN,r.parameters=[],a.actions.push(r)}else for(var n=0;n<a.actions.length;n++)if(a.actions[n].type===o.RuleActionType.DYNAMIC_APPROVAL_PLAN){a.actions.splice(n,1);break}e.setState(a)},checked:this.isChecked(o.RuleActionType.DYNAMIC_APPROVAL_PLAN)}),n.createElement(i.Checkbox,{controlId:"ruleDynamicViewer",disabled:!0,label:"Dynamic viewers",description:"Dynamically add/remove approval viewers",onChange:function(t){var a=e.state.rule;if(!0===t.detail.checked){var r=new s.Action;r.type=o.RuleActionType.DYNAMIC_APPROVAL_VIEWERS,r.parameters=[],a.actions.push(r)}else for(var n=0;n<a.actions.length;n++)if(a.actions[n].type===o.RuleActionType.DYNAMIC_APPROVAL_VIEWERS){a.actions.splice(n,1);break}e.setState(a)},checked:this.isChecked(o.RuleActionType.DYNAMIC_APPROVAL_VIEWERS)})),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),n.createElement(i.FormField,{label:n.createElement("span",{"data-testid":"template-rule__add-new-rule-rule-detials-disable-selection"},"Can this rule be disabled by requestor?"),description:"Can requestor of approval request created from this template disable/enable this rule result?"},n.createElement(i.RadioGroup,{controlId:"ruleOverridable",value:this.state.rule.overridable?"true":"false",items:t,onChange:function(t){var a=e.state.rule;a.overridable="true"==t.detail.value,e.setState(a)}})),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),n.createElement(i.FormField,{label:n.createElement("span",{"data-testid":"template-rule__add-new-rule-rule-detials-execution-order"},"Execution order"),description:"Execution order of this rule. Highest number is evaluated last, hence it can be used to override previous rule evaluation results. Positive number upto 99999 is valid."},n.createElement(i.Input,{controlId:"ruleOrder",type:"number",value:this.state.rule.order+"",onInput:function(t){var a=e.state.rule;a.order=t.detail.value,e.setState(a)}})),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}))},BasicDetailsStepComponent}(n.Component);t.default=l},1509:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(1510),o=a(162),s=function(e){function RuleBuilderStepComponent(t){var a=e.call(this,t)||this;return a.state=Object.assign({ruleFilterObj:JSON.parse(t.info.rule.filter)},t.info),a.props.enableNextButton(a.fieldsAreValid()),a}return r(RuleBuilderStepComponent,e),RuleBuilderStepComponent.prototype.getInfo=function(e){e(this.state,!0)},RuleBuilderStepComponent.prototype.fieldsAreValid=function(){if(null==this.state.ruleFilterObj||null==this.state.ruleFilterObj.condition||0==this.state.ruleFilterObj.children.length)return!1;for(var e=0;e<this.state.ruleFilterObj.children.length;e++){var t=this.state.ruleFilterObj.children[e];if(0==t.children.length&&(null==t.left||""==t.left||null==t.operator||""==t.operator))return!1;if(2==t.children.length&&(null==t.children[0].left||""==t.children[0].left||null==t.children[1].left||""==t.children[1].left||null==t.children[0].operator||""==t.children[0].operator||null==t.children[1].operator||""==t.children[1].operator))return!1}return!0},RuleBuilderStepComponent.prototype.getEmptyRuleFilter=function(){var e=new o.RuleFilter;return e.children=[],e},RuleBuilderStepComponent.prototype.render=function(){var e=this,t=this.state.ruleFilterObj;return n.createElement("div",null,n.createElement(i.default,{attributeList:this.state.attributeList,ruleFilter:t,onChange:function(t){var a=e.state.rule;a.filter=JSON.stringify(t),e.setState({rule:a,ruleFilterObj:t}),e.fieldsAreValid()?e.props.enableNextButton(!0,e.state):e.props.enableNextButton(!1,e.state)}}))},RuleBuilderStepComponent}(n.Component);t.default=s},151:function(e,t,a){"use strict";function getDisplayAssignmentStatusText(e,t){var a="";switch(e){case r.ActorAssignmentStatus.APPROVER_PENDING:a="Pending",t===r.ApprovalStatus.REJECTED&&(a="");break;case r.ActorAssignmentStatus.APPROVER_APPROVED:a="Approved";break;case r.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION:a="Approved With Conditions";break;case r.ActorAssignmentStatus.APPROVER_REJECTED:a="Rejected";break;case r.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_REJECTION:a="Recommended Rejection";break;case r.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_APPROVAL:a="Recommended Approved"}return a}function getStatusWithColor(e){switch(e){case r.ApprovalStatus.APPROVED_WITH_CONDITION:return n.createElement("span",{className:"home-status-approved-conditions"},"Approved with conditions");case r.ApprovalStatus.APPROVED:return n.createElement("span",{className:"home-status-approved"},"Approved");case r.ApprovalStatus.REJECTED:return n.createElement("span",{className:"home-status-rejected"},"Rejected");case r.ApprovalStatus.CANCELLED:return n.createElement("span",{className:"home-status-cancelled"},"Cancelled");case r.ApprovalStatus.INVALIDATED:return n.createElement("span",{className:"home-status-invalidated"},"Invalidated");default:return n.createElement("span",null,"Completed")}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(13),n=a(0);t.getDisplayAssignmentStatusText=getDisplayAssignmentStatusText,t.getStatusWithColor=getStatusWithColor},1510:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(1511),s=a(162),l=a(4),c=function(e){function RuleBuiler(t){var a=e.call(this,t)||this;return a.state={ruleFilter:t.ruleFilter?t.ruleFilter:RuleBuiler.getEmptyRuleFilter(),attributeList:t.attributeList},a.handleChange=a.handleChange.bind(a),a.addNewCondition=a.addNewCondition.bind(a),a.deleteCondition=a.deleteCondition.bind(a),a.onChange=a.onChange.bind(a),a}return r(RuleBuiler,e),RuleBuiler.prototype.getInfo=function(e){e(this.state,!0)},RuleBuiler.prototype.handleChange=function(e){this.setState({query:e.query})},RuleBuiler.getEmptyRuleFilter=function(){var e=new s.RuleFilter;return e.children=[],e},RuleBuiler.prototype.addNewCondition=function(e){e.preventDefault();var t=this.state.ruleFilter;t.children.push(RuleBuiler.getEmptyRuleFilter()),this.setState(t),this.props.onChange(t)},RuleBuiler.prototype.deleteCondition=function(e){this.state.ruleFilter.children.splice(e,1),this.setState(this.state.ruleFilter),this.props.onChange(this.state.ruleFilter)},RuleBuiler.prototype.onChange=function(e,t){this.state.ruleFilter.children[e]=t,this.setState(this.state.ruleFilter),this.props.onChange(this.state.ruleFilter)},RuleBuiler.prototype.render=function(){var e=this,t=this.state.ruleFilter;return n.createElement("div",null,n.createElement("span",{className:"awsui-util-f-l awsui-util-mr-s"},n.createElement(i.RadioButton,{value:"AND",label:"All",checked:t.condition===l.LogicalOperator.AND,onChange:function(){t.condition=l.LogicalOperator.AND,e.setState({ruleFilter:t}),e.props.onChange(t)}})),n.createElement("span",{className:"awsui-util-f-l awsui-util-mr-s","data-testid":"template-rule__add-new-rule-add-conditions-radio-button"},n.createElement(i.RadioButton,{value:"OR",label:"Any",checked:t.condition===l.LogicalOperator.OR,onChange:function(){t.condition=l.LogicalOperator.OR,e.setState({ruleFilter:t}),e.props.onChange(t)}})),n.createElement("div",{className:"awsui-util-mt-xs"},"of the below conditions are true"),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}),t.children.map(function(t,a){return n.createElement("div",{key:"Condition-"+a},n.createElement(o.default,{attributeList:e.props.attributeList,ruleFilter:t,onDelete:function(t){e.deleteCondition(t)},onConditionChange:function(t,a){e.onChange(t,a)},index:a}))}),n.createElement(i.Button,{id:"btnAddRuleCondition",text:"Add Condition",variant:"primary",icon:"add-plus","data-testid":"template-rule__add-new-rule-add-conditions-add-condition-button",onClick:this.addNewCondition}),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}))},RuleBuiler}(n.Component);t.default=c},1511:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(6),l=a(162),c=a(273),p=a(274),u=a(4),d=a(101),m=function(e){function RuleCondition(t){var a=e.call(this,t)||this;return a.value=null,a.parameter=null,a.state={ruleFilter:t.ruleFilter,attributeList:t.attributeList},a.handleChange=a.handleChange.bind(a),a.handleAttributeChange=a.handleAttributeChange.bind(a),a.handleOperatorChange=a.handleOperatorChange.bind(a),a}return r(RuleCondition,e),RuleCondition.prototype.componentDidUpdate=function(e){e.ruleFilter!=this.props.ruleFilter&&this.setState({ruleFilter:this.props.ruleFilter})},RuleCondition.prototype.getInfo=function(e){e(this.state,!0)},RuleCondition.prototype.handleChange=function(e){this.setState({query:e.query})},RuleCondition.getNewKeyTerm=function(){return{templateId:"1",id:"new",sortOrder:1,type:s.ATTRIBUTE_TYPE.SIMPLE_TEXT,name:"",parameter:"",value:"",locked:!1,required:!1,version:0,ruleIds:[],_isValid:!0,_saving:!1,_editing:!0,_type:"template",_unsave:!0,_canEdit:!0,_canDelete:!1,_canUnlock:!0}},RuleCondition.prototype.update=function(e,t){this.upsertAttributeLocal(this.generateNewAttribute(e,t))},RuleCondition.prototype.generateNewAttribute=function(e,t){var a,r=d.getSelectedAttributeId(this.state.ruleFilter);if(null!=r)for(var i=0;i<this.state.attributeList.length;i++)if(this.state.attributeList[i].id==r){a=this.state.attributeList[i];break}var o=n({},a);switch(e){case"value":this.value=t;break;case"parameter":this.parameter=t}return o.value=this.value,o.parameter=this.parameter,o},RuleCondition.prototype.upsertAttributeLocal=function(e){if(e.type===s.ATTRIBUTE_TYPE.SINGLE_DROPDOWN||e.type===s.ATTRIBUTE_TYPE.MULTI_DROPDOWN){try{JSON.parse(e.value).forEach(function(e){if(1!=e.selected&&0!=e.selected)throw"invalid selected";if(!e.value)throw"invalid value"})}catch(t){e.value="[]"}if(e.type===s.ATTRIBUTE_TYPE.SINGLE_DROPDOWN){var t=!1;e.value=JSON.stringify(JSON.parse(e.value).map(function(e){return!t&&e.selected?(t=!0,{selected:!0,value:e.value}):{selected:!1,value:e.value}}))}}else e.type===s.ATTRIBUTE_TYPE.CURRENCY||e.type===s.ATTRIBUTE_TYPE.NUMERIC?(e.type==s.ATTRIBUTE_TYPE.CURRENCY&&e.parameter&&!e.parameter.startsWith("CURRENCY")&&(e.parameter=null),e.value=isNaN(parseFloat((e.value||"").replace(/,/g,"")))?null:e.value):e.type===s.ATTRIBUTE_TYPE.CALENDAR?e.value?e.value=isNaN(Date.parse(e.value))?(new Date).toISOString():e.value:e.value="":e.type===s.ATTRIBUTE_TYPE.PHONE_NUMBER?(e.parameter&&!e.parameter.startsWith("PHONE")&&(e.parameter=null),e.value&&e.value.length>15&&(e.value=e.value.substr(0,15))):e.type===s.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER&&(e.name="Unique Identifier");e.type!=s.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER&&"Unique Identifier"==e.name&&(e.name=""),e._isValid=!!e.name;var a=this.state.ruleFilter;if(e.type===s.ATTRIBUTE_TYPE.CURRENCY||e.type===s.ATTRIBUTE_TYPE.PHONE_NUMBER)for(var r=0;r<a.children.length;r++)a.children[r].left.endsWith("-VALUE")?a.children[r].right=e.value:a.children[r].left.endsWith("-PARAMETER")&&(a.children[r].right=e.parameter);else a.right=e.value;this.setState(a),this.props.onConditionChange(this.state.index,this.state.ruleFilter)},RuleCondition.getOperators=function(e){var t=[{id:"EQUAL",label:"is equal to"},{id:"NOT_EQUAL",label:"is not equal to"},{id:"CONTAINS",label:"contains"},{id:"STARTS_WITH",label:"starts with"},{id:"ENDS_WITH",label:"ends with"}],a=[{id:"EQUAL",label:"is equal to"},{id:"NOT_EQUAL",label:"is not equal to"},{id:"LESS_THAN",label:"is less than"},{id:"GREATER_THAN",label:"is greater than"},{id:"LESS_THAN_EQUAL",label:"is less than or equals to"},{id:"GREATER_THAN_EQUAL",label:"is greater than or equals to"}],r=[{id:"CONTAINS_ALL",label:"contains all"},{id:"CONTAINS_ANY",label:"contains any"}],n=[{id:"EQUAL",label:"is equal to"},{id:"NOT_EQUAL",label:"is not equal to"}];return e===s.ATTRIBUTE_TYPE.CURRENCY||e===s.ATTRIBUTE_TYPE.NUMERIC?a:e===s.ATTRIBUTE_TYPE.MULTI_DROPDOWN?r:e===s.ATTRIBUTE_TYPE.PHONE_NUMBER?n:t},RuleCondition.prototype.handleOperatorChange=function(e,t){var a=this.state.ruleFilter;if(t.type===s.ATTRIBUTE_TYPE.CURRENCY||t.type===s.ATTRIBUTE_TYPE.PHONE_NUMBER){for(var r=0;r<a.children.length;r++)if(a.children[r].left.endsWith("-VALUE")){a.children[r].operator=e.detail.selectedId;break}}else a.operator=e.detail.selectedId;this.setState(a),this.props.onConditionChange(this.state.index,this.state.ruleFilter)},RuleCondition.prototype.handleAttributeChange=function(e){var t=this.state.ruleFilter;t.left=e.detail.selectedId,t.condition=null,t.right=null,t.type=null;var a;if(null!=this.state.ruleFilter.left)for(var r=0;r<this.state.attributeList.length;r++)if(this.state.attributeList[r].id==e.detail.selectedId){a=this.state.attributeList[r];break}if(t.type=u.AttributeTypeFactType[a.type],a.type===s.ATTRIBUTE_TYPE.CURRENCY||a.type===s.ATTRIBUTE_TYPE.PHONE_NUMBER){t.condition=u.LogicalOperator.AND;var n=new l.RuleFilter;n.left=e.detail.selectedId+"-PARAMETER",n.operator=u.RelationalOperator.EQUAL,n.right=a.parameter,n.type=u.FactType.STRING,n.condition=null;var i=new l.RuleFilter;i.left=e.detail.selectedId+"-VALUE",i.operator=t.operator,i.right=a.value,i.type=a.type===s.ATTRIBUTE_TYPE.CURRENCY?u.FactType.NUMBER:u.FactType.STRING,i.condition=null,t.right=null,t.operator=null,t.children=[n,i]}else t.right=a.value,t.children=[];this.setState({ruleFilter:t}),this.props.onConditionChange(this.state.index,this.state.ruleFilter)},RuleCondition.prototype.render=function(){for(var e,t=this,a=[],r=d.getSelectedAttributeId(this.state.ruleFilter),n=0;n<this.state.attributeList.length;n++){var l={label:this.state.attributeList[n].name,id:this.state.attributeList[n].id};a.push(l)}if(null!=r)for(var n=0;n<this.state.attributeList.length;n++)if(this.state.attributeList[n].id==r){e=this.state.attributeList[n];break}if(null==e&&(e=RuleCondition.getNewKeyTerm()),e._editing=!0,2==this.state.ruleFilter.children.length&&e.id==r){this.value=this.parameter=e.parameter=e.value=null;for(var n=0;n<this.state.ruleFilter.children.length;n++)this.state.ruleFilter.children[n].left.endsWith("-VALUE")?this.value=e.value=this.state.ruleFilter.children[n].right:this.state.ruleFilter.children[n].left.endsWith("-PARAMETER")&&(this.parameter=e.parameter=this.state.ruleFilter.children[n].right)}else this.value=e.value=null==this.state.ruleFilter.right?"":this.state.ruleFilter.right;return i.createElement("div",null,i.createElement("div",{className:"awsui-grid"},i.createElement("div",{className:"awsui-row "},i.createElement("div",{className:"col-3"},i.createElement(o.Select,{options:a,placeholder:"Key detail",selectedId:d.getSelectedAttributeId(this.state.ruleFilter),onChange:this.handleAttributeChange})),i.createElement("div",{className:"col-3"},i.createElement(o.Select,{options:RuleCondition.getOperators(e.type),placeholder:"Operator",selectedId:d.getSelectedOperator(this.state.ruleFilter,"-VALUE"),onChange:function(a){t.handleOperatorChange(a,e)}})),i.createElement("div",{className:"col-5"},this.state.ruleFilter&&r&&i.createElement("div",null,i.createElement("div",{className:"awsui-util-f-l"},i.createElement(p.default,{attribute:e,update:function(e){t.update("parameter",e)}})),i.createElement(c.default,{className:e.type===s.ATTRIBUTE_TYPE.CURRENCY||e.type===s.ATTRIBUTE_TYPE.PHONE_NUMBER?"complexRuleValueInput":"simpleRuleValueInput",attribute:e,save:function(){},updateAndSave:function(){},update:function(e){t.update("value",e)}}))),i.createElement("div",{className:"col-1"},i.createElement("div",{className:"awsui-util-f-l awsui-util-mt-xs"},i.createElement("a",{href:"javascript:",onClick:function(){t.props.onDelete(t.props.index)}},i.createElement(o.Icon,{name:"status-negative"})))))),i.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}))},RuleCondition}(i.Component);t.default=m},1512:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(4),s=a(51),l=a(6),c=function(e){function DynamicApproverStepComponent(t){var a=e.call(this,t)||this;return a.planLookupDictionary={},a.state=Object.assign({routesByLevel:t.routesByLevel,nodes:null!=t.nodes?t.nodes:a.createNavigation(t.info.routesByLevel),checkedApprovers:a.getCheckedApprovers(t.info.rule)},t.info),null==a.state.rule._checkedApprovers&&(a.state.rule._checkedApprovers=a.getCheckedApprovers(t.info.rule)),a.createNavigation=a.createNavigation.bind(a),a.props.enableNextButton(!0),a}return r(DynamicApproverStepComponent,e),DynamicApproverStepComponent.prototype.getCheckedApprovers=function(e){for(var t={},a=0;a<e.actions.length;a++)if(e.actions[a].type===o.RuleActionType.DYNAMIC_APPROVAL_PLAN){for(var r=0;r<e.actions[a].parameters.length;r++){var n=e.actions[a].parameters[r];null!=this.planLookupDictionary[n.entityId]&&(t[n.entityId]=this.planLookupDictionary[n.entityId],t[n.entityId].state=n.targetState)}break}return t},DynamicApproverStepComponent.prototype.getInfo=function(e){e(this.state,!0)},DynamicApproverStepComponent.prototype.createNavigation=function(e){var t=[];this.planLookupDictionary={};for(var a=0;a<e.length;a++){var r={icon:n.createElement("i",null),className:"levelName",disabled:!0,id:a,value:"LEVEL::Level "+(a+1)+"::"+a,label:n.createElement("b",null,"Level ",a+1),children:[],data:{level:{id:a,name:a+1,value:"LEVEL::Level "+(a+1)+"::"+a}},isLevel:!0};t.push(r),this.planLookupDictionary[r.data.level.id]=r;for(var i=0;i<e[a].length;i++){var o={disabled:!1,value:"ROUTE::"+e[a][i].route.name+"::"+e[a][i].route.id+"::LEVEL::Level "+(a+1)+"::"+a,label:n.createElement("b",null,e[a][i].route.name),id:e[a][i].route.id,children:[],className:"selectableNode routeName",style:{marginLeft:15,float:"left"},data:{level:{id:a,name:a+1,value:"LEVEL::Level "+(a+1)+"::"+a},route:{id:e[a][i].route.id,name:e[a][i].route.name,value:"ROUTE::"+e[a][i].route.name+"::"+e[a][i].route.id+"::LEVEL::Level "+(a+1)+"::"+a}}};t.push(o),this.planLookupDictionary[o.data.route.id]=o;for(var c=e[a][i].approvers,p=0;p<c.length;p++){var u={disabled:!1,value:"APPROVER::"+c[p][0].actor.displayName+"::"+c[p][0].id+"::ROUTE::"+e[a][i].route.name+"::"+e[a][i].route.id+"::LEVEL::Level "+(a+1)+"::"+a,label:c[p][0].actor.displayName+(null!=c[p][0].actor.type&&c[p][0].actor.type!=l.ActorType.PRINCIPAL?" ("+s.getGroupDisplayName(c[p][0].actor.type)+")":""),id:c[p][0].id,selectable:!0,className:"selectableNode approverName",style:{marginLeft:45,float:"left"},data:{level:{id:a,name:a+1,value:"LEVEL::Level "+(a+1)+"::"+a},route:{id:e[a][i].route.id,name:e[a][i].route.name,value:"ROUTE::"+e[a][i].route.name+"::"+e[a][i].route.id+"::LEVEL::Level "+(a+1)+"::"+a},approver:{id:c[p][0].id,name:c[p][0].actor.displayName,value:"APPROVER::"+c[p][0].actor.displayName+"::"+c[p][0].id+"::ROUTE::"+e[a][i].route.name+"::"+e[a][i].route.id+"::LEVEL::Level "+(a+1)+"::"+a}}};t.push(u),this.planLookupDictionary[u.data.approver.id]=u}}}return t},DynamicApproverStepComponent.prototype.render=function(){var e=this,t=this.state.rule._checkedApprovers;return n.createElement("div",null,n.createElement(i.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"approver",header:"Approver",cell:function(a){return a.isLevel?n.createElement("b",null,a.label):n.createElement("span",{style:a.style},n.createElement("span",{style:{float:"left",marginTop:5}},n.createElement(i.Checkbox,{checked:null!=t[a.id],indeterminate:null!=a.data.route&&null!=t[a.data.route.id],label:a.label,onChange:function(r){1==r.detail.checked?(t[a.id]=a,t[a.id].state="ENABLE"):delete t[a.id];var n=e.state.rule;n._checkedApprovers=t,e.setState(n)}})))}},{id:"action",header:"Action",cell:function(a){return t[a.id]?n.createElement("div",null,n.createElement("span",{style:{float:"left",marginRight:10}},n.createElement(i.RadioButton,{value:"Add",label:o.ActionParameterTargetStateDisplayText[o.ActionParameterTargetState.ENABLE],name:a.id,checked:"ENABLE"==t[a.id].state,onChange:function(r){t[a.id].state="ENABLE";var n=e.state.rule;n._checkedApprovers=t,e.setState(n)}})),n.createElement("span",{style:{float:"left",marginRight:10}},n.createElement(i.RadioButton,{value:"Remove",label:o.ActionParameterTargetStateDisplayText[o.ActionParameterTargetState.DISABLE],checked:"DISABLE"==t[a.id].state,name:a.id,onChange:function(r){t[a.id].state="DISABLE";var n=e.state.rule;n._checkedApprovers=t,e.setState(n)}}))):null!=a.data.route&&null!=t[a.data.route.id]?n.createElement("span",null,n.createElement("i",null,"Managed by parent route settings")):null!=a.data.approver||null!=a.data.route?n.createElement("span",{className:"awsui-text-secondary awsui-util-font-size-0"},n.createElement("i",null,"Select to manage by this rule")):void 0}}],items:this.state.nodes,empty:n.createElement("div",{className:"awsui-util-t-c"},n.createElement("p",{className:"awsui-util-mb-s"},"No approval viewers found for this template."))}),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}))},DynamicApproverStepComponent}(n.Component);t.default=c},1513:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(4),s=function(e){function DynamicViewerStepComponent(t){var a=e.call(this,t)||this;return a.viewerLookupDictionary={},a.state=Object.assign({viewersList:t.viewersList,viewerNodes:null!=t.viewerNodes?t.viewerNodes:a.createNavigation(t.info.viewersList,null==t.info.checkedViewers?{}:t.info.checkedViewers),checkedViewers:a.getCheckedViewers(t.info.rule)},t.info),null==a.state.rule._checkedViewers&&(a.state.rule._checkedViewers=a.getCheckedViewers(t.info.rule)),a.createNavigation=a.createNavigation.bind(a),a.props.enableNextButton(!0),a}return r(DynamicViewerStepComponent,e),DynamicViewerStepComponent.prototype.getCheckedViewers=function(e){for(var t={},a=0;a<e.actions.length;a++)if(e.actions[a].type===o.RuleActionType.DYNAMIC_APPROVAL_VIEWERS){for(var r=0;r<e.actions[a].parameters.length;r++){var n=e.actions[a].parameters[r];null!=this.viewerLookupDictionary[n.entityId]&&(t[n.entityId]=this.viewerLookupDictionary[n.entityId],t[n.entityId].state=n.targetState)}break}return t},DynamicViewerStepComponent.prototype.getInfo=function(e){e(this.state,!0)},DynamicViewerStepComponent.prototype.getExpandKeys=function(e,t){for(var a=[],r=this.createNavigation(e,t),n=0;n<e.length;n++)a.push(r[n].value);return a},DynamicViewerStepComponent.prototype.createNavigation=function(e,t){var a=[];this.viewerLookupDictionary={};for(var r=0;r<e.length;r++){var i={icon:n.createElement("i",null),className:"viewerName",disabled:!1,value:e[r].id,label:e[r].actor.displayName,checked:t.hasOwnProperty(e[r].id),children:[],data:{id:e[r].id,name:e[r].actor.displayName}};a.push(i),this.viewerLookupDictionary[i.data.id]=i}return a},DynamicViewerStepComponent.prototype.render=function(){var e=this,t=this.state.rule._checkedViewers;return n.createElement("div",null,n.createElement(i.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"viewer",header:"Viewer",cell:function(a){return n.createElement("span",{style:{float:"left",marginTop:5}},n.createElement(i.Checkbox,{checked:null!=t[a.value],label:a.label,onChange:function(r){1==r.detail.checked?(t[a.value]=a,t[a.value].state="ENABLE"):delete t[a.value];var n=e.state.rule;e.state.rule._checkedViewers=t,e.setState(n)}}))}},{id:"action",header:"Action",cell:function(a){return t[a.value]?n.createElement("div",null,n.createElement("span",{style:{float:"left",marginRight:10}},n.createElement(i.RadioButton,{value:"Add",label:o.ActionParameterTargetStateDisplayText[o.ActionParameterTargetState.ENABLE],name:a.value,checked:"ENABLE"==t[a.value].state,onChange:function(){t[a.value].state="ENABLE";var r=e.state.rule;e.state.rule._checkedViewers=t,e.setState(r)}})),n.createElement("span",{style:{float:"left",marginRight:10}},n.createElement(i.RadioButton,{value:"Remove",label:o.ActionParameterTargetStateDisplayText[o.ActionParameterTargetState.DISABLE],checked:"DISABLE"==t[a.value].state,name:a.value,onChange:function(){t[a.value].state="DISABLE";var r=e.state.rule;e.state.rule._checkedViewers=t,e.setState(r)}}))):n.createElement("span",{className:"awsui-text-secondary awsui-util-font-size-0"},n.createElement("i",null,"Select to manage by this rule"))}}],items:this.state.viewerNodes,empty:n.createElement("div",{className:"awsui-util-t-c"},n.createElement("p",{className:"awsui-util-mb-s"},"No approval viewers found for this template."))}),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}))},DynamicViewerStepComponent}(n.Component);t.default=s},1514:function(e,t,a){"use strict";function mapStateToProps(e){var t={entityId:null,entityType:null};return null!=e.rules&&(t.entityId=e.rules.entityId,t.entityType=e.rules.entityType,t.rules=e.rules.rules),t}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(7),c=a(5),p=a(10),u=a(4),d=a(273),m=a(274),f=a(37),E=a(6),h=function(e){function SimulateRuleComponent(t){var a=e.call(this,t)||this;return a.state={attributes:a.getClonedAttributes(a.props.attributes),simulatedEntity:null,loading:!1,isSimulatedYet:!1,activeTabId:"approvalPlan"},a.simulateRule=a.simulateRule.bind(a),a}return r(SimulateRuleComponent,e),SimulateRuleComponent.prototype.getClonedAttributes=function(e){var t={};return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return null!=e.ruleIds&&e.ruleIds.length>0}).map(function(e){t[e.id]=n({},e)}),t},SimulateRuleComponent.prototype.getAttributes=function(){var e=this.state.attributes;return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return null!=e.ruleIds&&e.ruleIds.length>0}).map(function(e){return e})},SimulateRuleComponent.prototype.getApprovalPlanItems=function(e){for(var t=[],a=0;a<e.length;a++){var r={icon:s.createElement("i",null),className:"levelName",disabled:!0,id:a,value:"LEVEL::Level "+(a+1)+"::"+a,label:s.createElement("b",null,"Level ",a+1),children:[],data:{level:{id:a,name:a+1,value:"LEVEL::Level "+(a+1)+"::"+a}}};t.push(r);for(var n=0;n<e[a].length;n++){var i=e[a][n].route.ruleStatus,o={disabled:!0,value:"ROUTE::"+e[a][n].route.name+"::"+e[a][n].route.id+"::LEVEL::Level "+(a+1)+"::"+a,label:s.createElement("b",null,e[a][n].route.name," "),id:e[a][n].route.id,children:[],className:"selectableNode routeName",style:{marginLeft:15,float:"left"},data:{level:{id:a,name:a+1,value:"LEVEL::Level "+(a+1)+"::"+a},route:{id:e[a][n].route.id,name:e[a][n].route.name,value:"ROUTE::"+e[a][n].route.name+"::"+e[a][n].route.id+"::LEVEL::Level "+(a+1)+"::"+a}}};(null==i||i==u.RuleStatus.PASS||null!=i&&i.indexOf("ENABLED")>0)&&(o.disabled=!1,t.push(o));for(var l=e[a][n].approvers,c=0;c<l.length;c++){var p=l[c][0].ruleStatus,d={disabled:!1,value:"APPROVER::"+l[c][0].actor.displayName+"::"+l[c][0].id+"::ROUTE::"+e[a][n].route.name+"::"+e[a][n].route.id+"::LEVEL::Level "+(a+1)+"::"+a,label:l[c][0].actor.displayName,id:l[c][0].id,selectable:!0,className:"selectableNode approverName",style:{marginLeft:45,float:"left"},data:{level:{id:a,name:a+1,value:"LEVEL::Level "+(a+1)+"::"+a},route:{id:e[a][n].route.id,name:e[a][n].route.name,value:"ROUTE::"+e[a][n].route.name+"::"+e[a][n].route.id+"::LEVEL::Level "+(a+1)+"::"+a},approver:{id:l[c][0].id,name:l[c][0].actor.displayName,value:"APPROVER::"+l[c][0].actor.displayName+"::"+l[c][0].id+"::ROUTE::"+e[a][n].route.name+"::"+e[a][n].route.id+"::LEVEL::Level "+(a+1)+"::"+a}}};(null==p||p==u.RuleStatus.PASS||null!=p&&p.indexOf("ENABLED")>0)&&(1==o.disabled&&(o.disabled=!1,t.push(o)),t.push(d))}}}return t},SimulateRuleComponent.prototype.getViewerItems=function(e){for(var t=[],a=0;a<e.length;a++){var r=e[a].ruleStatus,n={icon:s.createElement("i",null),className:"viewerName",disabled:!0,value:e[a].id,label:e[a].actor.displayName,children:[],data:{id:e[a].id,name:e[a].actor.displayName}};(null==r||r==u.RuleStatus.PASS||null!=r&&r.indexOf("ENABLED")>0)&&t.push(n)}return t},SimulateRuleComponent.prototype.simulateRule=function(){return i(this,void 0,void 0,function(){var e,t,a,r,n;return o(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.props.entityId,t=this.getAttributes(),this.setState({loading:!0,isSimulatedYet:!0}),[4,f.default({method:this.props.entityType==u.RuleEntityType.Template?"GET_SIMULATED_TEMPLATE":"GET_SIMULATED_APPROVAL",payload:JSON.stringify({templateId:e,approvalId:e,attributeList:t})})];case 1:return a=i.sent(),this.setState({loading:!1,simulatedEntity:this.props.entityType==u.RuleEntityType.Template?a.templateFull:a.approvalFull}),null!=a.runLog&&(console.log(a.runLog),r=Object.keys(a.runLog).map(function(e){return a.runLog[e]}).sort(function(e,t){return e.position-t.position}).map(function(e){return e}),console.log(r)),[3,3];case 2:return n=i.sent(),this.setState({loading:!1}),console.log(n.stack),this.props.dispatch(p.updateNotification({value:{id:Math.random(),content:n.message,type:"alert",status:"error"}})),[3,3];case 3:return[2]}})})},SimulateRuleComponent.prototype.getApprovalViewers=function(){var e=this.props.viewers;return Object.keys(e).map(function(t){return e[t]}).map(function(e){return e})},SimulateRuleComponent.prototype.render=function(){var e=this,t=this.state.simulatedEntity,a=this.getAttributes(),r=[],n=[],i=[];null!=t&&(r=this.props.entityType==u.RuleEntityType.Template?this.state.simulatedEntity.templatePlan:this.state.simulatedEntity.approvalPlan,n=this.props.entityType==u.RuleEntityType.Template?this.state.simulatedEntity.approvalViewerList:this.state.simulatedEntity.viewerList);for(var o=0;o<a.length;o++)!function(t){var r=a[t];null!=r.ruleIds&&r.ruleIds.length>0&&(r._editing=!0,i.push(s.createElement("div",{key:"SimulateRule-"+r.id},s.createElement("div",{className:" awsui-util-mt-m"}),s.createElement("span",null,r.name),s.createElement("div",{className:"awsui-util-clearfix"}),s.createElement("div",{style:{float:"left"}},s.createElement(m.default,{attribute:r,update:function(t){r.parameter=t,e.setState(a)}})),s.createElement(d.default,{className:r.type==E.ATTRIBUTE_TYPE.CURRENCY||r.type==E.ATTRIBUTE_TYPE.PHONE_NUMBER?"complexRuleValueInput":"simpleRuleValueInput",attribute:r,save:function(){},updateAndSave:function(){},update:function(t){var a=e.state.attributes;a[r.id].value=t,e.setState(a)}}),s.createElement("div",{className:"awsui-util-clearfix"}))))}(o);return s.createElement("div",{className:"simulateRules"},s.createElement("div",{className:"awsui-grid"},s.createElement("div",{className:"awsui-row"},s.createElement("div",{className:"col-4",style:{borderRight:"Solid 1px rgb(234, 237, 237)"}},s.createElement("div",{className:" awsui-util-mt-l"}),s.createElement("div",{"data-testid":"template-rule__simulate-rules-key-details-text"},s.createElement("h4",null,"Key Details")),i,s.createElement("div",{className:" awsui-util-mt-l"}),s.createElement("div",{className:"awsui-util-f-r"},s.createElement(c.Button,{loading:this.state.loading,text:"Simulate",variant:"primary","data-testid":"template-rule__simulate-rules-simulate-button",onClick:function(){e.simulateRule()}})),s.createElement("div",{className:" awsui-util-mb-m"})),s.createElement("div",{className:"col-8","data-testid":"template-rule__simulate-rules-result-container"},s.createElement(c.Tabs,{activeTabId:this.state.activeTabId,onChange:function(t){e.setState({activeTabId:t.detail.activeTabId})},tabs:[{label:"Approval Plan",id:"approvalPlan",content:s.createElement("div",null,s.createElement(c.ColumnLayout,{columns:2},s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement("div",null,s.createElement(c.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"approver",header:"Original approval plan",cell:function(e){return s.createElement("span",{style:e.style},e.label)}}],items:this.getApprovalPlanItems(this.props.approvalPlan),empty:s.createElement("div",{className:"awsui-util-t-c"},s.createElement("p",{className:"awsui-util-mb-s"},"No approvers found."))})),s.createElement("div",null,s.createElement(c.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"approver",header:"Simulated approval plan",cell:function(e){return s.createElement("span",{style:e.style},e.label)}}],items:null!=this.state.simulatedEntity?this.getApprovalPlanItems(r):[],empty:s.createElement("div",{className:"awsui-util-t-c"},s.createElement("p",{className:"awsui-util-mb-s"},0==this.state.isSimulatedYet?s.createElement("span",null,'Fill the key details on the left side and click "Simulate" button to see the results here.'):s.createElement("span",null,"No approvers found after simulation. ")))})))))},{label:"Viewers",id:"approvalViewers",content:s.createElement("div",null,s.createElement(c.ColumnLayout,{columns:2},s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement("div",null,s.createElement(c.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"approver",header:"Original approval viewers",cell:function(e){return s.createElement("span",{style:e.style},e.label)}}],items:this.getViewerItems(this.getApprovalViewers()),empty:s.createElement("div",{className:"awsui-util-t-c"},s.createElement("p",{className:"awsui-util-mb-s"},"No approvals viewers found."))})),s.createElement("div",null,s.createElement(c.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"approver",header:"Simulated approval viewers",cell:function(e){return s.createElement("span",{style:e.style},e.label)}}],items:null!=this.state.simulatedEntity?this.getViewerItems(n):[],empty:s.createElement("div",{className:"awsui-util-t-c"},s.createElement("p",{className:"awsui-util-mb-s"},0==this.state.isSimulatedYet?s.createElement("span",null,'Fill the key details on the left side and click "Simulate" button to see the results here.'):s.createElement("span",null,"No viewers found after simulation. ")))})))))},{label:"Rules",id:"rules",content:s.createElement("div",null,s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement("div",null,s.createElement(c.Table,{loadingText:"Loading resources",columnDefinitions:[{id:"approver",header:"Order",cell:function(e){return s.createElement("span",null,e.order)}},{id:"approver",header:"Rule",cell:function(e){return s.createElement("span",null,e.name)}},{id:"approver",header:"Status",cell:function(e){return s.createElement("span",null,e.status)}}],items:null!=this.state.simulatedEntity?this.state.simulatedEntity.ruleList:[],empty:s.createElement("div",{className:"awsui-util-t-c"},s.createElement("p",{className:"awsui-util-mb-s"},0==this.state.isSimulatedYet?s.createElement("span",null,'Fill the key details on the left side and click "Simulate" button to see the results here.'):s.createElement("span",null," No rules available to display. ")))}))))}]})))),s.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}))},SimulateRuleComponent}(s.Component);t.default=l.connect(mapStateToProps)(h)},1517:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(1518),o=function(e){function BetaTestingUpdatesComponent(t){var a=e.call(this,t)||this;return a.state={},a}return r(BetaTestingUpdatesComponent,e),BetaTestingUpdatesComponent.prototype.render=function(){return n.createElement("div",null,n.createElement(i.default,null))},BetaTestingUpdatesComponent}(n.Component);t.default=o},1518:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(6),o=function(e){function BetaTestingUpdates(t){var a=e.call(this,t)||this;return a.state={updates:""},a}return r(BetaTestingUpdates,e),BetaTestingUpdates.prototype.componentDidMount=function(){var e=this;fetch(i.SERVICE_ENDPOINTS+i.API_ROUTES.GET_BETA_TESTING_UPDATES,{credentials:"include",mode:"cors"}).then(function(e){return e.text()}).then(function(t){e.setState({updates:t})})},BetaTestingUpdates.prototype.getHTML=function(e){return{__html:e}},BetaTestingUpdates.prototype.render=function(){return n.createElement("div",null,n.createElement("section",{className:"wrapper createApprovals",style:{position:"relative"}},n.createElement("div",{className:"awsui approvalsform"},n.createElement("div",{className:"awsui-util-p-m"},n.createElement("div",{dangerouslySetInnerHTML:this.getHTML(this.state.updates)})))))},BetaTestingUpdates}(n.Component);t.default=o},1519:function(e,t,a){"use strict";function mapStateToProps(e){return{id:e.templateBasics.id,approvalAdmins:e.approvalAdmins,basics:e.templateBasics,escalationPeriod:e.templateBasics.escalationPeriodInDays,templateClone:e.templateClone,createdApprovalFromTemplate:e.createdApprovalFromTemplate,attributeList:Object.values(e.templateAttributes).sort(w.byProp("sortOrder")),attachments:e.templateAttachments,groupMembers:e.groupMembers,rules:e.rules&&e.rules.rules,templatePlan:e.templatePlan.plan,templateApprovalViewers:e.templateApprovalViewers||{}}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(1520),c=a(7),p=a(8),u=a(1521),d=a(306),m=a(319),f=a(1522),E=a(746),h=a(1525),v=a(1526),A=a(167),g=a(222),T=a(37),y=a(10),_=a(1527),N=a(5),R=a(215),S=a(52),P=a(221),b=a(757),C=a(4),O=a(138),I=a(337),D=a(30),L=a(6),w=a(13),M=a(759),U=a(214),k=a(144),V=a(135),F=a(158),x=a(78),B=a(99),H=a(101),Y=a(718),G=a(118),q=a(1545),j=a(754),W=function(e){function TemplateComponent(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new D.MetricPageLatencyTimer,a.displayEditIcon=!1,a.myUpdate=G.newContext(),a.saveEscalationEnabledDetails=function(e){"NO"==e&&a.updateTemplateBasics({escalationEnabled:!1,escalationPeriodInDays:null}),a.setState({showEscalationPeriod:"YES"===e,escalationPeriodInDays:null})},a.onInputEscalationPeriod=function(e){a.setState({escalationPeriodInDays:e})},a.onBlurEscalationPeriod=function(){var e=a.state.escalationPeriodInDays;M.isValidEscalationPeriod(e,a.props.dispatch)?a.updateTemplateBasics({escalationEnabled:!0,escalationPeriodInDays:e}):a.setState({escalationPeriodInDays:null})},a.loadAll=a.loadAll.bind(a),a.updateTemplateBasics=a.updateTemplateBasics.bind(a),a.downloadTemplateCSV=a.downloadTemplateCSV.bind(a),a.addActor=a.addActor.bind(a),a.removeActor=a.removeActor.bind(a),a.updateApprovalViewerPermissions=a.updateApprovalViewerPermissions.bind(a),a.state={approvalTitle:null,approvalSummary:null,approvalNeededByDays:1,savingLegalCounsel:!1,legalCounsel:null,savingBasic:!1,adminList:[],approvalViewerList:[],viewerList:[],attributeList:[],rulesList:null,disableApprovalPlan:!0,disableViewers:!0,disableApprovalAdmins:!0,disableRules:!0,disableApprovalSetting:!0,disableTemplateViewer:!0,disableTemplateAdmins:!0,disableTemplateReportingPermissions:!0,disableTemplateAttachments:!0,loading:!1,showEscalationPeriod:!1,escalationPeriodInDays:null},a}return r(TemplateComponent,e),TemplateComponent.prototype.componentDidUpdate=function(e){this.state.owner&&"/template/details/:templateId"===this.props.match.path&&this.metricPageLatencyTimer.publishPageLatency(L.CLIENT_METRICS_METHOD_NAMES.TEMPLATE_DETAILS),this.state.owner&&"/template/edit/:templateId"===this.props.match.path&&this.metricPageLatencyTimer.publishPageLatency(L.CLIENT_METRICS_METHOD_NAMES.EDIT_TEMPLATES);var t=this.props,a=t.approvalAdmins,r=t.history,n=t.templateClone,i=(t.clearApprovalAdmins,t.clearCloneTemplate),o=t.updateNotification,s=t.deleteNotification,l=t.attachments,c=Math.random();n.status===w.Status.SUCCESS&&(s(Number(this.props.id)),o({id:c,content:"Successfully cloned template",loading:!1,type:"alert",status:"success"}),r.push("/template/details/"+n.templateId),i()),n.status===w.Status.FAILURE&&(s(Number(this.props.id)),o({id:c,content:"Could not clone template: "+n.error,loading:!1,type:"alert",status:"error"}),i()),a.status===w.Status.FAILURE&&a.status!==e.approvalAdmins.status&&(s(Number(this.props.id)),o({id:c,content:"Failed operation on Approval Admins: "+a.error,loading:!1,type:"alert",status:"error"})),l.status===w.Status.FAILURE&&l.status!==e.attachments.status&&(s(Number(this.props.id)),o({id:c,content:"Failed operation on Attachments: "+l.error,loading:!1,type:"alert",status:"error"}))},TemplateComponent.prototype.componentDidMount=function(){document.title=this.props.addTitle("Create Template - "),"/template/create"===this.props.match.path&&this.metricPageLatencyTimer.publishPageLatency(L.CLIENT_METRICS_METHOD_NAMES.CREATE_TEMPLATE)},TemplateComponent.prototype.componentWillUnmount=function(){document.title=this.props.addTitle(""),this.props.clearCloneTemplate(),this.props.clearApprovalAdmins()},TemplateComponent.prototype.componentWillReceiveProps=function(e){return i(this,void 0,void 0,function(){var t,a;return o(this,function(r){switch(r.label){case 0:return t=e.id,(a=e.match.params.templateId,null!==e.basics.escalationPeriodInDays&&this.state.escalationPeriodInDays!==e.basics.escalationPeriodInDays&&this.setState({escalationPeriodInDays:e.basics.escalationPeriodInDays.toString()}),a)?[3,1]:(t&&this.unloadAll(),[3,3]);case 1:return a==t||this.state.loading?[3,3]:[4,this.loadAll(a)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},TemplateComponent.prototype.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},TemplateComponent.prototype.unloadAll=function(){this.props.dispatch(A.templateUpdateBasics({value:{id:null,active:!1,title:null,description:null,approvalTitle:null,approvalSummary:null,version:null,templatePublic:!1,approvalPlanLocked:!1,approvalRecommended:!1,approvalRecommendedForSwimlane:!1,approvalNeededByDays:L.DEFAULT_APPROVAL_NEEDED_BY_DAYS}})),this.props.dispatch(g.templateLoadAttributes({value:[]})),this.props.dispatch(O.loadRules({value:[]})),this.props.dispatch(O.setRuleEntity({value:{}})),this.props.dispatch(I.templateLoadApprovalViewers({value:{}})),this.setState({legalCounsel:null,approvalViewerList:[]})},TemplateComponent.prototype.loadTempalteFull=function(e){return i(this,void 0,void 0,function(){var t,a,r,n=this;return o(this,function(i){switch(i.label){case 0:return[4,T.default({method:"GET_TEMPLATE_FULL",payload:JSON.stringify({templateId:e})})];case 1:return t=i.sent(),a=t.templateFull.template.title,document.title=this.props.addTitle("Template - "+a+" - "+e+" - "),this.props.dispatch(g.templateLoadAttributes({value:t.templateFull.attributeList.reduce(function(e,t){return t._saving=!1,t._editing=!1,t._type="template",e[t.id]=t,t._unsave=!1,t._isValid=!0,e},{})})),this.props.dispatch(O.setRuleEntity({value:{entityId:e,entityType:C.RuleEntityType.Template}})),null!=t.templateFull.ruleList&&this.props.dispatch(O.loadRules({value:{rules:t.templateFull.ruleList.reduce(function(e,t){return t._isBeingDeleted=!1,e[t.ruleId]=t,e},{})}})),this.props.dispatch(I.templateLoadApprovalViewers({value:t.templateFull.approvalViewerList.reduce(function(e,t){return e[t.id]=t,e},{})})),r=t.templateFull.templatePlan,r.forEach(function(e){e.forEach(function(e){e.approvers.forEach(function(e){e.forEach(function(e){e.changeable=!0})})})}),this.props.dispatch(P.templateLoadPlan({value:{version:t.templatePlanVersion,plan:r}})),p.default.get(C.ServiceEndPoints.getTemplateTagList+e).then(function(e){var t=e.data;t.isError||n.props.dispatch({type:k.FETCH_ALL_TAGS,payload:t.data})}),this.setState({active:t.templateFull.template.active,approvalTitle:t.templateFull.template.approvalTitle,approvalSummary:t.templateFull.template.approvalSummary,approvalNeededByDays:t.templateFull.template.approvalNeededByDays,legalCounsel:t.templateFull.legalCounselList[0],adminList:t.templateFull.adminList,viewerList:t.templateFull.viewerList,approvalViewerList:t.templateFull.approvalViewerList,owner:t.templateFull.owner,templatePlan:t.templateFull.templatePlan,attributeList:t.templateFull.attributeList,rulesList:t.templateFull.ruleList,userRole:t.templateFull.template.userRole}),this.props.dispatch(A.templateUpdateBasics({value:t.templateFull.template})),[2]}})})},TemplateComponent.prototype.loadAll=function(e,t){return i(this,void 0,void 0,function(){var a,r;return o(this,function(n){switch(n.label){case 0:a=Math.random(),n.label=1;case 1:return n.trys.push([1,3,,4]),t||this.props.dispatch(y.createNotification({value:{id:a,content:"Loading template "+e,loading:!0,type:"alert",status:"info"}})),this.setState({loading:!0}),this.props.getTemplateAttachments({templateId:e}),[4,this.loadTempalteFull(e)];case 2:return n.sent(),this.props.getApprovalAdmins({templateId:e}),this.setState({loading:!1}),this.props.dispatch(y.deleteNotification({value:a})),[3,4];case 3:return r=n.sent(),console.log(r),this.props.dispatch(y.updateNotification({value:{id:a,content:r.message,type:"alert",loading:!1,status:"error"}})),[3,4];case 4:return[2]}})})},TemplateComponent.prototype.getNavigationBarLinks=function(){var e=this.props.match.params.templateId;return[{available:!0,targetId:"BasicDetails",text:"Basic Details",iconClass:"fa-info-circle"},{available:e,targetId:"KeyDetails",text:"Key Details",iconClass:"fa-file"},{available:e,targetId:"Plan",text:"Approval Plan",iconClass:"fa-users"},{available:e,targetId:"ApprovalViewers",text:"Approval Viewers",iconClass:"fa-eye"},{available:e,targetId:"ApprovalSettings",text:"Approval Settings",iconClass:"fa-cog"},{available:e,targetId:"TemplateViewers",text:"Template Viewers",iconClass:"fa-eye"},{available:e,targetId:"TemplateAdmins",text:"Template Admins",iconClass:"fa-users"},{available:e,targetId:"TemplateTags",text:"Tags",iconClass:"fa-clipboard"}]},TemplateComponent.prototype.updateTemplateBasics=function(e){return i(this,void 0,void 0,function(){var t,a,r;return o(this,function(i){switch(i.label){case 0:if(this.state.savingBasic)return[2];t=Math.random(),i.label=1;case 1:return i.trys.push([1,4,,5]),this.setState({savingBasic:!0}),this.props.dispatch(y.createNotification({value:{id:t,content:"Saving changes",loading:!0,type:"alert",status:"info"}})),[4,T.default({method:"UPDATE_TEMPLATE",payload:JSON.stringify(n({templateId:this.props.match.params.templateId,version:this.props.basics.version},e))})];case 2:return a=i.sent(),this.props.dispatch(A.templateUpdateBasics({value:n({},e,{version:a.template.version})})),this.setState({savingBasic:!1}),[4,this.loadAll(this.props.match.params.templateId)];case 3:return i.sent(),this.props.dispatch(y.updateNotification({value:{id:t,duration:3e3,content:"Successfully saved changes",type:"alert",loading:!1,status:"success"}})),[3,5];case 4:return r=i.sent(),console.log(r),this.setState({savingBasic:!1}),this.props.dispatch(y.updateNotification({value:{id:t,content:r.message,type:"alert",loading:!1,status:"error"}})),[3,5];case 5:return[2]}})})},TemplateComponent.prototype.downloadTemplateCSV=function(){return i(this,void 0,void 0,function(){var e,t,a,r,n,i,s,l,c,p;return o(this,function(o){return e=this.props,t=e.attributeList,a=e.basics,r=e.postMetric,n=a.approvalNeededByDays,i=a.approvalTitle,s=a.approvalSummary,l=a.id,c=_.createCSVData(L.TEMPLATE_CSV_COLUMNS,{approvalNeededByDays:n,approvalTitle:i,approvalSummary:s,attributeList:t},l),_.exportToCSV("template-"+l+".csv",c),p=Math.random(),this.props.updateNotification({id:p,content:"File template-"+l+" downloaded.",type:"alert",loading:!1,status:"success",duration:2500}),r({metricName:"bulkCreateCSVDownloads",metricValue:"template "+l,category:"bulkUploadApprovals"}),[2]})})},TemplateComponent.prototype.saveLegalCounsel=function(e){return i(this,void 0,void 0,function(){var t,a,r,r,i;return o(this,function(o){switch(o.label){case 0:this.setState({savingLegalCounsel:!0}),t=this.state.legalCounsel,this.setState({legalCounsel:n({},t,{actor:e})}),a=Math.random(),o.label=1;case 1:return o.trys.push([1,6,,7]),this.props.dispatch(y.createNotification({value:{id:a,content:"Updating legal counsel",loading:!0,type:"alert",status:"info"}})),t?[3,3]:[4,T.default({method:"CREATE_TEMPLATE_LEGAL_COUNSEL",payload:JSON.stringify({actor:E.toUserInput(e),templateId:this.props.match.params.templateId})})];case 2:return r=o.sent(),this.setState({legalCounsel:r.legalCounsel}),[3,5];case 3:return[4,T.default({method:"UPDATE_TEMPLATE_LEGAL_COUNSEL",payload:JSON.stringify({actor:E.toUserInput(e),legalCounselId:t.id,templateId:this.props.match.params.templateId})})];case 4:r=o.sent(),this.setState({legalCounsel:r.legalCounsel}),o.label=5;case 5:return this.props.dispatch(y.updateNotification({value:{id:a,duration:3e3,content:"Successfully saved legal counsel",type:"alert",loading:!1,status:"success"}})),[3,7];case 6:return i=o.sent(),console.log(i),this.props.dispatch(y.updateNotification({value:{id:a,content:i.message,type:"alert",loading:!1,status:"error"}})),[3,7];case 7:return this.setState({savingLegalCounsel:!1}),[2]}})})},TemplateComponent.prototype.deleteLegalCounsel=function(e){return i(this,void 0,void 0,function(){var t,a,r,n;return o(this,function(i){switch(i.label){case 0:this.setState({savingLegalCounsel:!0}),t=this.state.legalCounsel,a=Math.random(),i.label=1;case 1:return i.trys.push([1,3,,4]),this.props.dispatch(y.createNotification({value:{id:a,content:"Deleting legal counsel",loading:!0,type:"alert",status:"info"}})),[4,T.default({method:"DELETE_TEMPLATE_LEGAL_COUNSEL",payload:JSON.stringify({actor:E.toUserInput(e),legalCounselId:t.id,templateId:this.props.match.params.templateId})})];case 2:return r=i.sent(),this.setState({legalCounsel:null}),this.props.dispatch(y.updateNotification({value:{id:a,duration:3e3,content:"Successfully deleted legal counsel. PLEASE NOTE: By removing Legal Counsel, the approval may not be considered Legally Privileged.",type:"alert",loading:!1,status:"success"}})),[3,4];case 3:return n=i.sent(),console.log(n),this.props.dispatch(y.updateNotification({value:{id:a,content:n.message,type:"alert",loading:!1,status:"error"}})),[3,4];case 4:return this.setState({savingLegalCounsel:!1}),[2]}})})},TemplateComponent.prototype.getHoverDetail=function(){var e=this.props,t=e.id,a=e.basics,r=e.templateClone,n=e.cloneTemplate,i=e.updateNotification;if(!t)return s.createElement("a",{id:"endApprovalHeader",className:"hiddenText"},".");var o="No";return a.approvalRecommended&&(a.approvalRecommendedForSwimlane?"Recommend per swimlane":"Recommend overall"),a.templatePublic&&(o="Yes"),s.createElement("div",{id:"hoverDetail",className:"awsui"},s.createElement("ul",null,s.createElement("li",null,s.createElement("p",null,"Status - ",s.createElement("b",null,a.active?"Active":"Inactive")),s.createElement("p",null,"ID - ",s.createElement("b",null,a.id)," ",s.createElement(v.default,{templateId:t}))),s.createElement("li",null,s.createElement("p",null,"Template is public - ",s.createElement("b",null,o)),s.createElement("p",null,"Created on - ",s.createElement("b",null,new Date(a.createdAt).toLocaleDateString()))),s.createElement("li",null,this.state.owner?s.createElement("p",null,"Template owner - ",s.createElement("a",{target:"_blank",href:S.getActorLink(this.state.owner.actor)},s.createElement("b",null,this.state.owner.actor.displayName))):null,a.parentId&&s.createElement("p",null,"Copied From -"," ",s.createElement("a",{className:"detailsAnchor",href:"/Template/Details/"+a.parentId,target:"_blank",rel:"noopener noreferrer"},s.createElement("strong",null,a.parentId)))),s.createElement("li",null,t&&r.status!==w.Status.PENDING?s.createElement("p",{className:"action-text",onClick:function(){i({id:t,content:"Cloning template",loading:!0,type:"alert",status:"info"}),r.status!==w.Status.PENDING&&n(t)}},s.createElement("i",{className:"fa fa-copy fa-lg"})," Copy to new"):s.createElement(N.Spinner,null))),s.createElement("div",{className:"awsui-util-clearfix"}),s.createElement("a",{id:"endApprovalHeader",className:"hiddenText"},"."),s.createElement("div",{className:"awsui-util-clearfix"}))},TemplateComponent.prototype.enableInlineEditing=function(e){switch(e){case C.TemplateSectionName.VIEWERS:this.setState({disableViewers:!1});break;case C.TemplateSectionName.APPROVAL_ADMINS:this.setState({disableApprovalAdmins:!1});break;case C.TemplateSectionName.APPROVAL_PLAN:this.setState({disableApprovalPlan:!1});break;case C.TemplateSectionName.RULES:this.setState({disableRules:!1});break;case C.TemplateSectionName.APPROVAL_SETTINGS:this.setState({disableApprovalSetting:!1});break;case C.TemplateSectionName.TEMPLATE_VIEWERS:this.setState({disableTemplateViewer:!1});break;case C.TemplateSectionName.TEMPLATE_ADMINS:this.setState({disableTemplateAdmins:!1});break;case C.TemplateSectionName.TEMPLATE_REPORTING_PERMISSIONS:this.setState({disableTemplateReportingPermissions:!1});break;case C.TemplateSectionName.TEMPLATE_ATTACHMENTS:this.setState({disableTemplateAttachments:!1})}},TemplateComponent.prototype.cancelInlineEditing=function(e){switch(e){case C.TemplateSectionName.VIEWERS:this.setState({disableViewers:!0});break;case C.TemplateSectionName.APPROVAL_ADMINS:this.setState({disableApprovalAdmins:!0});break;case C.TemplateSectionName.APPROVAL_PLAN:this.setState({disableApprovalPlan:!0});break;case C.TemplateSectionName.RULES:this.setState({disableRules:!0});break;case C.TemplateSectionName.APPROVAL_SETTINGS:this.setState({disableApprovalSetting:!0});break;case C.TemplateSectionName.TEMPLATE_VIEWERS:this.setState({disableTemplateViewer:!0});break;case C.TemplateSectionName.TEMPLATE_ADMINS:this.setState({disableTemplateAdmins:!0});break;case C.TemplateSectionName.TEMPLATE_REPORTING_PERMISSIONS:this.setState({disableTemplateReportingPermissions:!0});break;case C.TemplateSectionName.TEMPLATE_ATTACHMENTS:this.setState({disableTemplateAttachments:!0})}},TemplateComponent.prototype.getToolTip=function(e,t,a){var r=this;return s.createElement("div",null,s.createElement("span",{"data-testid":"detail-page__"+e.toLocaleLowerCase().split(" ").join("-")+"-title"},e,s.createElement("span",{className:1==this.displayEditIcon?"":"displayNone"},s.createElement("span",{className:"detailsEditIcons "+(0==t?"displayNone":""),onClick:function(t){return r.enableInlineEditing(e)}},s.createElement(N.Tooltip,{text:a},s.createElement("i",{className:"fa fa-pencil fa-lg"}))),s.createElement("span",{onClick:function(t){return r.cancelInlineEditing(e)},className:"detailsEditIcons "+(1==t?"displayNone":"")},s.createElement(N.Tooltip,{text:"Close"},s.createElement("i",{className:"fa fa-check fa-lg"}))))))},TemplateComponent.prototype.addActor=function(e,t,a){var r=this;return function(n){return i(r,void 0,void 0,function(){var r,i,s;return o(this,function(o){switch(o.label){case 0:if(!n)return[2];if(r=this.props.basics.id,!w.allUsersDifferent(n,e.map(function(e){return e.actor})))return this.props.dispatch(y.updateNotification({value:{id:Math.random(),content:a,type:"alert",status:"error",duration:3e3}})),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,T.default({method:t,payload:JSON.stringify({templateId:r,actor:E.toUserInput(n)})})];case 2:return i=o.sent(),this.loadAll(r,!0),[3,4];case 3:return s=o.sent(),this.props.updateNotification({id:Math.random(),content:s.message,type:"alert",loading:!1,status:"error"}),[3,4];case 4:return[2]}})})}},TemplateComponent.prototype.removeActor=function(e,t){var a=this;return function(r){return i(a,void 0,void 0,function(){var a,n,i;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),a=this.props.basics.id,r._saving=!0,[4,T.default({method:e,payload:JSON.stringify((i={templateId:a},i[t]=r.id,i))})];case 1:return o.sent(),this.loadAll(a,!0),[3,3];case 2:return n=o.sent(),this.props.updateNotification({id:Math.random(),content:n.message,type:"alert",loading:!1,status:"error"}),[3,3];case 3:return[2]}})})}},TemplateComponent.prototype.updateApprovalViewerPermissions=function(e,t,a){return i(this,void 0,void 0,function(){var r,n,i,s,l,c;return o(this,function(o){switch(o.label){case 0:r=this.state.approvalViewerList,n=this.props.basics.id,i=r[a],s=this.myUpdate(i.restrictedPermissions||[],{$push:[]}),t?s.includes(e)||s.push(e):s=s.filter(function(t){return t!==e}),i.actor.isBeingSaved=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,T.default({method:"UPDATE_TEMPLATE_APPROVAL_VIEWER",payload:JSON.stringify({templateId:n,approvalViewerId:i.id,actor:i.actor,restrictedPermissions:s})})];case 2:return l=o.sent(),i.restrictedPermissions=s,i.actor.isBeingSaved=!1,this.loadAll(n,!0),[3,4];case 3:return c=o.sent(),this.props.updateNotification({id:Math.random(),content:c.message,type:"alert",loading:!1,status:"error"}),i.actor.isBeingSaved=!1,this.loadAll(n),[3,4];case 4:return[2]}})})},TemplateComponent.prototype.render=function(){var e=this,t=this.props,a=t.approvalAdmins,r=t.attributeList,i=t.basics,o=t.clearCreateApprovalFromTemplate,c=t.createApprovalFromTemplate,p=t.createdApprovalFromTemplate,E=t.postMetric,v=t.updateNotification,A=t.history,g=t.id,T=t.attachments,y=t.groupMembers,S=t.getGroupMembers,P=t.rules,O=t.templatePlan,I=t.templateApprovalViewers,D=this.state,M=D.bulkUploadRecords,k=D.viewerList,G=D.adminList,W=D.approvalViewerList,Q=D.legalCounsel,z=D.owner,K=this.props.match.params.templateId;if(K&&K!=g)return null;var J=i.templatePublic,X=i.approvalPlanLocked,$=i.approvalRecommended,Z=i.approvalRecommendedForSwimlane,ee=i.blockRequesterFromMakingApproverDecision,te=i.disableCopyToNewOnApprovals,ae=i.issueFolder,re=i.escalationEnabled,ne=(i.escalationPeriodInDays,i.lockApprovalAdminSection),ie=this.getNavigationBarLinks(),oe=(A.location.pathname.match(/\/template\/edit/),null),se=null;this.state.userRole==C.TemplateUserRole.ADMIN||this.state.userRole==C.TemplateUserRole.OWNER?this.displayEditIcon=!0:this.displayEditIcon=!1;var le=new Set;if(le.add(C.TemplateUserRole.ADMIN),le.add(C.TemplateUserRole.OWNER),g){var ce={ActorCard:B.default,DragDropContext:x.DragDropContext,Droppable:x.Droppable,MenuItem:V.MenuItem,PeopleSearch:F.default,threshold:150,getGroupMembers:S,groupMembers:y,setNotification:v};se=s.createElement(h.default,{pushPath:this.props.history.push,setActive:function(t){e.updateTemplateBasics({active:t})}}),oe=s.createElement("div",null,s.createElement("a",{id:"KeyDetails",className:"locator"}),s.createElement(u.default,{isEditPage:!1,showEditOption:this.displayEditIcon}),s.createElement("a",{id:"Plan",className:"locator"}),s.createElement(N.FormSection,{id:"approvalPlanSection",className:"approvalSequenceContainer",header:this.getToolTip(C.TemplateSectionName.APPROVAL_PLAN,this.state.disableApprovalPlan,C.TemplateToolTip.APPROVAL_PLAN),description:"The approval plan that will be created using this template."},s.createElement("section",{className:"awsui-util-m-l "},s.createElement("div",{style:{border:"solid 1px #e5e5e5"}},s.createElement(d.default,{templateId:g,readOnly:this.state.disableApprovalPlan,currentUser:null,issueFolder:ae,updateIssueFolder:function(t){return e.updateTemplateBasics({issueFolder:t})},groupMembers:y,getGroupMembers:S,threshold:150})))),s.createElement("a",{id:"ApprovalViewers",className:"locator"}),s.createElement(N.FormSection,{id:"approvalViewersSection",header:this.getToolTip(C.TemplateSectionName.VIEWERS,this.state.disableViewers,C.TemplateToolTip.VIEWERS),description:"The approval viewers that will be able to view approvals created from this template.",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement("div",{style:{border:"solid 1px #e5e5e5"}},s.createElement(w.ActorContainer,n({},ce,{actors:this.state.approvalViewerList||[],droppableId:"ApprovalViewer",enableDynamicTiles:!0,getDisplayRuleNames:H.getDisplayRuleNames,getViewerSettings:Y.getViewerSettings,readonlyView:this.state.disableViewers,removeActor:this.removeActor("DELETE_TEMPLATE_APPROVAL_VIEWER","approvalViewerId"),addActor:this.addActor(this.state.approvalViewerList||[],"CREATE_TEMPLATE_APPROVAL_VIEWER","User you are trying to add is already a viewer."),secondaryText:"Add approval viewers",updateApprovalViewerPermissions:this.updateApprovalViewerPermissions}))))),s.createElement("a",{id:"ApprovalAdmins",className:"locator"}),s.createElement(N.FormSection,{id:"approvalAdminsSection",header:this.getToolTip(C.TemplateSectionName.APPROVAL_ADMINS,this.state.disableApprovalAdmins,C.TemplateToolTip.APPROVAL_ADMINS),description:"The approval admins will be able to make changes to the approval in the same ways that a requester can.",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement("div",{style:{border:"solid 1px #e5e5e5"}},s.createElement(w.ActorContainer,n({},ce,{actors:a&&a.admins||[],droppableId:"ApprovalAdmins",enableDynamicTiles:!0,readonlyView:this.state.disableApprovalAdmins,removeActor:function(t){return e.props.deleteApprovalAdmin({templateId:g,approvalAdminId:t.id})},addActor:function(t){var a=t.type,r=t.alias,n=t.groupName,i="PRINCIPAL"===a?r:n;e.props.addApprovalAdmin({templateId:g,type:a,actorId:i})},secondaryText:"Add approval admins"}))))),s.createElement("a",{id:"Attachments",className:"locator"}),s.createElement(N.FormSection,{id:"attachmentsSection",header:this.getToolTip(C.TemplateSectionName.TEMPLATE_ATTACHMENTS,this.state.disableTemplateAttachments,C.TemplateToolTip.TEMPLATE_ATTACHMENTS),description:"The template admins will be able to make changes to the template attachments in the same ways that a template owner can.",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement(q.default,{templateId:g,readOnly:this.state.disableTemplateAttachments,attachments:T}))),s.createElement("a",{id:"Rules",className:"locator"}),null!=this.state.rulesList&&s.createElement(N.FormSection,{id:"approvalRulesSection",header:this.getToolTip(C.TemplateSectionName.RULES,this.state.disableRules,C.TemplateToolTip.RULES),description:"The rules to enable/disable appovers, groups and viewers",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l"},s.createElement("div",null,s.createElement(b.default,{update:function(){e.loadAll(e.props.match.params.templateId)},isEditPage:!this.state.disableRules,entityId:g,entityType:C.RuleEntityType.Template})))),s.createElement("a",{id:"ApprovalSettings",className:"locator"}),s.createElement(N.FormSection,{id:"approvalSettingsSection",header:this.getToolTip(C.TemplateSectionName.APPROVAL_SETTINGS,this.state.disableApprovalSetting,C.TemplateToolTip.APPROVAL_SETTINGS),description:"These settings are required to activate your template",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l"},s.createElement(N.FormField,{label:s.createElement("div",null," ",s.createElement("span",null,"The approval plan on this request should be: "),s.createElement(N.Tooltip,{size:"large",text:"If locked, only approval admins can change the approval plan that is created from this template.",position:"right"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":"true"}))," ")},s.createElement(N.RadioGroup,{items:[{value:"Yes",label:"Locked",disabled:this.state.disableApprovalSetting},{value:"No",label:"Unlocked",disabled:this.state.disableApprovalSetting}],value:X?"Yes":"No",onChange:function(t){e.updateTemplateBasics({approvalPlanLocked:"Yes"==t.detail.value})}})),s.createElement("br",null),s.createElement(w.Questionnaire,{name:"lockApprovalAdminSection",changeSelection:function(t){e.updateTemplateBasics({lockApprovalAdminSection:"YES"===t})},trueLabel:"Locked",falseLabel:"Unlocked",label:s.createElement(s.Fragment,null,"The approval admins on this request should be:",s.createElement(N.Popover,{content:"If locked, only admins can add or remove admins.",size:"small",position:"right"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":"true"}))),disabled:this.state.disableApprovalSetting,value:ne}),s.createElement("br",null),s.createElement(w.Questionnaire,{name:"disableCopyToNewOnApprovals",changeSelection:function(t){e.updateTemplateBasics({disableCopyToNewOnApprovals:"YES"===t})},disabled:this.state.disableApprovalSetting,value:te,label:"Disable copy to new on approvals created from this template"}),s.createElement("br",null),s.createElement(N.FormField,{label:s.createElement("div",null," ",s.createElement("span",null,"The approval request is a:"),s.createElement(N.Tooltip,{size:"large",text:'In a normal approval process, all approvers approve or reject the approval. When you set this option, most approvers will be asked to "recommend" approval or rejection. When someone recommends an approval for rejection the approval process does not stop (but their recommendation is noted). Only the last approver or the last person in each lane will make an actual (standard) approval or rejection decision.',position:"right"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":"true"}))," ")},s.createElement(N.RadioGroup,{items:[{value:"Standard",label:"Standard Approval",disabled:this.state.disableApprovalSetting},{value:"Recommend",label:"Recommend Approval",disabled:this.state.disableApprovalSetting}],value:$?"Recommend":"Standard",onChange:function(t){e.updateTemplateBasics({approvalRecommended:"Recommend"==t.detail.value})}}),s.createElement("br",null)),s.createElement("div",{style:{display:$?"":"none"}},s.createElement(N.FormField,{label:s.createElement("div",null," ",s.createElement("span",null,"Who should make a non-recommending approval decision?"),s.createElement(N.Tooltip,{size:"large",text:"You can specify who will make the final (standard) approval or rejection decision on this approval. All other approvers will simply be asked to recommend approval or rejection.",position:"right"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle","aria-hidden":"true"}))," ")},s.createElement(N.RadioGroup,{items:[{value:"Final",label:"Last approver overall",disabled:this.state.disableApprovalSetting},{value:"Everylane",label:"Last Approver in every lane",disabled:this.state.disableApprovalSetting}],value:Z?"Everylane":"Final",onChange:function(t){e.updateTemplateBasics({approvalRecommendedForSwimlane:"Everylane"==t.detail.value})}})),s.createElement("div",{style:{display:Z?"none":""}},s.createElement("br",null)),s.createElement("br",null)),s.createElement(N.FormField,{label:s.createElement("div",null," ",s.createElement("span",null,"Can a Requestor approve his/her own request as a member of a group?"))},s.createElement(N.RadioGroup,{items:[{value:"YES",label:"Yes",disabled:this.state.disableApprovalSetting},{value:"NO",label:"No",disabled:this.state.disableApprovalSetting}],value:ee?"NO":"YES",onChange:function(t){e.updateTemplateBasics({blockRequesterFromMakingApproverDecision:"NO"==t.detail.value})}}),s.createElement("br",null)),s.createElement(w.Questionnaire,{name:"escalations",changeSelection:this.saveEscalationEnabledDetails,label:"Should Escalations be enabled for this Request? (This is set by the Requestor, and cannot be changed once the Approval has Started)",disabled:this.state.disableApprovalSetting,value:re||this.state.showEscalationPeriod}),(re||this.state.showEscalationPeriod)&&s.createElement(w.NumberInput,{label:"Escalation Period in Days",value:this.state.escalationPeriodInDays,onInput:this.onInputEscalationPeriod,onBlur:this.onBlurEscalationPeriod,disabled:this.state.disableApprovalSetting}),s.createElement(N.FormField,null,s.createElement(m.default,{readOnly:this.state.disableApprovalSetting,templateRequestId:this.props.match.params.templateId,legalCounsel:this.state.legalCounsel})))),s.createElement("a",{id:"TemplateViewers",className:"locator"}),s.createElement(N.FormSection,{id:"templateViewersSection",header:this.getToolTip(C.TemplateSectionName.TEMPLATE_VIEWERS,this.state.disableTemplateViewer,C.TemplateToolTip.TEMPLATE_VIEWERS),description:"The template viewers that have the permission to view the template and create approval request form template. If template is public, no viewer can be added.",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement(N.FormField,{label:"Should this template be a public template?",description:"Public templates can be seen and used by anyone, but cannot be edited by them. When toggled to public, a template will clear all current viewers, who will need to be re-added if the template is made private again."},s.createElement(N.RadioGroup,{items:[{value:"Yes",label:"Yes",disabled:this.state.disableTemplateViewer},{value:"No",label:"No",disabled:this.state.disableTemplateViewer}],value:J?"Yes":"No",onChange:function(t){e.updateTemplateBasics({templatePublic:"Yes"==t.detail.value})}})),s.createElement("br",null),s.createElement("div",{style:{display:J?"none":"block",border:"solid 1px #e5e5e5"}},s.createElement(w.ActorContainer,n({},ce,{droppableId:"Viewer",enableDynamicTiles:!1,addActor:this.addActor(this.state.viewerList,"CREATE_TEMPLATE_VIEWER","User you are trying to add is already a viewer"),readonlyView:this.state.disableTemplateViewer,removeActor:this.removeActor("DELETE_TEMPLATE_VIEWER","viewerId"),secondaryText:"Add viewers",actors:this.state.viewerList}))))),s.createElement("a",{id:"TemplateAdmins",className:"locator"}),s.createElement(N.FormSection,{id:"templateAdminsSection",header:this.getToolTip(C.TemplateSectionName.TEMPLATE_ADMINS,this.state.disableTemplateAdmins,C.TemplateToolTip.TEMPLATE_ADMINS),description:"Admins can edit the template details, add other viewers and/or admins.",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement("div",{style:{border:"solid 1px #e5e5e5"}},s.createElement(w.ActorContainer,n({},ce,{actors:this.state.adminList||[],droppableId:"ApprovalViewer",enableDynamicTiles:!1,readonlyView:this.state.disableTemplateAdmins,removeActor:this.removeActor("DELETE_TEMPLATE_ADMIN","adminId"),addActor:this.addActor(this.state.adminList||[],"CREATE_TEMPLATE_ADMIN","User you are trying to add is already an admin."),secondaryText:"Add admins"}))))),s.createElement("a",{id:"TemplateTags",className:"locator"}),s.createElement("div",{className:"row",id:"TagsContainer"},s.createElement(U.TagsComponent,{initialReadOnly:!0,showEditOption:le.has(this.state.userRole),templateId:this.props.id})),s.createElement("a",{id:"TemplateReportingPermissions"}),s.createElement(N.FormSection,{id:"templateReportingPermissionsSection",header:this.getToolTip(C.TemplateSectionName.TEMPLATE_REPORTING_PERMISSIONS,this.state.disableTemplateReportingPermissions,C.TemplateToolTip.TEMPLATE_REPORTING_PERMISSIONS),description:"Template reporting permissions control who can create reports on approvals made with this template.",className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement("div",{style:{border:"solid 1px #e5e5e5"}},s.createElement(f.TemplateReportingPermissions,{templateId:this.props.id,readonlyView:this.state.disableTemplateReportingPermissions,dispatch:this.props.dispatch})))),this.state.active&&!i.approvalRecommended&&s.createElement(s.Fragment,null,s.createElement("a",{id:"BulkCreateApprovals",className:"locator"}),s.createElement(N.FormSection,{id:"BulkCreateApprovals",header:s.createElement("div",null,C.TemplateSectionName.BULK_CREATE_APPROVALS),description:s.createElement("p",null,"Learn more about how to use the comma separated values (CSV) file to bulk create approvals in the"," ",s.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/BulkCreateApprovalsFromTemplate/",target:"_blank"},"user guide"),"."),className:"approvalSequenceContainer"},s.createElement("section",{className:"awsui-util-m-l "},s.createElement(N.Button,{text:" Download Template CSV",disabled:this.state.loading,onClick:this.downloadTemplateCSV}))),s.createElement(w.BulkCreateApprovalsFromTemplate,{columns:L.TEMPLATE_CSV_COLUMNS,createKeyDetailHeader:_.createKeyDetailHeader,reverseColumns:_.reverseColumns,createdApprovalFromTemplate:p,clearCreateApprovalFromTemplate:o,createApprovalFromTemplate:c,exportToCSV:_.exportToCSV,postMetric:E,templateId:g,records:M,onCsvUpload:function(t,a){e.setState({bulkUploadRecords:[]});var r=function(e){return v({id:g,content:e.name+": "+e.message,loading:!1,type:"alert",status:"error"})};if(t)return r(t),void E({metricName:"bulkCreateFailedUploads",metricValue:"template "+g,category:"bulkUploadApprovals"});_.parseRecords(a,L.TEMPLATE_CSV_COLUMNS,function(t,a){if(t)return r(t),e.setState({bulkUploadRecords:[]}),void E({metricName:"bulkCreateFailedUploads",metricValue:"template "+g,category:"bulkUploadApprovals"});e.setState({bulkUploadRecords:a}),E({metricName:"bulkCreateSuccessfulUploads",metricValue:"template "+g,category:"bulkUploadApprovals"})})}})),s.createElement("section",{className:"awsui-util-container approvalSequenceContainer"},s.createElement(j.AuditLog,{hashKey:g,attributeList:r,isTemplate:!0,lookupIndex:w.getActorLookupIndex(O,I,P),actorList:[z].concat(w.getApproversFrom(O),k,G,W,[Q],a.admins||[])})))}return s.createElement("section",{className:"wrapper createApprovals approval-template"},s.createElement(R.default,{links:ie,completedItemBackground:"#72B9FF",unavailableItemBackground:"#222E3E",unavailableItemColor:"#d6d6d6",completedItemColor:"black",dividerColor:"#0f1720",attachedDiv:this.getHoverDetail()}),s.createElement("div",{className:"awsui approvalsform"},s.createElement("div",{className:"awsui-util-p-m",id:"templateContent"},s.createElement("a",{id:"BasicDetails",className:"locator"}),s.createElement("div",{className:"awsui-util-pb-m"},s.createElement(l.default,{page:g?"edit":"create",pushPath:this.props.history.push,userRole:this.state.userRole})),oe),s.createElement("div",{className:"awsui-util-clearfix"}),se,s.createElement("br",null),s.createElement("br",null),s.createElement("br",null),s.createElement("br",null)))},TemplateComponent}(s.Component),Q=function(e){return{cloneTemplate:function(t){return e(w.Actions.cloneTemplate(t))},clearCloneTemplate:function(){return e(w.Actions.clearCloneTemplate())},clearCreateApprovalFromTemplate:function(){return e(w.Actions.clearCreateApprovalFromTemplate())},createApprovalFromTemplate:function(t){return e(w.Actions.createApprovalFromTemplate(t))},postMetric:function(t){return e(w.Actions.postMetric(t))},updateNotification:function(t){return e(y.updateNotification({value:t}))},deleteNotification:function(t){return e(y.deleteNotification({value:t}))},clearApprovalAdmins:function(){return e(w.Actions.clearApprovalAdmins())},getApprovalAdmins:function(t){return e(w.Actions.getApprovalAdmins(t))},addApprovalAdmin:function(t){return e(w.Actions.addApprovalAdmin(t))},deleteApprovalAdmin:function(t){return e(w.Actions.deleteApprovalAdmin(t))},getTemplateAttachments:function(t){return e(w.Actions.getTemplateAttachments(t))},getGroupMembers:function(t){return e(w.Actions.getGroupMembers(t))},dispatch:e}};t.default=c.connect(mapStateToProps,Q)(W)},1520:function(e,t,a){"use strict";function mapStateToProps(e){return{templateId:e.templateBasics.id,title:e.templateBasics.title,description:e.templateBasics.description,approvalTitle:e.templateBasics.approvalTitle,approvalSummary:e.templateBasics.approvalSummary,approvalNeededByDays:e.templateBasics.approvalNeededByDays,version:e.templateBasics.version}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(37),c=a(213),p=a(7),u=a(5),d=a(4),m=a(5),f=a(10),E=a(167),h=a(41),v=h.default.div(g||(g=r(["\n"],["\n"]))),A=function(e){function BasicDetails(t){var a=e.call(this,t)||this;return a.displayEditIcon=!1,a.titleInput=null,a.approvalTitleInput=null,a.approvalNeededByDays=null,a.state={saving:!1,titleValidation:{invalid:!1},approvalNeededByDaysValidation:{invalid:!1},alertId:Math.random(),disableBasicDetails:!0},a.updateDescription=a.updateDescription.bind(a),a.updateApprovalSummary=a.updateApprovalSummary.bind(a),a.save=a.save.bind(a),a}return n(BasicDetails,e),BasicDetails.prototype.componentDidMount=function(){this.titleInput&&this.titleInput.focus()},BasicDetails.prototype.componentWillReceiveProps=function(e){e.title&&e.title.trim().length>0&&this.validateTitle(e.title)},BasicDetails.prototype.validateTitle=function(e){e=e||this.props.title;var t=!1,a=null;e&&0!=e.trim().length||(t=!0,a="Template title must be provided.");var r={invalid:t,errorText:a};return this.setState({titleValidation:r}),r},BasicDetails.prototype.updateTitle=function(e){this.props.dispatch(E.templateUpdateBasics({value:{title:e}})),this.validateTitle()},BasicDetails.prototype.updateDescription=function(e){this.props.dispatch(E.templateUpdateBasics({value:{description:e}}))},BasicDetails.prototype.updateApprovalTitle=function(e){this.props.dispatch(E.templateUpdateBasics({value:{approvalTitle:e}}))},BasicDetails.prototype.validateApprovalNeededByDays=function(e){e=e||this.props.approvalNeededByDays;var t=!1,a=null;e||(t=!0,a="Must provide number of days for approval needed by."),Number.isInteger(Number(e))||(t=!0,a="Approval needed by days must be a whole number."),(Number(e)<0||Number(e)>3653)&&(t=!0,a="Approval needed by days must be between 0 and 3653 (10 years).");var r={invalid:t,errorText:a};return this.setState({approvalNeededByDaysValidation:r}),r},BasicDetails.prototype.updateApprovalNeededByDays=function(e){this.validateApprovalNeededByDays(e).invalid||this.props.dispatch(E.templateUpdateBasics({value:{approvalNeededByDays:e}}))},BasicDetails.prototype.updateApprovalSummary=function(e){this.props.dispatch(E.templateUpdateBasics({value:{approvalSummary:e}}))},BasicDetails.prototype.save=function(){return i(this,void 0,void 0,function(){var e,t,a,r,n,i,s,c,p,u,d,m,h,v;return o(this,function(o){switch(o.label){case 0:return e=this.validateTitle(),(t=this.validateApprovalNeededByDays(),e.invalid)?(this.props.dispatch(f.createNotification({value:{id:this.state.alertId,content:e.errorText,loading:!1,type:"alert",status:"warning"}})),this.titleInput&&this.titleInput.focus(),[3,6]):[3,1];case 1:return t.invalid?(this.props.dispatch(f.createNotification({value:{id:this.state.alertId,content:t.errorText,loading:!1,type:"alert",status:"warning"}})),this.approvalNeededByDays&&this.approvalNeededByDays.focus(),[3,6]):[3,2];case 2:this.setState({saving:!0}),this.props.dispatch(f.createNotification({value:{id:this.state.alertId,content:this.props.templateId?"Updating template":"Creating template",loading:!0,type:"alert",status:"warning"}})),a=this.props,r=a.title,n=a.description,i=a.approvalTitle,s=a.approvalSummary,c=a.version,p=a.approvalNeededByDays,u={title:r,description:n,approvalTitle:i,approvalSummary:s,version:this.props.templateId?c:void 0,templateId:void 0,approvalNeededByDays:p},d=void 0,o.label=3;case 3:return o.trys.push([3,5,,6]),this.props.templateId?(d="UPDATE_TEMPLATE",u.templateId=this.props.templateId):d="CREATE_TEMPLATE",[4,l.default({method:d,payload:JSON.stringify(u)})];case 4:return m=o.sent(),h=m.template.id,this.props.templateId||this.props.pushPath("/template/edit/"+h),this.props.dispatch(E.templateUpdateBasics({value:m.template})),this.props.dispatch(f.updateNotification({value:{id:this.state.alertId,duration:3e3,content:this.props.templateId?"Template details updated successfully":"Template "+h+" created successfully.",type:"alert",loading:!1,status:"success"}})),this.setPrevStateValues(),this.setState({saving:!1}),this.cancelInlineEditing(),[3,6];case 5:return v=o.sent(),this.props.dispatch(f.updateNotification({value:{id:this.state.alertId,content:v.message,type:"alert",loading:!1,status:"error"}})),[3,6];case 6:return[2]}})})},BasicDetails.prototype.setPrevStateValues=function(){this.prevTitle=this.props.title,this.prevDescription=this.props.description,this.prevApprovalTitle=this.props.approvalTitle,this.prevApprovalSummary=this.props.approvalSummary,this.prevApprovalNeededByDays=this.props.approvalNeededByDays},BasicDetails.prototype.resetToPrevValues=function(){this.updateTitle(this.prevTitle),this.updateDescription(this.prevDescription),this.updateApprovalTitle(this.prevApprovalTitle),this.updateApprovalSummary(this.prevApprovalSummary),this.updateApprovalNeededByDays(this.prevApprovalNeededByDays)},BasicDetails.prototype.setDisableBasicDetailsState=function(e){this.setState({disableBasicDetails:e})},BasicDetails.prototype.enableInlineEditing=function(){this.setDisableBasicDetailsState(!1),this.setPrevStateValues()},BasicDetails.prototype.cancelInlineEditing=function(){this.setDisableBasicDetailsState(!0),this.resetToPrevValues()},BasicDetails.prototype.render=function(){var e=this,t=this.props,a=t.title,r=t.description,n=t.approvalTitle,i=t.approvalSummary,o=t.approvalNeededByDays,l=this.state,p=l.saving,f=l.titleValidation,E=l.approvalNeededByDaysValidation;return this.props.userRole!=d.TemplateUserRole.ADMIN&&this.props.userRole!=d.TemplateUserRole.OWNER||"create"==this.props.page?this.displayEditIcon=!1:this.displayEditIcon=!0,s.createElement(v,null,s.createElement("form",null,s.createElement(m.FormSection,{header:s.createElement("div",null,s.createElement("span",{"data-testid":"create-template__basic-details"},"Basic Details"),s.createElement("span",{className:1==this.displayEditIcon?"":"displayNone"},s.createElement("span",{className:"detailsEditIcons "+(0==this.state.disableBasicDetails?"displayNone":""),onClick:function(t){return e.enableInlineEditing()}},s.createElement(u.Tooltip,{text:"Edit Basic Details"},s.createElement("i",{className:"fa fa-pencil fa-lg"}))),s.createElement(u.Tooltip,{position:"bottom",text:"Cancel"},s.createElement("span",{className:"detailsEditIcons "+(1==this.state.disableBasicDetails?"displayNone":""),onClick:function(t){return e.cancelInlineEditing()}},s.createElement("i",{className:"fa fa-times fa-lg"}))),s.createElement(u.Tooltip,{position:"bottom",text:"Save"},s.createElement("span",{className:"detailsEditIcons "+(1==this.state.disableBasicDetails?"displayNone":""),onClick:this.save},s.createElement("i",{className:"fa fa-check fa-lg"}))))),description:"These describe your template so others can easily identify it and understand its importance. The approval request fields are values copied into any request created from this template."},s.createElement("section",null,s.createElement(m.FormField,{label:s.createElement("b",{"data-testid":"create-template__template-title"},"Template title"),className:f.invalid?"errorInput":"",stretch:!0,errorText:f.errorText},s.createElement(m.Input,{id:"title",ref:function(t){e.titleInput=t},controlId:"txtTemplateTitle",autofocus:!0,value:a,invalid:f.invalid,disabled:this.state.disableBasicDetails&&"create"!=this.props.page,onChange:function(t){return e.updateTitle(t.detail.value)}})),s.createElement(m.ColumnLayout,{columns:1},s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement(m.FormField,{label:s.createElement("span",null,s.createElement("b",{"data-testid":"create-template__template-description"},"Template Description"),"Â (optional)"),stretch:!0},s.createElement(c.default,{value:r,onChange:this.updateDescription,config:{height:"270px",readOnly:this.state.disableBasicDetails&&"create"!=this.props.page}})))),s.createElement("br",null),s.createElement("br",null),s.createElement("div",{className:"awsui-grid "},s.createElement("div",{className:"awsui-row "},s.createElement("div",{className:"col-xxs-12 col-m-9"},s.createElement(m.FormField,{label:s.createElement("span",{"data-testid":"create-template__approval-request-title"},s.createElement("b",null,"Approval request title"),"Â (copied to new requests)"),stretch:!0},s.createElement(m.Input,{id:"approvalTitle",ref:function(t){e.approvalTitleInput=t},controlId:"txtTitle",autofocus:!1,value:n,disabled:this.state.disableBasicDetails&&"create"!=this.props.page,onChange:function(t){return e.updateApprovalTitle(t.detail.value)}}))),s.createElement("div",{className:"col-xxs-12 col-m-3"},s.createElement(m.FormField,{label:s.createElement("span",null,s.createElement("b",null,"Approval Needed By"),"Â (days after creation)",s.createElement(u.Tooltip,{size:"medium",text:"We will add the number set here to the date when the approval is created and set it as the Needed By date.",position:"left"},s.createElement("i",{style:{marginLeft:"10px"},className:"fa fa-info-circle"}))),stretch:!0,className:E.invalid?"errorInput":"",errorText:E.errorText},s.createElement(m.Input,{id:"approvalNeededByDays",ref:function(t){e.approvalNeededByDays=t},autofocus:!1,value:o.toString(),invalid:E.invalid,disabled:this.state.disableBasicDetails&&"create"!=this.props.page,type:"number",onChange:function(t){return e.updateApprovalNeededByDays(t.detail.value)}}))))),s.createElement(m.ColumnLayout,{columns:1},s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement(m.FormField,{label:s.createElement("span",{"data-testid":"create-template__approval-request-summary"},s.createElement("b",null,"Approval request summary"),"Â (copied to new requests)"),stretch:!0},s.createElement(c.default,{value:i,onChange:this.updateApprovalSummary,config:{height:"270px",removePlugins:"elementspath",readOnly:this.state.disableBasicDetails&&"create"!=this.props.page}})))),s.createElement("div",{id:"divSaveBasicDetails",className:"create"==this.props.page?"":"displayNone"},s.createElement(m.Button,{className:"awsui-util-mt-m",loading:p,variant:"primary",formAction:"none",onClick:this.save,text:"Save details","data-testid":"create-template__save-details-btn"}))))))},BasicDetails}(s.Component);t.default=p.connect(mapStateToProps)(A);var g},1521:function(e,t,a){"use strict";function mapStateToProps(e){return{templateId:e.templateBasics.id,attributes:e.templateAttributes,attributeSelectOptions:e.templateAttributeSelectOptions}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(7),c=a(6),p=a(10),u=a(222),d=a(338),m=a(686),f=a(687),E=a(37),h=a(712),v=function(e){function AttributesContainer(t){var a=e.call(this,t)||this;return a.state={readOnly:!0,attributes:a.props.attributes||[],showHistory:!1},a.showHistory=a.showHistory.bind(a),a.closeHistory=a.closeHistory.bind(a),a}return r(AttributesContainer,e),AttributesContainer.prototype.upsertAttributeLocal=function(e){if(e.type==c.ATTRIBUTE_TYPE.SINGLE_DROPDOWN||e.type==c.ATTRIBUTE_TYPE.MULTI_DROPDOWN){try{JSON.parse(e.value).forEach(function(e){if(1!=e.selected&&0!=e.selected)throw"invalid selected";if(!e.value)throw"invalid value"}),e.value}catch(t){e.value="[]",this.props.dispatch(d.templateUpdateAttributeSelectOptions({value:{visible:!0,attributeId:e.id}}))}if(e.type==c.ATTRIBUTE_TYPE.SINGLE_DROPDOWN){var t=!1;e.value=JSON.stringify(JSON.parse(e.value).map(function(e){return!t&&e.selected?(t=!0,{selected:!0,value:e.value}):{selected:!1,value:e.value}}))}}else e.type==c.ATTRIBUTE_TYPE.CURRENCY||e.type==c.ATTRIBUTE_TYPE.NUMERIC?(e.type==c.ATTRIBUTE_TYPE.CURRENCY&&e.parameter&&!e.parameter.startsWith("CURRENCY")&&(e.parameter=null),e.value=isNaN(parseFloat((e.value||"").replace(/,/g,"")))?null:e.value):e.type==c.ATTRIBUTE_TYPE.CALENDAR?e.value?e.value=isNaN(Date.parse(e.value))?(new Date).toISOString():new Date(e.value).toISOString():e.value="":e.type==c.ATTRIBUTE_TYPE.PHONE_NUMBER?(e.parameter||e.parameter.startsWith("PHONE")||(e.parameter=null),e.value&&e.value.length>15&&(e.value=e.value.substr(0,15))):e.type==c.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER&&(e.name="Unique Identifier");if(e.type!=c.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER&&"Unique Identifier"==e.name&&(e.name=""),e._isValid=!!e.name,e.type==c.ATTRIBUTE_TYPE.SIMPLE_TEXT&&e.value&&e.value.length>0&&"\n"==e.value[e.value.length-1])return e.value=e.value.slice(0,-1),void this.saveAttribute(e);this.props.dispatch(u.templateUpsertAttribute({value:e}))},AttributesContainer.prototype.deleteAttributeLocal=function(e){this.props.dispatch(u.templateDeleteAttribute({value:e}))},AttributesContainer.prototype.getNewKeyTerm=function(){return{templateId:this.props.templateId,id:"new",sortOrder:Object.keys(this.props.attributes).length+1,type:c.ATTRIBUTE_TYPE.SIMPLE_TEXT,name:"",description:"",parameter:"",value:"",locked:!1,required:!1,version:0,canChangeValue:!0,canChangeName:!0,canChangeRequired:!0,canChangeLocked:!0,_isValid:!0,_saving:!1,_editing:!0,_type:"template",_unsave:!0,_canEdit:!0,_canDelete:!1,_canUnlock:!0}},AttributesContainer.prototype.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},AttributesContainer.prototype.deleteAttribute=function(e){return i(this,void 0,void 0,function(){var t,a,r,i,s,l;return o(this,function(o){switch(o.label){case 0:t=this.props,a=t.attributes,r=t.templateId,i=a[e],s=i.sortOrder,o.label=1;case 1:return o.trys.push([1,5,,6]),"new"==e?[3,3]:(this.upsertAttributeLocal(n({},i,{_saving:!0})),[4,E.default({method:"DELETE_TEMPLATE_ATTRIBUTE",payload:JSON.stringify({templateId:r,attributeId:e,version:i.version})})]);case 2:return o.sent(),delete a[e],Object.keys(a).forEach(function(e){var t=a[e];t.sortOrder>s&&(t.sortOrder--,t.version++)}),this.props.dispatch(u.templateLoadAttributes({value:a})),[3,4];case 3:this.deleteAttributeLocal(e),o.label=4;case 4:return[3,6];case 5:return l=o.sent(),this.props.dispatch(p.updateNotification({value:{id:Math.random(),content:l.message,type:"alert",status:"error"}})),this.upsertAttributeLocal(n({},i,{_saving:!1})),[3,6];case 6:return[2]}})})},AttributesContainer.prototype.updateSortOrder=function(e,t){return i(this,void 0,void 0,function(){var a,r,n,i;return o(this,function(o){switch(o.label){case 0:return a=this.getAttributes(),r=a[e],n=t>r.sortOrder?"UP":"DOWN",i=r.sortOrder,r.sortOrder=t,Object.keys(a).forEach(function(r){var o=a[r];o.id!=e&&("DOWN"==n&&o.sortOrder>=t&&o.sortOrder<i?(o.sortOrder++,o.version++):"UP"==n&&o.sortOrder<=t&&o.sortOrder>i&&(o.sortOrder--,o.version++))}),[4,this.saveAttribute(r)];case 1:return o.sent(),r.version++,this.setState({attributes:a}),[2]}})})},AttributesContainer.prototype.saveAttributeById=function(e){return i(this,void 0,void 0,function(){var t,a,r;return o(this,function(n){switch(n.label){case 0:return t=this.getAttributes(),a=t[e],r=m.toAttributeInput(a),[4,this.saveAttribute(a)];case 1:return n.sent(),[2]}})})},AttributesContainer.prototype.saveAttribute=function(e){return i(this,void 0,void 0,function(){var t,a,r,i,s,l,c;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),(t=this.props.templateId,a=m.toAttributeInput(e),this.upsertAttributeLocal(n({},e,{_saving:!0})),r=void 0,e._unsave)?(i=a,i.id=void 0,i.version=void 0,[4,E.default({method:"CREATE_TEMPLATE_ATTRIBUTE",payload:JSON.stringify(n({},a,{templateId:t})),templateId:t})]):[3,2];case 1:return r=o.sent(),this.deleteAttributeLocal("new"),[3,4];case 2:return s=a,s.attributeId=a.id,s.id=void 0,[4,E.default({method:"UPDATE_TEMPLATE_ATTRIBUTE",payload:JSON.stringify(n({},a,{templateId:t}))})];case 3:r=o.sent(),o.label=4;case 4:return l=n({},e,r.attribute,{_unsave:!1}),l._saving=!1,l._editing=!1,this.upsertAttributeLocal(l),[3,6];case 5:return c=o.sent(),console.log(c.stack),this.props.dispatch(p.updateNotification({value:{id:Math.random(),content:c.message,type:"alert",status:"error"}})),this.upsertAttributeLocal(n({},e,{_saving:!1})),[3,6];case 6:return[2]}})})},AttributesContainer.prototype.getAttributes=function(){var e=this.props,t=(e.templateId,e.attributes);return n({},n({new:this.getNewKeyTerm()},t))},AttributesContainer.prototype.getSelectOptionsProps=function(){var e=this,t=this.props.attributeSelectOptions,a=(t.visible,t.attributeId),r={save:null,value:null,close:null,visible:!1,attributeName:null};if(!a)return r;var i=this.getAttributes(),o=i[a];return!o||o.type!=c.ATTRIBUTE_TYPE.MULTI_DROPDOWN&&o.type!=c.ATTRIBUTE_TYPE.SINGLE_DROPDOWN?r:{save:function(t){var a={};try{JSON.parse(o.value).forEach(function(e){if(!e.value)throw"";a[e.value]=e.selected})}catch(e){}t=JSON.stringify(t.split("\n").filter(function(e,t,a){return e&&e.length>0&&a.indexOf(e)==t}).map(function(e){return{value:e,selected:a[e]||!1}})),o._editing?e.upsertAttributeLocal(n({},o,{value:t})):e.saveAttribute(n({},o,{value:t})),e.props.dispatch(d.templateUpdateAttributeSelectOptions({value:{attributeId:null,visible:!1}}))},value:JSON.parse(o.value).map(function(e){return e.value}).join("\n"),close:function(){e.props.dispatch(d.templateUpdateAttributeSelectOptions({value:{attributeId:null,visible:!1}}))},visible:this.props.attributeSelectOptions.visible,attributeName:o.name}},AttributesContainer.prototype.updateAttribute=function(e,t){return i(this,void 0,void 0,function(){var a,r;return o(this,function(i){switch(i.label){case 0:return a=this.getAttributes(),r=n({},a[e],t),"new"!=r.id?[3,2]:[4,this.saveAttribute(r)];case 1:return i.sent(),[3,4];case 2:return[4,this.saveAttribute(r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},AttributesContainer.prototype.showHistory=function(){this.setState({showHistory:!0})},AttributesContainer.prototype.closeHistory=function(){this.setState({showHistory:!1})},AttributesContainer.prototype.render=function(){var e=this,t=this.props,a=t.templateId,r=t.isEditPage,n=t.showEditOption,i=this.getAttributes(),o=!r&&this.state.readOnly;return a?s.createElement("div",null,s.createElement(f.default,{attributes:i,upsertAttributeLocal:this.upsertAttributeLocal.bind(this),deleteAttribute:this.deleteAttribute.bind(this),saveAttribute:this.saveAttributeById.bind(this),updateSortOrder:this.updateSortOrder.bind(this),selectOptionsProps:this.getSelectOptionsProps(),updateAttribute:this.updateAttribute.bind(this),readOnly:o,showEditOption:n,toggleReadOnly:function(){e.setState({readOnly:!e.state.readOnly})},showAttributeSelectOptions:function(t){e.props.dispatch(d.templateUpdateAttributeSelectOptions({value:{visible:!0,attributeId:t}}))},description:"Structured details you want to capture for approvers or reporting. The lock button and Options allow you to lock values or specify value formats."}),s.createElement("div",{className:"awsui-util-t-r awsui-util-mr-m"},s.createElement("a",{className:"awsui-util-t-r",href:"javascript:void(0)",onClick:this.showHistory},"View audit history")),s.createElement(h.default,{attributes:i,visible:this.state.showHistory,close:this.closeHistory,id:a,isTemplate:!0})):null},AttributesContainer}(s.Component);t.default=l.connect(mapStateToProps)(v)},1522:function(e,t,a){"use strict";function mapStateToProps(e){return{reportingPermissions:e.templateReportingPermissions.reportingPermissions,loading:null==e.templateReportingPermissions.reportingPermissions}}function mapDispatchToProps(e){return d.bindActionCreators({getPermissions:m.getTemplateReportingPermissions,givePermissions:m.giveTemplateReportingPermissions,removePermission:m.removeTemplateReportingPermission},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(78),l=a(5),c=a(714),p=a(118),u=a(7),d=a(23),m=a(232),f=a(135),E=a(1523),h=a(10),v=a(1524),A=a(6),g=function(e){function TemplateReportingPermissionsInternal(t){var a=e.call(this,t)||this;return a.myUpdate=p.newContext(),a.getListStyle=function(e){return{background:"none",border:e?"dashed 1px black":"solid 1px transparent"}},a.onDragEnd=a.onDragEnd.bind(a),a.movePotentialFromPeopleSearch=a.movePotentialFromPeopleSearch.bind(a),a.state={peopleSearchResults:[]},a}return r(TemplateReportingPermissionsInternal,e),TemplateReportingPermissionsInternal.prototype.componentWillMount=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,v.wait(A.SEARCH_INDEX_LATENCY)];case 1:return e.sent(),[4,this.props.getPermissions(this.props.templateId)];case 2:return e.sent(),[2]}})})},TemplateReportingPermissionsInternal.prototype.componentDidMount=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.componentWillReceiveProps(this.props)];case 1:return e.sent(),[2]}})})},TemplateReportingPermissionsInternal.prototype.componentWillReceiveProps=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){return e.templateId&&this.setState({}),[2]})})},TemplateReportingPermissionsInternal.prototype.movePotentialFromPeopleSearch=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.onDragEnd({source:{index:e},destination:{}})];case 1:return t.sent(),[2]}})})},TemplateReportingPermissionsInternal.prototype.onDragEnd=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(a){switch(a.label){case 0:return e.destination?(t=this.peopleSearch.getSearchResult()[e.source.index],this.peopleSearch.afterSelect(e),this.dropIsNotDuplicate(t)?[4,this.props.givePermissions(t,[this.props.templateId])]:(this.props.dispatch(h.updateNotification({value:{id:Math.random(),content:"User already has reporting permissions on this template.",type:"alert",status:"warning",duration:3e3}})),[2])):[2];case 1:return a.sent(),this.componentWillReceiveProps(this.props),[2]}})})},TemplateReportingPermissionsInternal.prototype.dropIsNotDuplicate=function(e){var t=e.alias.toLowerCase(),a=!1;return this.props.reportingPermissions.forEach(function(e){e.employee.alias.toLowerCase()===t&&(a=!0)}),!a},TemplateReportingPermissionsInternal.prototype.render=function(){var e=this,t=this.props,a=t.readonlyView,r=t.reportingPermissions,n=t.loading;if(a)return o.createElement("div",{className:"templateReportingPermissionsTableViewOnly"},o.createElement(l.Table,{resizableColumns:!0,columnDefinitions:E.generateTemplateReportingPermissionsTableColumnDefinition(!1,this.props.removePermission,this.props.templateId),loadingText:"Loading permissions...",items:r||[],loading:n,variant:"borderless",empty:"No reporting permissions found."},o.createElement(l.TablePagination,null),o.createElement(l.TableSorting,{sortableColumns:[{id:"name",comparator:this.compareNames}]})));var i=[];return i.push(new f.MenuItem("Add",null,"-",!1)),o.createElement("div",null,o.createElement(s.DragDropContext,{onDragEnd:this.onDragEnd},o.createElement("div",{className:"flex-container"},o.createElement("div",{className:"peopleSearchContainer awsui-util-no-gutters"},o.createElement(c.default,{groupSearchDisabled:!0,onActorMenuItemClick:function(t,a){e.movePotentialFromPeopleSearch(a)},actorMenuItems:i,subHeaderText:"Drag & drop users to the right.",searchResults:this.state.peopleSearchResults,setSearchResults:function(t){return e.setState({peopleSearchResults:t})},onRef:function(t){Object.keys(t).forEach(function(a){return e[a]=t[a]})}})),o.createElement(s.Droppable,{droppableId:"Admin",ignoreContainerClipping:!1,isDropDisabled:!1,type:"actor",direction:"horizontal"},function(t,a){return o.createElement("div",{ref:t.innerRef,style:e.getListStyle(a.isDraggingOver),className:"droppingContainer"},o.createElement("div",{className:"templateReportingPermissionsTableContainer awsui-util-no-gutters"},o.createElement(l.Table,{columnDefinitions:E.generateTemplateReportingPermissionsTableColumnDefinition(!0,e.props.removePermission,e.props.templateId),loadingText:"Loading permissions...",items:r||[],loading:n,variant:"borderless",empty:"No reporting permissions found."},o.createElement(l.TablePagination,null),o.createElement(l.TableSorting,{sortableColumns:[{id:"name",comparator:e.compareNames}]}))))}),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:"awsui-util-clearfix"})),o.createElement("div",{className:"awsui-util-clearfix"})))},TemplateReportingPermissionsInternal.prototype.compareNames=function(e,t){return(e.employee.firstName+" "+e.employee.lastName).toLowerCase()>(t.employee.firstName+" "+t.employee.lastName).toLowerCase()?1:-1},TemplateReportingPermissionsInternal}(o.Component);t.TemplateReportingPermissions=u.connect(mapStateToProps,mapDispatchToProps)(g)},1523:function(e,t,a){"use strict";function getEmailCell(e){return e?r.createElement("span",null,r.createElement("a",{className:"email-template-reporting-permission",href:"mailto:"+e},e)):r.createElement("span",null,"(Refresh for email)")}function getNameCell(e,t,a){var i=n.ServiceEndPoints.phoneToolLink+a;return r.createElement("span",null,r.createElement("a",{href:i,target:"_blank"},e+" "+t))}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=a(4),i=a(1),o=function(e,t,a){return r.createElement("span",null,r.createElement("a",{className:"remove-template-reporting-permission",onClick:function(){a(e,t)}},"Remove"))};t.generateTemplateReportingPermissionsTableColumnDefinition=function(e,t,a){var n=[];return e&&n.push({id:"removeColumn",header:"Remove?",cell:function(e){return o(e.employee,a,t)},allowLineWrap:!1}),n.push({id:"name",header:"Name",cell:function(e){return getNameCell(e.employee.firstName,e.employee.lastName,e.employee.alias)}}),n.push({id:"alias",header:"Alias",cell:function(e){return e.employee.alias}}),n.push({id:"jobTitle",header:"Title",cell:function(e){return e.employee.title}}),n.push({id:"departmentName",header:"Department",cell:function(e){return e.employee.departmentName}}),n.push({id:"email",header:"Email",cell:function(e){return getEmailCell(e.employee.email)}}),n.push({id:"addedOn",header:"Added On",cell:function(e){return e.addedOn?r.createElement("span",null,i(e.addedOn).format("MM-DD-YYYY")):r.createElement("span",null,"N.A.")}}),n.push({id:"addedBy",header:"Added By",cell:function(e){return e.addedBy?getNameCell(e.addedBy.firstName,e.addedBy.lastName,e.addedBy.alias):r.createElement("span",null,"N.A.")}}),n}},1524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=function(e){return new Promise(function(t){setTimeout(t,e)})}},1525:function(e,t,a){"use strict";function mapStateToProps(e){return{templateId:e.templateBasics.id,active:e.templateBasics.active}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(7),s=a(77),l=a(41),c=l.default.div(u||(u=r(["\n    display: ",";\n    position: fixed;\n    bottom: 5px;\n    height: 33px;\n    width: calc(100% - 78px);\n    left: 78px;\n    font-size: 20px;\n    z-index: 1;\n    #createApproval, #activeTemplate, #deactivateTemplate{\n        float: left;\n        height: 100%;\n        width: calc(50% - 15px);\n        color: white;\n        line-height: 33px;\n        text-align: center;\n        &:hover {\n            cursor: pointer;\n            text-decoration: none;\n        }\n        border-radius: 7px;\n        margin-left: 5px;\n    }\n    #createApproval{\n        display: ",";\n        border-right: 1px solid white;\n        background: #8cc6ff;\n        &:hover {\n            background: #409ffd;\n        }\n    }\n    #activeTemplate{\n        width: 50%;\n        display: ",";\n        background: #8cc6ff;\n        &:hover {\n            background: #409ffd;\n        }\n    }\n    #deactivateTemplate{\n        background: #95989A;\n        &:hover {\n            background: black;\n        }\n        width: 50%;\n        display: ",";\n    }\n"],["\n    display: ",";\n    position: fixed;\n    bottom: 5px;\n    height: 33px;\n    width: calc(100% - 78px);\n    left: 78px;\n    font-size: 20px;\n    z-index: 1;\n    #createApproval, #activeTemplate, #deactivateTemplate{\n        float: left;\n        height: 100%;\n        width: calc(50% - 15px);\n        color: white;\n        line-height: 33px;\n        text-align: center;\n        &:hover {\n            cursor: pointer;\n            text-decoration: none;\n        }\n        border-radius: 7px;\n        margin-left: 5px;\n    }\n    #createApproval{\n        display: ",";\n        border-right: 1px solid white;\n        background: #8cc6ff;\n        &:hover {\n            background: #409ffd;\n        }\n    }\n    #activeTemplate{\n        width: 50%;\n        display: ",";\n        background: #8cc6ff;\n        &:hover {\n            background: #409ffd;\n        }\n    }\n    #deactivateTemplate{\n        background: #95989A;\n        &:hover {\n            background: black;\n        }\n        width: 50%;\n        display: ",";\n    }\n"])),function(e){return e.templateId?"":"none"},function(e){return e.active?"":"none"},function(e){return e.active?"none":""},function(e){return e.active?"":"none"}),p=function(e){function TemplateActionsContainer(t){var a=e.call(this,t)||this;return a.state={creatingApproval:!1},a}return n(TemplateActionsContainer,e),TemplateActionsContainer.prototype.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},TemplateActionsContainer.prototype.render=function(){var e=this,t=this.props,a=t.templateId,r=t.active;return i.createElement(c,{templateId:a,active:r},i.createElement(s.Link,{id:"createApproval",to:"/template/createApproval/"+a,"data-testid":"detail-page__create-approval-from-template-button"},"CREATE APPROVAL FROM TEMPLATE"),i.createElement("div",{onClick:function(){e.props.setActive(!0)},id:"activeTemplate"},"ACTIVATE TEMPLATE"),i.createElement("div",{onClick:function(){e.props.setActive(!1)},id:"deactivateTemplate"},"DEACTIVATE TEMPLATE"))},TemplateActionsContainer}(i.Component);t.default=o.connect(mapStateToProps)(p);var u},1526:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(7),o=a(30),s=a(6),l=a(5),c=a(760),p=function(e){function TemplateFavoritesContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new o.MetricPageLatencyTimer,a.state={isFavoriteTemplate:!1,favoriteTemplatesList:[]},a.updateFavoritesButton=a.updateFavoritesButton.bind(a),a}return r(TemplateFavoritesContainer,e),TemplateFavoritesContainer.prototype.componentDidMount=function(){this.props.getFavoriteTemplatesList(),this.props.isLoading||this.metricPageLatencyTimer.publishPageLatency(s.CLIENT_METRICS_METHOD_NAMES.FAVORITE_TEMPLATES)},TemplateFavoritesContainer.prototype.componentDidUpdate=function(e,t,a){if(this.props.isSucceeded&&this.props.preferencesData&&this.props.preferencesData.userPreferences&&(!e.preferencesData||e.preferencesData!==this.props.preferencesData)){var r=this.props.preferencesData.userPreferences,n=0==r.length?[]:r[0].keyValue;-1!==n.indexOf(this.props.templateId)?this.setState({isFavoriteTemplate:!0}):this.setState({isFavoriteTemplate:!1}),this.setState({favoriteTemplatesList:n})}},TemplateFavoritesContainer.prototype.updateFavoritesButton=function(e){this.props.updateFavoritesTemplates(this.props.templateId,this.state.isFavoriteTemplate),this.setState({isFavoriteTemplate:!this.state.isFavoriteTemplate})},TemplateFavoritesContainer.prototype.render=function(){return this.props.isSucceeded?n.createElement(l.Tooltip,{size:"medium",text:this.state.isFavoriteTemplate?"Remove Template from favorites":"Add Template to favorites",position:"right"},n.createElement("i",{onClick:this.updateFavoritesButton,className:"fa fa-lg "+(this.state.isFavoriteTemplate?"fa-star":"fa-star-o")})):n.createElement("div",null)},TemplateFavoritesContainer}(n.Component),u=function(e){return{isLoading:e.TemplateFavorites.isLoading,isError:e.TemplateFavorites.isError,isSucceeded:e.TemplateFavorites.isSucceeded,preferencesData:e.TemplateFavorites.preferencesData}},d=function(e){return{updateFavoritesTemplates:function(t,a){e(c.updateFavoritesTemplates(t,a))},getFavoriteTemplatesList:function(){e(c.getFavoriteTemplatesList())}}};t.default=i.connect(u,d)(p)},1534:function(e,t){},1545:function(e,t,a){"use strict";function mapStateToProps(e){return{allowToGeneratePreSignedLinkForImage:e.permission.allowToGeneratePreSignedLinkForImage,endedAtStatus:e.HistoryService.endedAtStatus}}function mapDispatchToProps(e){return E.bindActionCreators({checkGeneratePreSignedLinkForImagePermission:h.checkGeneratePreSignedLinkForImagePermission,updateNotification:p.updateNotification,getTemplateAttachments:function(t){return e(v.Actions.getTemplateAttachments(t))}},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(682),c=a(7),p=a(10),u=a(5),d=a(8),m=a(4),f=a(683),E=a(23),h=a(233),v=a(13),A=function(e){function TemplateAttachments(t){var a=e.call(this,t)||this;return a.versionModalTitle="Versions",a.state={templateId:t.templateId,pendingAttachments:null,versionModalVisible:!1,versionModalContent:null,embedImageModalVisible:!1,embedImageModalContent:null,embedImageModalFooter:null},a.uploadNewAttachmentVersion=a.uploadNewAttachmentVersion.bind(a),a.displayVersions=a.displayVersions.bind(a),a.displayEmbedUrlWarning=a.displayEmbedUrlWarning.bind(a),a.dismissVersionModal=a.dismissVersionModal.bind(a),a.dismissEmbedImageModal=a.dismissEmbedImageModal.bind(a),a}return r(TemplateAttachments,e),TemplateAttachments.prototype.componentDidMount=function(){this.thisStore=this,this.props.checkGeneratePreSignedLinkForImagePermission(),this.props.getTemplateAttachments({templateId:this.props.templateId})},TemplateAttachments.prototype.onDrop=function(e){var t=e;this.uploadAttachment(t,null,null)},TemplateAttachments.prototype.uploadAttachment=function(e,t,a){for(var r=this,n=this,i=this,o=0;o<e.length;o++)!function(o){var s=!1,l=f.createAttachment(e[o],t,a,!0,n.state.templateId),c=new FormData;c.append("file",l.file);var p=m.ServiceEndPoints.attachment+"?templateId="+l.templateId+"&attachmentName="+encodeURIComponent(l.title);null!=t&&(p+="&attachmentId="+t+"&version="+l.version,s=!0),i.isValidFile(l,s)&&d.default.post(p,c).then(function(e){e.data.isError?s&&(r.props.updateNotification({value:{id:Math.random(),content:"Failed to upload new version, please try again.",type:"alert",status:"error"}}),r.props.getTemplateAttachments({templateId:l.templateId})):r.props.getTemplateAttachments({templateId:l.templateId})}).catch(function(e){s?(r.props.updateNotification({value:{id:Math.random(),content:"Failed to upload new version, please try again.",type:"alert",status:"error"}}),r.props.getTemplateAttachments({templateId:l.templateId})):r.changeDocumentStatus(l,null,!0)})}(o)},TemplateAttachments.prototype.dismissVersionModal=function(){this.setState({versionModalVisible:!1,versionModalContent:null})},TemplateAttachments.prototype.displayEmbedUrlWarning=function(e){return i(this,void 0,void 0,function(){var t,a=this;return o(this,function(r){return t=s.createElement("span",{className:"awsui-util-f-r"},s.createElement("button",{onClick:function(){return a.getPublicUrlClick(e)},className:"btn btn-primary",id:"generatePublicUrl"},"Generate Public URL")),this.setState({embedImageModalVisible:!0,embedImageModalContent:f.EmbedUrlWarningContent,embedImageModalFooter:t}),[2]})})},TemplateAttachments.prototype.dismissEmbedImageModal=function(){this.setState({embedImageModalVisible:!1,embedImageModalContent:null,embedImageModalFooter:null})},TemplateAttachments.prototype.getPublicUrlClick=function(e){var t=this,a=e.versions[e.versions.length-1].fileUri,r=null;d.default.get(m.ServiceEndPoints.getTemplateAttachmentPublicUrl+"?fileUri="+a+"&templateId="+e.templateId+"&attachmentId="+e.id).then(function(e){r=e.data.data,console.log(r),t.dismissEmbedImageModal();var a=f.getPublicUrlContent(r),n=f.getPublicUrlFooter();t.setState({embedImageModalVisible:!0,embedImageModalContent:a,embedImageModalFooter:n})}).catch(function(e){t.props.updateNotification({value:{id:Math.random(),content:"Failed to generate public URL",type:"alert",status:"error"}})})},TemplateAttachments.prototype.changeDocumentStatus=function(e,t,a){var r=f.setStatus(e,this.state.pendingAttachments,t,a);this.setState({pendingAttachments:r})},TemplateAttachments.prototype.isValidFile=function(e,t){var a;return e.title.indexOf(".")>-1&&(a=e.title.split(".").pop()),a&&f.supportedFiles.has(a.toLocaleLowerCase())?!(e.file.size>f.maxFileSize)||(t?(this.props.updateNotification({value:{id:Math.random(),content:f.fileLargeSizeMessage,type:"alert",status:"error"}}),this.props.getTemplateAttachments({templateId:e.templateId})):(e.errorMessage=f.fileLargeSizeMessage,this.changeDocumentStatus(e,null,!0)),!1):(t?(this.props.updateNotification({value:{id:Math.random(),content:f.fileUnSupportedMessage,type:"alert",status:"error"}}),this.props.getTemplateAttachments({templateId:e.templateId})):(e.errorMessage=f.fileUnSupportedMessage,this.changeDocumentStatus(e,null,!0)),!1)},TemplateAttachments.prototype.displayVersions=function(e){if(e){var t=this.props.attachments.attachments.filter(function(t){return t.id==e});if(t&&t[0].versions&&t[0].versions.length>0){var a=t[0].versions.map(function(a){var r=[],i={id:e,templateId:t[0].templateId,fileUri:a.fileUri,fileName:a.name,version:a.version,createdBy:a.createdBy,createdAt:a.createdAt};return r.push(s.createElement(_,n({},i,{key:a.id}))),r});this.setState({versionModalVisible:!0,versionModalContent:a})}else alert("Not able to get the versions")}},TemplateAttachments.prototype.render=function(){var e=[],t=this;return this.state.pendingAttachments&&this.state.pendingAttachments.forEach(function(a){a.isProcessing?e.push(s.createElement(T,n({key:a.templateId},a))):a.failed&&e.push(s.createElement(y,n({key:a.tempId},a,{onClick:function(){return t.deleteFailedAttachment(a)}})))}),s.createElement("div",null,s.createElement("div",null,!t.props.readOnly&&s.createElement(l,{onDrop:this.onDrop.bind(this),className:"drag-drop-section",activeClassName:"drag-drop-section-active"},s.createElement("strong",{className:""},"Drag and Drop File(s)"),s.createElement("br",null),s.createElement("span",null,"or"),s.createElement("br",null),s.createElement("a",{href:"javascript:void(0)",className:"site-btn site-btn-dark nm"},"Browse"))),t.props.readOnly&&0==e.length&&this.props.attachments.attachments&&0==this.props.attachments.attachments.length&&s.createElement("h5",null,"There are no attachments associated with this template"),e,this.props.attachments.attachments.map(function(e){return s.createElement(g,n({},e,{key:e.id,onClick:function(){return t.deleteAttachment(e.id,e.templateId,e.version)},onNewVersionClick:function(a){return t.uploadNewAttachmentVersion(a,e)},displayVersions:function(){return t.displayVersions(e.id)},displayEmbedUrl:function(){return t.displayEmbedUrlWarning(e)},allowToGeneratePreSignedLinkForImage:t.props.allowToGeneratePreSignedLinkForImage,readonly:t.props.readOnly}))}),s.createElement("div",{className:"awsui-util-clearfix"}),s.createElement(u.Modal,{visible:this.state.versionModalVisible,content:this.state.versionModalContent,header:s.createElement("span",{className:"nobackgroundcolor"},"Versions"),size:"large",onDismiss:this.dismissVersionModal}),s.createElement(u.Modal,{id:"embedImageModal",visible:this.state.embedImageModalVisible,content:this.state.embedImageModalContent,header:s.createElement("span",{className:"nobackgroundcolor"},"Get public URL for Summary"),size:"large",onDismiss:this.dismissEmbedImageModal,footer:this.state.embedImageModalFooter}))},TemplateAttachments.prototype.uploadNewAttachmentVersion=function(e,t){e.target.files&&e.target.files.length>0&&this.uploadAttachment(e.target.files,e.target.id,t.version)},TemplateAttachments.prototype.deleteAttachment=function(e,t,a){var r=this,n=m.ServiceEndPoints.attachment+"?templateId="+t+"&attachmentId="+e+"&version="+a,i=this.props.attachments.attachments.find(function(t){return t.id==e});i.isProcessing=!1,i.isUpdating=!0,d.default.delete(n).then(function(e){200!=e.status?(r.props.updateNotification({value:{id:Math.random(),content:"Failed to delete the attachment.",type:"alert",status:"error"}}),r.props.getTemplateAttachments({templateId:t})):r.props.getTemplateAttachments({templateId:t})}).catch(function(e){r.props.updateNotification({value:{id:Math.random(),content:"Failed to delete the attachment.",type:"alert",status:"error"}}),r.props.getTemplateAttachments({templateId:t})})},TemplateAttachments.prototype.deleteFailedAttachment=function(e){var t=this.state.pendingAttachments;this.setState({pendingAttachments:t.filter(function(t){return t.id!==e.id})})},TemplateAttachments}(s.Component),g=function(e){function invokeFileUploadCtrl(e){o.click()}var t,a,r,n,i,o,l=1,c="";return e.versions&&e.versions.length>0&&(l=e.versions.length,a=e.versions[l-1].fileUri,r=e.versions[l-1].name,i=e.versions[l-1].createdBy.displayName,n=new Date(e.versions[l-1].createdAt).toLocaleDateString()),r&&(c=f.getFileExtClassName(r)),e.createdAt&&(t=new Date(e.createdAt).toLocaleDateString()),e.readonly?s.createElement("div",{key:e.id,className:"docColumn"},s.createElement("div",{className:" attachedDocThumb "+c},s.createElement("a",{href:m.ServiceEndPoints.downloadTemplateAttachment+"?templateId="+encodeURIComponent(e.templateId)+"&attachmentId="+encodeURIComponent(e.id)+"&fileUri="+encodeURIComponent(a)+"&fileName="+encodeURIComponent(r)},s.createElement("p",{className:"docTitle"},r)),s.createElement("p",{className:"versionUploadDate"},"Latest version uploaded ",n,"Â  by"," ",i," "),s.createElement("p",{className:"versionUploadDate"},"File originally uploaded on ",t,"Â  by"," ",e.createdBy.displayName),s.createElement("div",{className:"version"},"V",l)),s.createElement("p",{className:"doc-nav"},s.createElement("a",{href:"#3433",className:"dropdown-list",onClick:e.displayVersions},"View all versions"),e.allowToGeneratePreSignedLinkForImage&&"imageIcon"===f.getFileExtClassName(r)?s.createElement(s.Fragment,null,s.createElement("span",{className:"hrVert"}),s.createElement("a",{href:"#3434",className:"dropdown-item",onClick:e.displayEmbedUrl,id:"getPublicUrlForSummaryLink"},"Get public URL for Summary")):null)):s.createElement("div",{key:e.id,className:"docColumn"},s.createElement("div",{className:" attachedDocThumb "+c},s.createElement("a",{href:m.ServiceEndPoints.downloadTemplateAttachment+"?templateId="+encodeURIComponent(e.templateId)+"&attachmentId="+encodeURIComponent(e.id)+"&fileUri="+encodeURIComponent(a)+"&fileName="+encodeURIComponent(r)},s.createElement("p",{className:"docTitle"},r)),s.createElement("p",{className:"versionUploadDate"},"Latest version uploaded ",n,"Â  by"," ",i," "),s.createElement("p",{className:"versionUploadDate"},"File originally uploaded on ",t,"Â  by"," ",e.createdBy.displayName),e.isUpdating?s.createElement("div",{className:"version"},s.createElement(u.Spinner,null)):s.createElement("div",{className:"version"},"V",l),s.createElement("span",{className:"delete",onClick:function(){e.isUpdating||e.onClick()}})),s.createElement("p",{className:"doc-nav"},s.createElement("a",{href:"#3r432",onClick:invokeFileUploadCtrl},s.createElement("input",{type:"file",ref:function(e){return o=e},className:"displayNone",onChange:e.onNewVersionClick,id:e.id}),s.createElement("span",{className:"addCircleSmall"},"+"),"Â Â Upload new")," ",s.createElement("span",{className:"hrVert"}),s.createElement("a",{href:"#3433",className:"dropdown-list",onClick:e.displayVersions},"View all versions"),e.allowToGeneratePreSignedLinkForImage&&"imageIcon"===f.getFileExtClassName(r)?s.createElement(s.Fragment,null,s.createElement("span",{className:"hrVert"}),s.createElement("a",{href:"#3434",className:"dropdown-item",onClick:e.displayEmbedUrl},"Get public URL for Summary")):null))},T=function(e){return s.createElement("div",{key:e.tempId,className:"docColumn"},s.createElement("div",{className:"attachedDocThumb"},s.createElement("a",{href:"#"},s.createElement("p",{className:"docTitle"},e.title)),s.createElement("p",{className:"uploadingText"},s.createElement(u.Spinner,null)," Uploading document"),s.createElement("div",{className:"version"},s.createElement(u.Spinner,null))))},y=function(e){var t="Failed to upload document, please try again.";return e.errorMessage&&(t=e.errorMessage),s.createElement("div",{key:e.templateId,className:"docColumn"},s.createElement("div",{className:"attachedDocThumb"},s.createElement("a",{href:"#"},s.createElement("p",{className:"docTitle"},e.title)),s.createElement("p",{className:"awsui-util-status-negative"},t," "),s.createElement("div",{className:"version-warning"},s.createElement(u.Icon,{variant:"error",name:"status-warning"})),s.createElement("span",{className:"delete",onClick:e.onClick})))},_=function(e){var t,a=(e.id,e.templateId,e.fileUri),r=e.fileName,n=e.version,i=e.createdBy,o=e.createdAt;o&&(t=new Date(o).toLocaleDateString());var l;return r&&(l=f.getFileExtClassName(r)),s.createElement("div",{key:e.id,className:"versiondoc_Column"},s.createElement("div",{className:"attachedDocThumb "+l},s.createElement("a",{href:m.ServiceEndPoints.downloadTemplateAttachment+"?templateId="+encodeURIComponent(e.templateId)+"&attachmentId="+encodeURIComponent(e.id)+"&fileUri="+encodeURIComponent(a)+"&fileName="+encodeURIComponent(r)},s.createElement("p",{className:"docTitle"},r)),s.createElement("p",{className:"versionUploadDate"},"Document version number - ",n),s.createElement("p",{className:"versionUploadDate"},"Version uploaded by ",i.displayName," on ",t)))};t.default=c.connect(mapStateToProps,mapDispatchToProps)(A)},1546:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(7),s=a(139),l=a(4),c=a(10),p=a(6),u=a(1547),d=a(51),m=a(30),f=function(e){function DelegationContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new m.MetricPageLatencyTimer,a.removeDelegation=a.removeDelegation.bind(a),a.showDelegationModal=a.showDelegationModal.bind(a),a.dismissModal=a.dismissModal.bind(a),a.state={viewDelegationModal:!1},a}return r(DelegationContainer,e),DelegationContainer.prototype.componentDidMount=function(){document.title=this.props.addTitle("Delegation Settings - "),this.props.loadDelegationRules()},DelegationContainer.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},DelegationContainer.prototype.componentDidUpdate=function(){this.props.isLoading||this.metricPageLatencyTimer.publishPageLatency(p.CLIENT_METRICS_METHOD_NAMES.DELEGATION_SETTINGS)},DelegationContainer.prototype.showDelegationModal=function(){this.setState({viewDelegationModal:!0})},DelegationContainer.prototype.removeDelegation=function(e){this.props.deleteDelegationRule(e)},DelegationContainer.prototype.dismissModal=function(){this.setState({viewDelegationModal:!1})},DelegationContainer.prototype.render=function(){var e=this,t=[];if(!this.props.isLoading&&this.props.isError)return this.props.showNotification("We are unable to load your delegation settings, please try again."),n.createElement("div",null);t=this.props.isLoading||this.props.isError?[]:this.props.delegationRules.data&&this.props.delegationRules.data.delegationRecordList;var a=[{id:"Apr",header:"Applicable Requests",cell:function(e){return e.delegationType==l.DelegationType.APPROVAL_REQUEST?n.createElement("a",{href:"/Approval/Details/"+e.approvalId,target:"_blank"},e.approvalId):"All"}},{id:"sDate",header:"Start Date",cell:function(e){return new Date(e.startDate).toLocaleDateString()}},{id:"eDate",header:"End Date",cell:function(e){return new Date(e.endDate).toLocaleDateString()}},{id:"delegatee",header:"Delegate",cell:function(e){return e.delegatee&&e.delegatee.actorType==l.ActoryType.PRINCIPAL?e.delegatee.delegateeInfo&&e.delegatee.delegateeInfo.displayName:e.delegatee.groupName+" ("+d.getGroupDisplayName(e.delegatee.actorType)+")"}},{id:"remove",header:"",cell:function(t){return n.createElement(i.Button,{text:"Remove",variant:"link",onClick:function(){return e.removeDelegation(t.id)},icon:"status-negative"})}}];return n.createElement("div",{className:"awsui"},n.createElement(i.FormSection,{header:"Delegation",description:"You can create delegation rules for out-of-office that apply generally to all approval requests or specifically to one or more. Specific rules prevail over general ones when dates overlap. Multiple general rules may exist if their dates donâ€™t overlap."},n.createElement("section",{className:"awsui-util-mb-m"},n.createElement(i.Table,{loading:this.props.isLoading,columnDefinitions:a,items:t,variant:"borderless",empty:n.createElement("div",{className:"awsui-util-t-c"},n.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},n.createElement("b",null,"There are no delegations set.")))})),n.createElement(i.Button,{text:"Add Delegation",onClick:this.showDelegationModal,variant:"primary"})),n.createElement(u.default,{showModal:this.state.viewDelegationModal,onDismissClick:this.dismissModal}))},DelegationContainer}(n.Component),E=function(e){return{delegationRules:e.DelegationService.delegationRules,isLoading:e.DelegationService.isLoading,isError:e.DelegationService.error}},h=function(e){return{loadDelegationRules:function(){e(s.getDelegationRules())},deleteDelegationRule:function(t){e(s.deleteDelegationRule(t))},showNotification:function(t){e(c.updateNotification({value:{id:Math.random(),content:t,type:"alert",status:"error"}}))}}};t.default=o.connect(E,h)(f)},1547:function(e,t,a){"use strict";function mapStateToProps(e){return{approvals:e.AllApprovals,isApprovalsDataLoading:e.DelegationService.isGetPendingApprovalsLoading,getApprovalsFailed:e.DelegationService.getPendingApprovalsFailed,getApprovalsFailedMsg:e.DelegationService.getPendingApprovalsFailedMsg,peopleResults:e.PeopleSearch.peopleResults,isCreateDelegationPending:e.DelegationService.isCreateDelegationPending,delegationCreated:e.DelegationService.isCreateDelegationSucceeded,delegationFailed:e.DelegationService.isCreateDelegationFailed,delegationFailedMsg:e.DelegationService.createDelegationErrorMsg}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(86),l=a(72),c=a(7),p=a(23),u=a(190),d=a(262),m=a(46),f=a(264),E=a(10),h=a(139),v=a(4),A=a(265),g=a(57),T=function(e){function DelegationSearchModalComponent(t){var a=e.call(this,t)||this;return a.selectedItems=[],a.pageSize=8,a.selectedApprovalId=[],a.selectedDelegatee=null,a.isCreateDelegationPending=!1,a.delegationCreated=!1,a.pendingAlertId=Math.random(),a.delegationFailed=!1,a.errorAlertId=Math.random(),a.textColumnFilters=[],a.getColumns=function(){var e=[];return e.push({id:"title",cell:function(e){if(e.isFilter)return e.title;var t=document.createElement("textarea");return t.innerHTML=e.title,i.createElement("div",null,i.createElement("a",{className:"wordBreakAll",href:"/Approval"+("DRAFT"===e.status?"/Edit/":"/Details/")+e.id},t.value))},header:function(){return"Title"},allowLineWrap:!0,minWidth:"230px",sortable:!0},{id:"id",header:"Id",cell:function(e){return e.isFilter?e.id:i.createElement("a",{href:"/Approval/Details/"+e.id,target:"_blank"},e.id)},sortable:!0},{id:"requester",header:"Created By",cell:function(e){return e.isFilter?e.requester:e.requester&&e.requester.actor&&e.requester.actor.displayName},sortable:!0}),e},a.sortRows=function(e,t){return e.isFilter||t.isFilter?0:e.title.toLowerCase()>t.title.toLowerCase()?1:-1},a.state={showModal:a.props.showModal,showApprovalRequest:!1,peopleSuggestions:[],peopleSuggestedValue:"",fromDate:new Date,toDate:new Date,delegationSelectedVal:""},a.viewState={From:0,Size:a.pageSize,filters:{},selectedPersonFilter:null,isDelegate:!0},a.selectedDelegationType=a.selectedDelegationType.bind(a),a.onPaginationChange=a.onPaginationChange.bind(a),a.getPeopleSuggestions=a.getPeopleSuggestions.bind(a),a.onPeopleInputChange=a.onPeopleInputChange.bind(a),a.clearSuggestions=a.clearSuggestions.bind(a),a.renderSuggestion=a.renderSuggestion.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.getSuggestionValue=a.getSuggestionValue.bind(a),a.onDelegationSave=a.onDelegationSave.bind(a),a.deleteDelegatee=a.deleteDelegatee.bind(a),a.closeDialog=a.closeDialog.bind(a),a.updateFilters=a.updateFilters.bind(a),a.resetAllFilters=a.resetAllFilters.bind(a),a.addTextCF=function(e){return a.textColumnFilters.push(e)},a}return r(DelegationSearchModalComponent,e),DelegationSearchModalComponent.prototype.selectedDelegationType=function(e){var t=e.detail.value;"all"==t?this.setState({showApprovalRequest:!1,delegationSelectedVal:t}):(this.setState({showApprovalRequest:!0,delegationSelectedVal:t}),this.resetAllFilters(),this.props.getAllPendingApprovals(this.viewState))},DelegationSearchModalComponent.prototype.closeDialog=function(){this.resetAllFilters(),this.props.deleteNotification(this.errorAlertId),this.props.onDismissClick()},DelegationSearchModalComponent.prototype.deleteDelegatee=function(){this.selectedDelegatee=null,this.forceUpdate()},DelegationSearchModalComponent.prototype.onPaginationChange=function(e){this.viewState.Size!=this.pageSize?this.viewState.From=0:this.viewState.From=(e.detail.currentPageIndex-1)*this.pageSize,this.viewState.Size=this.pageSize,this.props.getAllPendingApprovals(this.viewState)},DelegationSearchModalComponent.prototype.getPeopleSuggestions=function(e){e.value&&e.value.length>=3&&this.props.queryPeopleSearch(e.value)},DelegationSearchModalComponent.prototype.onPeopleInputChange=function(e,t){var a=t.newValue;t.method;this.setState({peopleSuggestedValue:a})},DelegationSearchModalComponent.prototype.clearSuggestions=function(){this.setState({peopleSuggestions:[]})},DelegationSearchModalComponent.prototype.getSuggestionValue=function(e){return e.type,v.ActoryType.PRINCIPAL,this.selectedDelegatee=e,""},DelegationSearchModalComponent.prototype.renderSuggestion=function(e){return e.type==v.ActoryType.PRINCIPAL?i.createElement(f.default,{employee:e}):i.createElement(A.default,{group:e})},DelegationSearchModalComponent.prototype.resetAllFilters=function(){this.viewState.filters={},this.viewState.selectedPersonFilter=null,this.viewState.actorFilter=null,this.textColumnFilters.forEach(function(e){return e&&e.setValue("")})},DelegationSearchModalComponent.prototype.onSelectionChange=function(e){if(e.detail.selectedItems.length>0){this.selectedApprovalId=[];for(var t=0;t<e.detail.selectedItems.length;t++)this.selectedApprovalId.push(e.detail.selectedItems[t].id)}else this.selectedApprovalId=[]},DelegationSearchModalComponent.prototype.onDelegationSave=function(){if(!this.selectedDelegatee)return void this.props.showNotification({id:this.errorAlertId,content:"Please select delegatee",type:"alert",status:"info"});if(!this.state.fromDate)return void this.props.showNotification({id:this.errorAlertId,content:"Please select Start date",type:"alert",status:"info"});if(!this.state.toDate)return void this.props.showNotification({id:this.errorAlertId,content:"Please select End date",type:"alert",status:"info"});if(!this.state.delegationSelectedVal)return void this.props.showNotification({id:this.errorAlertId,content:"Please select the rule you would like to apply",type:"alert",status:"info"});if(this.state.fromDate>this.state.toDate)return void this.props.showNotification({id:this.errorAlertId,content:"Start Date should be always greater than End Date",type:"alert",status:"info"});var e=this.selectedDelegatee.type==v.ActoryType.PRINCIPAL?this.selectedDelegatee.alias:this.selectedDelegatee.groupName;if("specificApr"==this.state.delegationSelectedVal){if(0==this.selectedApprovalId.length)return void this.props.showNotification("Please select approval request");this.props.createDelegationRule(this.selectedApprovalId,e,this.selectedDelegatee.type,this.state.fromDate,this.state.toDate)}else this.props.createDelegationForAll(e,this.selectedDelegatee.type,this.state.fromDate,this.state.toDate)},DelegationSearchModalComponent.prototype.componentWillReceiveProps=function(e){e.isCreateDelegationPending&&this.isCreateDelegationPending!=e.isCreateDelegationPending&&(this.props.showNotification({id:this.pendingAlertId,content:"Adding delegation rule",loading:!0,type:"alert",status:"info"}),this.isCreateDelegationPending=e.isCreateDelegationPending,this.delegationCreated=e.delegationCreated,this.delegationFailed=e.delegationFailed),e.delegationCreated&&this.delegationCreated!=e.delegationCreated&&(this.props.deleteNotification(this.pendingAlertId),this.props.showNotification({id:Math.random(),content:"Delegation added successfully.",loading:!1,type:"alert",status:"success",duration:2500}),this.isCreateDelegationPending=e.isCreateDelegationPending,this.delegationCreated=e.delegationCreated,this.delegationFailed=e.delegationFailed,this.props.onDismissClick()),e.delegationFailed&&this.delegationFailed!=e.delegationFailed&&(this.props.deleteNotification(this.pendingAlertId),this.props.showNotification({id:Math.random(),content:e.delegationFailedMsg,loading:!1,type:"alert",status:"error"}),this.isCreateDelegationPending=e.isCreateDelegationPending,this.delegationCreated=e.delegationCreated,this.delegationFailed=e.delegationFailed),this.props.showModal!=e.showModal&&(this.selectedItems=[],this.selectedApprovalId=[],this.selectedDelegatee=null,this.delegationFailed=!1,this.setState({peopleSuggestions:[],peopleSuggestedValue:"",fromDate:new Date,toDate:new Date,showApprovalRequest:!1,delegationSelectedVal:null}))},DelegationSearchModalComponent.prototype.getTableItems=function(){var e=[],t=0;if(!this.props.isApprovalsDataLoading&&this.props.approvals&&this.props.approvals.data){e=Array.from(this.props.approvals.data.data.ApprovalSearch.approvals),t=this.props.approvals.data.data.ApprovalSearch.total;var a=[{filterColumn:"id",filterType:"TextColumnFilter",id:"approvalId",updateParentText:this.updateFilters,ref:this.addTextCF},{filterColumn:"title",filterType:"TextColumnFilter",id:"title",updateParentText:this.updateFilters,ref:this.addTextCF}],r=g.getFilterEnabledTableItems(a);r.isFilter=!0,e.unshift(r)}return[e,t]},DelegationSearchModalComponent.prototype.updateFilters=function(e){this.viewState.filters=n({},this.viewState.filters,e),this.viewState.From=0,this.props.getAllPendingApprovals(this.viewState)},DelegationSearchModalComponent.prototype.render=function(){var e=this,t=[],a=this.state.peopleSuggestedValue,r=[{value:"all",label:"All"},{value:"specificApr",label:"Specific Request"}],n={placeholder:"Search name, title and/or dept",value:a,onChange:this.onPeopleInputChange};return this.props.peopleResults.data&&this.props.peopleResults.data.length>0&&(t=this.props.peopleResults.data),i.createElement("div",{className:"awsui"},i.createElement(o.Modal,{size:"max",expandToFit:!0,content:i.createElement("div",{className:"delegation modal-search-container"},i.createElement("div",null,i.createElement(o.ColumnLayout,{columns:4},i.createElement("div",{"data-awsui-column-layout-root":"true"},i.createElement(o.FormField,{label:i.createElement("b",null,"Search for Name")},i.createElement(d,{suggestions:t,onSuggestionsFetchRequested:this.getPeopleSuggestions,onSuggestionsClearRequested:this.clearSuggestions,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:n}),i.createElement("div",{className:"selectedDelegatee"},i.createElement(y,{selectedDelegatee:this.selectedDelegatee,onDelete:this.deleteDelegatee}))),i.createElement(o.FormField,{label:i.createElement("b",null,"Start Date")},i.createElement(s.default,{formatDate:l.formatDate,parseDate:l.parseDate,disabled:!1,value:this.state.fromDate,dayPickerProps:{disabledDays:{before:new Date}},onDayChange:function(t,a){e.setState({fromDate:t})},placeholder:"MM/DD/YYYY"})),i.createElement(o.FormField,{label:i.createElement("b",null,"End Date")},i.createElement(s.default,{formatDate:l.formatDate,parseDate:l.parseDate,disabled:!1,value:this.state.toDate,dayPickerProps:{disabledDays:{before:new Date(this.state.fromDate)}},onDayChange:function(t,a){e.setState({toDate:t})},placeholder:"MM/DD/YYYY"})),i.createElement(o.FormField,{label:i.createElement("b",null,"I would like this rule to apply to:")},i.createElement(o.RadioGroup,{value:this.state.delegationSelectedVal,items:r,onChange:this.selectedDelegationType}))))),i.createElement(o.ColumnLayout,{columns:1},i.createElement("div",{"data-awsui-column-layout-root":"true"},this.state.showApprovalRequest&&0==this.getTableItems()[0].length&&i.createElement("div",{style:{textAlign:"center"}},i.createElement(o.Spinner,{size:"large"})),this.state.showApprovalRequest&&this.getTableItems()[0].length>0&&i.createElement("div",{id:"home-table",className:"settings-table-action-deactive"},i.createElement(o.Table,{columnDefinitions:this.getColumns(),items:this.getTableItems()[0],variant:"borderless",empty:i.createElement("div",{className:"awsui-util-t-c"},i.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},i.createElement("b",null,"There are no approvals requests pending with you now or soon.")))},i.createElement(o.TablePagination,{pagesCount:null==this.getTableItems()[0]?0:Math.ceil(this.getTableItems()[1]/this.viewState.Size),openEnd:!1,onPaginationChange:this.onPaginationChange}),i.createElement(o.TableSelection,{onSelectionChange:this.onSelectionChange,selectionType:"multi",isItemDisabled:function(e){return"isFilter"in e}}),i.createElement(o.TableSorting,{sortingColumn:"title",sortableColumns:[{id:"title",comparator:this.sortRows}]})))))),visible:this.props.showModal,header:"Add Delegation",onDismiss:this.closeDialog,footer:i.createElement("span",{className:"awsui-util-f-r"},i.createElement("button",{className:"btn btn-alert",onClick:this.props.onDismissClick},"Cancel"),i.createElement("button",{className:"btn btn-primary",onClick:this.onDelegationSave},"Save"))}))},DelegationSearchModalComponent}(i.Component),y=function(e){return e.selectedDelegatee?e.selectedDelegatee.type==v.ActoryType.PRINCIPAL?i.createElement(f.default,{showDelete:!0,employee:e.selectedDelegatee,onDelete:e.onDelete,selected:!0,onCheckBoxChange:e.onDelete}):i.createElement(A.default,{group:e.selectedDelegatee,showDelete:!0,onDelete:e.onDelete,selected:!0,onCheckBoxChange:e.onDelete}):null},_=function(e){return n({queryPeopleSearch:function(t){e(m.queryPeopleSearch(t))},showNotification:function(t){e(E.updateNotification({value:t}))},createDelegationRule:function(t,a,r,n,i){e(h.createDelegationRuleForMultipleApproval(t,a,r,n,i))},createDelegationForAll:function(t,a,r,n){e(h.createDelegationRuleForAll(t,a,r,n))},deleteNotification:function(t){e(E.deleteNotification({value:t}))}},p.bindActionCreators({getAllPendingApprovals:u.default},e))};t.default=c.connect(mapStateToProps,_)(T)},1548:function(e,t,a){"use strict";function mapStateToProps(e){return{templateId:e.templateBasics.id,title:e.templateBasics.approvalTitle,summary:e.templateBasics.approvalSummary,templateDescription:e.templateBasics.description,neededOnDate:y().add(e.templateBasics.approvalNeededByDays,"day").endOf("day").toDate(),version:e.templateBasics.version,escalationEnabled:e.templateBasics.escalationEnabled,escalationPeriodInDays:e.templateBasics.escalationPeriodInDays}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(37),c=a(213),p=a(86),u=a(756),d=a(72),m=a(7),f=a(5),E=a(41),h=a(10),v=a(167),A=a(215),g=a(6),T=E.default.div(N||(N=r(["\n    .awsui{\n        padding-top: 54px;\n    }\n    .errorInput{\n        span{\n            .awsui-input{\n                &:focus{\n                    border: 1px solid #df3312;\n                    box-shadow: 0 0 0 1px #df3312;\n                }\n            }\n        }\n    }\n    .awsui .awsui-util-container {\n        box-shadow: none;\n        border-top: none;\n    }\n    #templateDescription {\n        margin-left: 16px;\n        margin-right: 16px;\n    }\n"],["\n    .awsui{\n        padding-top: 54px;\n    }\n    .errorInput{\n        span{\n            .awsui-input{\n                &:focus{\n                    border: 1px solid #df3312;\n                    box-shadow: 0 0 0 1px #df3312;\n                }\n            }\n        }\n    }\n    .awsui .awsui-util-container {\n        box-shadow: none;\n        border-top: none;\n    }\n    #templateDescription {\n        margin-left: 16px;\n        margin-right: 16px;\n    }\n"]))),y=a(1),_=function(e){function CreateApprovalFromTemplate(t){var a=e.call(this,t)||this;return a.titleInput=null,a.neededOnDateInput=null,a.state={saving:!1,titleValidation:{invalid:!1},neededOnDateValidation:{invalid:!1},title:null,summary:null,neededOnDate:null,priority:"NONE",escalationEnabled:!1,escalationPeriodInDays:0},a.save=a.save.bind(a),a}return n(CreateApprovalFromTemplate,e),CreateApprovalFromTemplate.prototype.componentDidMount=function(){document.title=this.props.addTitle("Create Approval - "),this.titleInput&&this.titleInput.focus()},CreateApprovalFromTemplate.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},CreateApprovalFromTemplate.prototype.componentWillMount=function(){return i(this,void 0,void 0,function(){var e,t;return o(this,function(a){switch(a.label){case 0:return e=this.props.templateId,t=this.props.match.params.templateId,console.log(t+" "+e),t?e&&e==t?[3,2]:[4,this.loadBasicDetails(t)]:[3,2];case 1:a.sent(),this.setState({title:null,summary:null}),a.label=2;case 2:return[2]}})})},CreateApprovalFromTemplate.prototype.loadBasicDetails=function(e){return i(this,void 0,void 0,function(){var t,a,r;return o(this,function(n){switch(n.label){case 0:t=Math.random(),n.label=1;case 1:return n.trys.push([1,3,,4]),this.props.dispatch(h.createNotification({value:{id:t,content:"Loading template "+e,loading:!0,type:"alert",status:"info"}})),[4,l.default({method:"GET_TEMPLATE",payload:JSON.stringify({templateId:e})})];case 2:return a=n.sent(),this.props.dispatch(v.templateUpdateBasics({value:a.template})),this.props.dispatch(h.deleteNotification({value:t})),[3,4];case 3:return r=n.sent(),console.log(r),this.props.dispatch(h.updateNotification({value:{id:t,content:r.message,type:"alert",loading:!1,status:"error"}})),[3,4];case 4:return[2]}})})},CreateApprovalFromTemplate.prototype.validateTitle=function(){var e=this.getTitle(),t=!1,a=null;e&&0!=e.trim().length||(t=!0,a="Approval title must be provided.");var r={invalid:t,errorText:a};return this.setState({titleValidation:r}),r},CreateApprovalFromTemplate.prototype.validateNeededOnDate=function(){var e=this.getNeededOnDate(),t=!1,a=null;e&&0!=e.toString().trim().length?u.DateUtils.isPastDay(e)&&(t=!0,a="Needed on date can't be in the past."):(t=!0,a="Needed on date must be provided.");var r={invalid:t,errorText:a};return this.setState({neededOnDateValidation:r}),r},CreateApprovalFromTemplate.prototype.getNavigationBarLinks=function(){var e=null;return[{available:!0,targetId:"BasicDetails",text:"Basic Details",iconClass:"fa-info-circle"},{available:e,targetId:"KeyDetails",text:"Key Details",iconClass:"fa-table"},{available:e,targetId:"Sequence",text:"Approval Plan",iconClass:"fa-users"},{available:e,targetId:"Attachments",text:"Attachments",iconClass:"fa-paperclip"},{available:e,targetId:"Viewers",text:"Viewers",iconClass:"fa-eye"},{available:e,targetId:"Questionnaire",text:"Questionnaire",iconClass:"fa-question-circle"}]},CreateApprovalFromTemplate.prototype.getTitle=function(){return""==this.state.title?"":this.state.title||this.props.title},CreateApprovalFromTemplate.prototype.getPriority=function(){return this.state.priority?this.state.priority||this.props.priority:"NONE"},CreateApprovalFromTemplate.prototype.getSummary=function(){return""==this.state.summary?"":this.state.summary||this.props.summary},CreateApprovalFromTemplate.prototype.getNeededOnDate=function(){return""==this.state.neededOnDate?"":this.state.neededOnDate||this.props.neededOnDate},CreateApprovalFromTemplate.prototype.getEscalationEnabled=function(){return!this.state.escalationEnabled&&(this.state.escalationEnabled||this.props.escalationEnabled)},CreateApprovalFromTemplate.prototype.getEscalationPeriodInDays=function(){return this.state.escalationPeriodInDays?null:this.state.escalationPeriodInDays||this.props.escalationPeriodInDays},CreateApprovalFromTemplate.prototype.save=function(){return i(this,void 0,void 0,function(){var e,t,a,r,n,i,s,c,p,u,d,m;return o(this,function(o){switch(o.label){case 0:return e=this.validateTitle(),(t=this.validateNeededOnDate(),a=Math.random(),e.invalid)?(this.props.dispatch(h.createNotification({value:{id:a,content:e.errorText,type:"alert",status:"warning"}})),this.titleInput&&this.titleInput.focus(),[3,7]):[3,1];case 1:return t.invalid?(this.props.dispatch(h.createNotification({value:{id:a,content:t.errorText,type:"alert",status:"warning"}})),this.neededOnDateInput&&this.neededOnDateInput.input.focus(),[3,7]):[3,2];case 2:r=this.props.templateId,this.setState({saving:!0}),this.props.dispatch(h.createNotification({value:{id:a,content:"Creating approval from template "+r,loading:!0,type:"alert",status:"info"}})),n={title:this.getTitle(),summary:this.getSummary(),neededOnDate:this.getNeededOnDate(),templateId:r,priority:this.getPriority(),escalationEnabled:this.getEscalationEnabled(),escalationPeriodInDays:this.getEscalationPeriodInDays()},i="CREATE_APPROVAL_FROM_TEMPLATE",o.label=3;case 3:return o.trys.push([3,5,,6]),[4,l.default({method:i,payload:JSON.stringify(n)})];case 4:return s=o.sent(),c=s.approvalFull.approval.id,this.props.dispatch(h.updateNotification({value:{id:a,content:"Approval "+c+" created from template successfully",loading:!1,type:"alert",status:"success",duration:5e3}})),p=this.state,u=p.title,d=p.summary,this.props.history.push("/approval/edit/"+c+"?createdFromTemplate=true"),[3,6];case 5:return m=o.sent(),this.props.dispatch(h.updateNotification({value:{id:a,content:m.message,type:"alert",status:"error",loading:!1}})),[3,6];case 6:this.setState({saving:!1}),o.label=7;case 7:return[2]}})})},CreateApprovalFromTemplate.prototype.render=function(){var e=this,t=this.getTitle(),a=this.getSummary(),r=this.getNeededOnDate(),n=(this.getPriority(),this.state),i=n.saving;n.titleValidation;return s.createElement(T,null,s.createElement(A.default,{links:this.getNavigationBarLinks(),completedItemBackground:"#F5CD69",unavailableItemBackground:"#B4B4B4",unavailableItemColor:"#C7C7C7",completedItemColor:"black",dividerColor:"#A2A2A2"}),s.createElement("form",{className:"awsui"},s.createElement(f.Alert,{id:"templateDescription",header:"Template description",content:s.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.templateDescription}}),dismissible:!0}),s.createElement(f.FormSection,{header:"Basic details",description:"These basic details will describe your approval request so everyone involved in the approval process knows what they are approving."},s.createElement("section",null,s.createElement("div",{className:"awsui-grid "},s.createElement("div",{className:"awsui-row "},s.createElement("div",{className:"col-xxs-12 col-m-6"},s.createElement(f.FormField,{label:"Title",stretch:!0},s.createElement(f.Input,{ref:function(t){e.titleInput=t},controlId:"txtTitle",autofocus:!0,value:t,onChange:function(t){e.setState({title:t.detail.value})}}))),s.createElement("div",{className:"col-xxs-12 col-m-3"},s.createElement(f.FormField,{label:"Needed on date",stretch:!0},s.createElement("div",{className:"DatePickerContainer"},s.createElement(p.default,{style:{width:"100%"},ref:function(t){e.neededOnDateInput=t},inputProps:{className:"awsui-input"},value:r,formatDate:d.formatDate,parseDate:d.parseDate,interactionDisabled:!0,onDayChange:function(t){e.setState({neededOnDate:y(t).endOf("day").toDate()})},placeholder:"MM/DD/YYYY",disabled:!0,dayPickerProps:{disabledDays:{before:new Date}}})))),s.createElement("div",{className:"col-xxs-12 col-m-3"},s.createElement(f.FormField,{label:s.createElement("b",null,"Priority"),stretch:!0},s.createElement(f.Select,{options:g.PRIORITY_TYPE_OPTIONS,selectedId:this.state.priority,onChange:function(t){e.setState({priority:t.detail.selectedId})}}))))),s.createElement(f.ColumnLayout,{columns:1},s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement(f.FormField,{label:"Summary",stretch:!0},s.createElement(c.default,{value:a,onChange:function(t){t!=e.state.summary&&e.setState({summary:t})},config:{height:"270px"}})))),s.createElement("div",{id:"divSaveCreateApprovalFromTemplate"},s.createElement(f.Button,{className:"awsui-util-mt-m",loading:i,variant:"primary",formAction:"none",onClick:this.save,text:"Create approval from template"}))))))},CreateApprovalFromTemplate}(s.Component);t.default=m.connect(mapStateToProps)(_);var N},1549:function(e,t,a){"use strict";function mapStateToProps(e){return{templates:e.template_dashboard_allTemplates,preferencesData:e.TemplateFavorites.preferencesData}}function mapDispatchToProps(e){return l.bindActionCreators({getAllTemplates:u.default,getFavoriteTemplatesList:v.getFavoriteTemplatesList},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(0),s=a(7),l=a(23),c=a(8),p=a(5),u=a(1550),d=a(37),m=a(4),f=a(30),E=a(6),h=a(1),v=a(760),A=a(764),g=a(57),T=a(13),y=[{id:g.ColumnId.TITLE,cell:function(e){return i.createElement("div",null,i.createElement("a",{className:"wordBreakAll",href:"/Template/Details/"+e.id},e.title))},header:function(){return"Title"},allowLineWrap:!0,minWidth:"230px",sortable:!0},{id:g.ColumnId.ID,header:function(){return"Template Id"},cell:function(e){return i.createElement("div",null,i.createElement("a",{href:"/Template/Details/"+e.id},e.id))},allowLineWrap:!0,minWidth:"150px",sortable:!0},{id:g.ColumnId.CREATED_AT,header:function(){return"Created on"},cell:function(e){return i.createElement("span",null,h(e.createdAt).format("MM-DD-YYYY"))},allowLineWrap:!0,minWidth:"150px",sortable:!0},{id:g.ColumnId.OWNER,header:function(){return"Owner"},cell:function(e){return i.createElement("span",null,e.owner.actor.displayName)},allowLineWrap:!0,minWidth:"230px"},{id:g.ColumnId.CREATED_BY,header:function(){return"Created By"},cell:function(e){return i.createElement("span",null,e.createdBy.displayName)},allowLineWrap:!0,minWidth:"230px"}],_=[{label:"Approval properties",options:[{id:g.ColumnId.TITLE,label:"Title",editable:!0,visible:!0},{id:g.ColumnId.ID,label:"Template Id",editable:!1,visible:!0},{id:g.ColumnId.CREATED_AT,label:"Created On",editable:!0,visible:!0},{id:g.ColumnId.CREATED_BY,label:"Created By",editable:!0,visible:!0},{id:g.ColumnId.OWNER,label:"Owner",editable:!0,visible:!0}]}],N=[{value:10,label:"10 Templates"},{value:20,label:"20 Templates"},{value:30,label:"30 Templates"},{value:50,label:"50 Templates"},{value:100,label:"100 Templates"}],R=0,S=20,P={INPROGRESS:{label:"In progress",class:"info"},FAILED:{label:"Failed",class:"error"},SUCCESS:{label:"Success",class:"success"},NONE:{label:"None",class:""}},b=function(e){function TemplateDashboardComponent(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new f.MetricPageLatencyTimer,a.onTabChange=a.onTabChange.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.createApprovalFromTemplate=a.createApprovalFromTemplate.bind(a),a.updateTemplateBasics=a.updateTemplateBasics.bind(a),a.countUpdate=a.countUpdate.bind(a),a.setListTable=function(e){return a.listTable=e},a.ViewState={CurrentTab:a.props.redirectedState.activeTab,TextFilterKeyword:"",SearchTerm:a.props.redirectedState.searchTerm,SearchType:a.props.redirectedState.searchType,From:R,Size:S,sortBy:g.ColumnId.CREATED_AT,sortDesc:!0,selectedTemplateId:null,sortOption:a.props.redirectedState.activeTab===g.TabId.search?g.SortOptionId.RELEVANCE:g.SortOptionId.COLUMN,favoriteTemplatesList:[]},a.state={approvalCreationState:P.NONE,selectedTemplateState:null,activeCount:null,inactiveCount:null,publicCount:null,searchCount:null,favoriteTemplatesCount:null},a}return r(TemplateDashboardComponent,e),TemplateDashboardComponent.prototype.componentDidMount=function(){var e=this;document.title=this.props.addTitle("Templates - "),this.props.getFavoriteTemplatesList(),"/Templates"===this.props.location.pathname&&this.props.history.replace("/Templates/active"),this.props.getAllTemplates(this.ViewState).then(function(){e.props.templates&&e.props.templates.data?e.setState({searchCount:e.props.templates.data.data.TemplateSearch.total}):e.setState({searchCount:0})}),this.countUpdate(this.ViewState.favoriteTemplatesList),this.props.getAllTemplates(this.ViewState)},TemplateDashboardComponent.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},TemplateDashboardComponent.prototype.componentDidUpdate=function(e,t,a){var r=this;if(e.preferencesData&&e.preferencesData.userPreferences){if(this.props.preferencesData&&e.preferencesData.userPreferences[0].keyValue!==this.props.preferencesData.userPreferences[0].keyValue){var n=this.props.preferencesData.userPreferences;this.ViewState.favoriteTemplatesList=0===n.length?[]:n[0].keyValue,this.countUpdate(this.ViewState.favoriteTemplatesList),this.props.getAllTemplates(this.ViewState)}}else this.props.getFavoriteTemplatesList();"/Templates"===this.props.location.pathname&&this.props.history.replace("/Templates/active"),this.ViewState.SearchTerm===this.props.redirectedState.searchTerm&&this.ViewState.SearchType===this.props.redirectedState.searchType&&this.ViewState.CurrentTab===this.props.redirectedState.activeTab||(this.ViewState.SearchTerm=this.props.redirectedState.searchTerm,this.ViewState.SearchType=this.props.redirectedState.searchType,this.ViewState.CurrentTab=this.props.redirectedState.activeTab,this.listTable.setDataProps({from:R,sortOption:this.ViewState.CurrentTab===g.TabId.search?g.SortOptionId.RELEVANCE:g.SortOptionId.COLUMN}),this.props.getAllTemplates(this.ViewState).then(function(){r.props.templates&&r.props.templates.data&&r.setState({searchCount:r.props.templates.data.data.TemplateSearch.total})})),this.state.activeCount&&this.state.inactiveCount&&this.state.publicCount&&this.state.favoriteTemplatesCount&&this.metricPageLatencyTimer.publishPageLatency(E.CLIENT_METRICS_METHOD_NAMES.SEARCH_TEMPLATES)},TemplateDashboardComponent.prototype.countUpdate=function(e){var t=this;[{key:"activeCount",query:'{TemplateSearch(from:0 size:0 match:{ active:true} roleList: [\\"TEMPLATE_ADMIN\\", \\"TEMPLATE_OWNER\\", \\"TEMPLATE_VIEWER\\"]) {total} }'},{key:"inactiveCount",query:'{TemplateSearch(from:0 size:0  match:{ active:false} roleList: [\\"TEMPLATE_ADMIN\\", \\"TEMPLATE_OWNER\\", \\"TEMPLATE_VIEWER\\"]) {total} }'},{key:"publicCount",query:"{TemplateSearch(from:0 size:0  match:{templatePublic:true} ) {total} }"},{key:"favoriteTemplatesCount",query:"{TemplateSearch(from:0 size:0 matchAnyInList: {id: ["+A.getFavoriteTemplatesListQuery(e)+"]}) {total} }"}].forEach(function(e){var a=e.key,r=e.query;if("favoriteTemplatesCount"===a&&0===t.ViewState.favoriteTemplatesList.length)return void t.setState((i={},i[a]=0,i));var n=new URLSearchParams;n.append("query",r),c.default.post(m.baseUrl+"/api/homepage/container/post",n).then(function(e){t.setState((r={},r[a]=e.data.data.TemplateSearch.total,r));var r});var i})},TemplateDashboardComponent.prototype.onTabChange=function(e){this.ViewState.CurrentTab=e.detail.activeTabId,this.props.redirectedState.activeTab=e.detail.activeTabId,this.listTable.setDataProps({from:R,sortOption:this.ViewState.CurrentTab===g.TabId.search?g.SortOptionId.RELEVANCE:g.SortOptionId.COLUMN}),this.props.getAllTemplates(this.ViewState);var t="";if(this.ViewState.SearchTerm&&this.ViewState.CurrentTab===g.TabId.search){var a=new URLSearchParams;a.append("q",this.ViewState.SearchTerm),t="?"+a}this.props.history.push("/Templates/"+g.tabPath[this.ViewState.CurrentTab]+t)},TemplateDashboardComponent.prototype.onSelectionChange=function(e){0!==e.length?(document.getElementById("template-action").classList.remove("home-action"),document.getElementById("template-table").classList.add("template-table-action-active"),document.getElementById("template-table").classList.remove("template-table-action-deactive")):(document.getElementById("template-action").classList.add("home-action"),document.getElementById("template-table").classList.add("template-table-action-deactive"),document.getElementById("template-table").classList.remove("template-table-action-active")),e[0]&&(this.ViewState.selectedTemplateId=e[0].id,this.setState({selectedTemplateState:e[0].active}))},TemplateDashboardComponent.prototype.createApprovalFromTemplate=function(){this.props.history.push("/template/createApproval/"+this.ViewState.selectedTemplateId)},TemplateDashboardComponent.prototype.updateTemplateBasics=function(e){var t=this;this.setState({approvalCreationState:P.INPROGRESS});try{d.default({method:"GET_TEMPLATE",payload:JSON.stringify({templateId:this.ViewState.selectedTemplateId})}).then(function(a){return d.default({method:"UPDATE_TEMPLATE",payload:JSON.stringify(n({templateId:t.ViewState.selectedTemplateId,version:a.template.version},e))}).then(function(){setTimeout(function(){t.setState({approvalCreationState:P.SUCCESS}),t.props.getAllTemplates(t.ViewState),t.countUpdate(t.ViewState.favoriteTemplatesList)},1100)})})}catch(e){this.setState({approvalCreationState:P.FAILED}),console.log(e)}},TemplateDashboardComponent.prototype.render=function(){var e=this,t=[g.createTab(g.TabId.active,{text:"My Active Templates",tooltipText:"Templates where you are a creator, administrator or a viewer",width:"200px",totalCount:this.state.activeCount}),g.createTab(g.TabId.inactive,{text:"My Inactive Templates",tooltipText:"Deactivated templates where you are a creator, administrator or a viewer",width:"200px",totalCount:this.state.inactiveCount}),g.createTab(g.TabId.public,{text:"Public Templates",tooltipText:"Templates that have been marked public",width:"200px",totalCount:this.state.publicCount}),g.createTab(g.TabId.favoriteTemplates,{text:"Favorite Templates",tooltipText:"Templates that have been marked as favorites",width:"200px",totalCount:this.state.favoriteTemplatesCount})],a=g.createTab(g.TabId.search,{text:"Search Results for Templates",totalCount:this.state.searchCount}),r=[{label:"Column",description:"Use sort indicators on columns",id:g.SortOptionId.COLUMN},{label:"Relevance",description:"Sort by relevance to search term",disabled:this.ViewState.CurrentTab!==g.TabId.search,id:g.SortOptionId.RELEVANCE}];return i.createElement("div",null,i.createElement("section",{className:"wrapper createApprovals "},i.createElement("div",{className:"awsui"},i.createElement(p.Tabs,{id:"home-tabs",tabs:(this.ViewState.SearchTerm||this.ViewState.CurrentTab===g.TabId.search?t.concat([a]):t).map(function(e){var t=e.id,a=e.labelProps;return{id:t,label:i.createElement(T.PageTabLabel,n({},a)),content:null}}),activeTabId:this.ViewState.CurrentTab,onChange:this.onTabChange}),this.state.approvalCreationState!==P.NONE&&i.createElement(p.Flash,{onDismiss:function(){e.setState({approvalCreationState:P.NONE})},id:"template-flash",type:this.state.approvalCreationState.class,dismissible:!0,content:this.state.approvalCreationState.label,loading:this.state.approvalCreationState===P.INPROGRESS}),i.createElement("div",{id:"template-table",className:"template-table-action-deactive awsui-util-p-m"},i.createElement(T.ListTable,{columnDefinitions:y,empty:"No data",items:this.props.templates&&this.props.templates.data?this.props.templates.data.data.TemplateSearch.templates.map(function(e){return e.id=parseInt(e.id),e}):[],cancelLabel:"Cancel",confirmLabel:"Confirm",contentSelectorOptions:_,contentSelectorTitle:"Columns to display",data:this.props.templates&&this.props.templates.data?this.props.templates.data.data.TemplateSearch:{total:0},defaultSortBy:g.ColumnId.CREATED_AT,defaultSortOption:this.ViewState.sortOption,pageSizeInit:S,pageSizeOptions:N,pageSizeSelectorTitle:"Items per page",preferencesTitle:"Preferences",ref:this.setListTable,selectionType:"single",setParentState:function(t){return e.setState(t)},sortable:this.ViewState.sortOption===g.SortOptionId.COLUMN,sortOptions:this.ViewState.CurrentTab===g.TabId.search?r:null,updateDataProps:function(t){var a=e.ViewState,r=function(e){return{from:"From",pageSize:"Size"}[e]||e};Object.entries(t).forEach(function(e){var t=e[0],n=e[1];a[r(t)]=n}),e.props.getAllTemplates(e.ViewState)},updateSelection:this.onSelectionChange}))),i.createElement(T.StickyFooter,{id:"template-action",className:"approve _active home-action",buttons:function(t,a){var r=t.selectedTemplateState,n=a.selectedTemplateId,i=[{id:"EDIT",attributes:{className:"conditions",onClick:function(){return e.props.history.push("/Template/Edit/"+n)}},content:"EDIT"},{id:"ACTIVE_INACTIVE_TEMPLATE",attributes:{className:"reject",onClick:function(){return e.updateTemplateBasics({active:!r})}},content:r?"DEACTIVATE":"ACTIVATE"}];return r?[{id:"CREATEAPPROVAL",attributes:{className:"approval",onClick:e.createApprovalFromTemplate},content:"CREATE APPROVAL FROM TEMPLATE"}].concat(i):i}(this.state,this.ViewState)})))},TemplateDashboardComponent}(o.Component);t.default=s.connect(mapStateToProps,mapDispatchToProps)(b)},1550:function(e,t,a){"use strict";function allTemplates(e){if(e.CurrentTab===o.TabId.search&&!e.SearchTerm)return{type:"TEMPLATE_DASHBOARD_ALL_TEMPLATES",payload:Promise.resolve({data:{data:{TemplateSearch:{total:0,templates:[]}}}})};var t=n.default(e),a=new URLSearchParams;return a.append("query",t),{type:"TEMPLATE_DASHBOARD_ALL_TEMPLATES",payload:r.default.post(i.baseUrl+"/api/template/container/post/templates",a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(764),i=a(4),o=a(57);t.default=allTemplates},1551:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(7),s=a(168),l=a(10),c=a(30),p=a(6),u=function(e){function QuickLinksContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new c.MetricPageLatencyTimer,a.alertId=Math.random(),a.state={quickLinkName:"",quickLinkUrl:"",urlInvalid:!1,nameInvalid:!1},a.addQuickLink=a.addQuickLink.bind(a),a.onNameChange=a.onNameChange.bind(a),a.onUrlChange=a.onUrlChange.bind(a),a.onDelete=a.onDelete.bind(a),a}return r(QuickLinksContainer,e),QuickLinksContainer.prototype.onDelete=function(e){if(console.log(e),this.props.quickLinksData.quickLinksString&&this.props.quickLinksData.quickLinksString.length>0){var t=this.props.quickLinksData.quickLinksString;if(t.splice(e,1),0==t.length){var a={name:"default",url:"default"};this.props.postQuickLinks([JSON.stringify(a)])}else this.props.postQuickLinks(t)}},QuickLinksContainer.prototype.addQuickLink=function(){if(!this.state.quickLinkName)return void this.setState({nameInvalid:!0});if(!this.state.quickLinkUrl)return void this.setState({urlInvalid:!0});var e={name:this.state.quickLinkName,url:this.state.quickLinkUrl};if(this.props.quickLinksData.quickLinksString&&this.props.quickLinksData.quickLinksString.length>0){var t=this.props.quickLinksData.quickLinksString;t.push(JSON.stringify(e)),this.props.postQuickLinks(t)}else this.props.postQuickLinks([JSON.stringify(e)])},QuickLinksContainer.prototype.componentDidMount=function(){document.title=this.props.addTitle("Quick Links - "),this.props.getQuickLinks()},QuickLinksContainer.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},QuickLinksContainer.prototype.componentDidUpdate=function(){this.props.isLoading||this.metricPageLatencyTimer.publishPageLatency(p.CLIENT_METRICS_METHOD_NAMES.QUICK_LINKS_SETTINGS)},QuickLinksContainer.prototype.onNameChange=function(e){this.setState({quickLinkName:e.detail.value})},QuickLinksContainer.prototype.onUrlChange=function(e){this.setState({quickLinkUrl:e.detail.value})},QuickLinksContainer.prototype.componentWillReceiveProps=function(e){e.isLoading&&this.props.isLoading!=e.isLoading&&(this.props.showNotification({id:this.alertId,content:"Loading your quick links",loading:!0,type:"alert",status:"info"}),this.setState({quickLinkName:"",quickLinkUrl:"",nameInvalid:!1,urlInvalid:!1})),e.isLoading||this.props.isLoading==e.isLoading||this.props.deleteNotification(this.alertId),e.isError&&e.isError!=this.props.isError&&this.props.showNotification({id:this.alertId,content:this.props.errorMessage,loading:!1,type:"alert",status:"error"})},QuickLinksContainer.prototype.render=function(){if(this.props.isSucceeded){var e=this,t=[];return this.props.quickLinksData.quickLinksList.forEach(function(a,r){"default"!=a.name&&t.push(n.createElement(d,{name:a.name,key:r,url:a.url,onDelete:function(){return e.onDelete(r)}}))}),n.createElement("section",{className:"content-column-item"},n.createElement("div",{className:"element-wrapper settings-dahboard"},n.createElement("div",{className:"_wrapper"},n.createElement("div",{className:"_row _ql"},n.createElement("h2",{className:"title"},"Quick Links ",n.createElement("span",{className:"questionToggle"})),n.createElement("div",{className:"awsui"},n.createElement("div",{style:{width:"50%"}},n.createElement(i.ColumnLayout,{columns:2},n.createElement("div",{"data-awsui-column-layout-root":"true"},n.createElement(i.Input,{invalid:this.state.nameInvalid,autocomplete:!1,placeholder:"Enter Link Name",value:this.state.quickLinkName,onChange:this.onNameChange}),n.createElement(i.Input,{invalid:this.state.urlInvalid,autocomplete:!1,placeholder:"Enter Url",value:this.state.quickLinkUrl,onChange:this.onUrlChange}))),n.createElement(i.ColumnLayout,{columns:1},n.createElement("button",{onClick:this.addQuickLink,className:"site-btn site-btn-dark"},"Add Link")))),n.createElement("div",{className:"_row _ql"},n.createElement("h2",{className:"title _ql"},"Your Quick Links"),0==t.length&&n.createElement("p",{style:{marginTop:"15px"}},"You don't have quick links added."),t)))))}return n.createElement("div",null)},QuickLinksContainer}(n.Component),d=function(e){return n.createElement("ul",{className:"fav-link"},n.createElement("li",{className:"delete",onClick:e.onDelete}),n.createElement("li",{className:"link-name"},e.name),n.createElement("li",{className:"link-url"},n.createElement("a",{href:e.url,target:"_blank"},e.url)))},m=function(e){return{isLoading:e.QuickLinks.isLoading,isError:e.QuickLinks.isError,isSucceeded:e.QuickLinks.isSucceeded,quickLinksData:e.QuickLinks.quickLinksData,errorMessage:e.QuickLinks.errorMessage}},f=function(e){return{postQuickLinks:function(t){e(s.postQuickLinks(t))},getQuickLinks:function(){e(s.getQuickLinks())},showNotification:function(t){e(l.updateNotification({value:t}))},deleteNotification:function(t){e(l.deleteNotification({value:t}))}}};t.default=o.connect(m,f)(u)},1561:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(7),s=a(10),l=a(140),c=a(4),p=a(653),u=a(30),d=a(6),m=function(e){function TransferContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new u.MetricPageLatencyTimer,a.state={showTransferModel:!1},a.hideDisplayTransferModal=a.hideDisplayTransferModal.bind(a),a.displayTransferModel=a.displayTransferModel.bind(a),a}return r(TransferContainer,e),TransferContainer.prototype.componentWillMount=function(){this.props.getTransferHistory()},TransferContainer.prototype.componentDidMount=function(){document.title=this.props.addTitle("Transfer Settings - ")},TransferContainer.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},TransferContainer.prototype.componentDidUpdate=function(){this.props.isGetTransferHistoryPending||this.metricPageLatencyTimer.publishPageLatency(d.CLIENT_METRICS_METHOD_NAMES.TRANSFER_SETTINGS)},TransferContainer.prototype.displayTransferModel=function(){this.setState({showTransferModel:!0})},TransferContainer.prototype.hideDisplayTransferModal=function(){this.props.getTransferHistory(),this.setState({showTransferModel:!1})},TransferContainer.prototype.displayRoleText=function(e){switch(e){case c.BulkTransferOptionType.REQUESTER:return"Requester";case c.BulkTransferOptionType.VIEWER:return"Viewer";case c.BulkTransferOptionType.LEGALCOUNSEL:return"Legal Counsel";case c.BulkTransferOptionType.FUTURE_APPROVER:return"Future Approver";case c.BulkTransferOptionType.CURRENT_APPROVER:return"Current Approver";case c.BulkTransferOptionType.TEMPLATE_ADMIN:return"Template Admin";case c.BulkTransferOptionType.TEMPLATE_VIEWER:return"Template Viewer";case c.BulkTransferOptionType.TEMPLATE_OWNER:return"Template Owner";default:return""}},TransferContainer.prototype.render=function(){var e=this;console.log(this.props.transferHistory);var t=[];if(!this.props.isGetTransferHistoryPending&&this.props.isGetTransferHistoryFailed)return this.props.showNotification(this.props.getTransferHistoryError),n.createElement("div",null);t=!this.props.isGetTransferHistoryPending&&this.props.isGetTransferHistorySucceeded?this.props.transferHistory&&this.props.transferHistory.data&&this.props.transferHistory.data.bulkTransferList:[];var a=[{id:"type",header:"Transferred Type",cell:function(e){return 1==e.objectTypeId?"Approval Request":"Template"}},{id:"id",header:"Id",cell:function(e){return 1==e.objectTypeId?n.createElement("a",{href:"/Approval/Details/"+e.objectId,target:"_blank"},e.objectId):n.createElement("a",{href:"/Template/Details/"+e.objectId,target:"_blank"},e.objectId)}},{id:"to",header:"Transferred To",cell:function(e){return n.createElement("a",{href:c.ServiceEndPoints.phoneToolLink+e.transferToEntityId.transferTo.alias,target:"_blank"},e.transferToEntityId.transferTo.displayName)}},{id:"date",header:"Transferred On",cell:function(e){return new Date(e.createdAt).toLocaleDateString()}},{id:"optionType",header:"Role Type",cell:function(t){return e.displayRoleText(t.bulkTransferOptionType)}}];return n.createElement("div",{className:"awsui"},n.createElement(i.FormSection,{header:"Transfer",description:"You can bulk transfer approval requests and templates to another user based on your existing role. For example, all approval requests where you are a current approver to 'X' user."},n.createElement("section",{className:"awsui-util-mb-m"},n.createElement(i.Table,{loading:this.props.isGetTransferHistoryPending,columnDefinitions:a,items:t,variant:"borderless",empty:n.createElement("div",{className:"awsui-util-t-c"},n.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},n.createElement("b",null,"There are no transfers.")))})),n.createElement(i.Button,{text:"New Transfer",onClick:this.displayTransferModel,variant:"primary"})),n.createElement(p.default,{showModal:this.state.showTransferModel,onDismissClick:this.hideDisplayTransferModal}))},TransferContainer}(n.Component),f=function(e){return{transferHistory:e.TransferService.transferHistory,isGetTransferHistoryPending:e.TransferService.isGetTransferHistoryPending,isGetTransferHistoryFailed:e.TransferService.isGetTransferHistoryFailed,isGetTransferHistorySucceeded:e.TransferService.isGetTransferHistorySucceeded,getTransferHistoryError:e.TransferService.getTransferHistoryError}},E=function(e){return{getTransferHistory:function(){e(l.getTransferHistory())},showNotification:function(t){e(s.updateNotification({value:{id:Math.random(),content:t,type:"alert",status:"error"}}))}}};t.default=o.connect(f,E)(m)},1562:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(7),l=a(454),c=a(4),p=a(30),u=a(6),d=a(231),m=a(611),f=function(e){function EmailPreferencesContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new p.MetricPageLatencyTimer,a.onChecked=function(e,t){if(t){a.setState(function(a){return{notifications:n({},a.notifications,(r={},r[t.type]=e.checked,r))};var r});var r;null!=a.props.notificationPreferences&&null!=a.props.notificationPreferences.notificationSettingsString&&(r=a.props.notificationPreferences.notificationSettingsString);var i=JSON.stringify({name:t.type});if(r.includes(i)){var o=r.indexOf(i);if(r.splice(o,1),0==r.length){var s=JSON.stringify({name:"default"});r.push(s)}}else r.push(i);a.props.postNotificationSettings(r)}},a.state={preferences:{DIGEST_FREQUENCY:"",NOTIFY_VIEWER_WHENAPPROVALCREATED:!1,NOTIFY_PASTAPPROVER_WHENDECISIONMADE:!1,NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE:!1,NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE:!1,NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED:!1,NOTIFY_VIEWER_WHENAPPROVALCOMPLETED:!1,NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE:!0,NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED:!1,NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE:!0,NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE:!0,NOTIFY_VIEWER_WHENDECISIONMADE:!0,NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE:!0,NOTIFY_REQUESTER_WHENDOCUMENTCHANGED:!0,NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED:!1,NOTIFY_REQUESTER_WHENDECISIONMADE:!1,NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED:!0,NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED:!0,NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED:!1,NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED:!0,NOTIFY_VIEWER_WHENDOCUMENTCHANGED:!0,NOTIFY_VIEWER:!1,APPROVER_REMINDERNOTIFICATION:!1},notifications:{APPROVAL_CREATED:!0,APPROVAL_REJECTED:!0,APPROVAL_ACTION_REQUIRED:!0,APPROVAL_INCREMENTAL_APPROVED:!0,APPROVAL_RECOMMENDED_TO_APPROVE:!0,APPROVAL_RECOMMENDED_TO_REJECT:!0,APPROVAL_FULLY_APPROVED:!0,APPROVAL_PLAN_CHANGED:!0,APPROVAL_CANCELLED_REQUESTOR:!0,APPROVAL_CORRESPONDENCE_ADDED:!0,APPROVAL_NO_LONGER_ACTION_REQUIRED:!0,APPROVAL_TRANSFER:!0,APPROVAL_ACTION_UPDATE_DELEGATEE:!0,APPROVAL_REASSIGN_ACTOR:!0,APPROVAL_REASSIGN_REQUESTOR:!0,APPROVAL_DOCUMENT_CREATED:!0,APPROVAL_DOCUMENT_UPDATED:!0,APPROVAL_DOCUMENT_DELETED:!0,APPROVAL_PRIORITY_UPDATED:!0,APPROVAL_ON_HOLD:!0,APPROVAL_RESUME:!0,APPROVAL_REVERT_APPROVER_DECISION:!0,APPROVAL_RESTART:!0}},a.updatePreference=a.updatePreference.bind(a),a.updateAllPreferences=a.updateAllPreferences.bind(a),a.updateReminderPreference=a.updateReminderPreference.bind(a),a.updateDigestEmail=a.updateDigestEmail.bind(a),a.changeStatusForUser=a.changeStatusForUser.bind(a),a.changeStatusForUpdate=a.changeStatusForUpdate.bind(a),a.onChecked=a.onChecked.bind(a),a}return r(EmailPreferencesContainer,e),EmailPreferencesContainer.prototype.componentDidMount=function(){document.title=this.props.addTitle("User Preferences - "),window.location.href.toString().endsWith("/Home/UserPreferences")||(window.location.href="/Home/UserPreferences"),this.props.getEmailSettings(),this.props.isLoading||this.metricPageLatencyTimer.publishPageLatency(u.CLIENT_METRICS_METHOD_NAMES.USER_PREFERENCES),this.props.getNotificationSettings()},EmailPreferencesContainer.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},EmailPreferencesContainer.prototype.componentWillReceiveProps=function(e){var t=this;if(e.isSucceeded&&e.preferencesData&&e.preferencesData.userPreferences&&e.succeeded&&e.notificationPreferences&&e.notificationPreferences.notificationSettingsList){var a=e.preferencesData.userPreferences,r=a.filter(function(e){return e.userPreferenceType!=c.UserPreferenceType.DIGEST_FREQUENCY}).reduce(function(e,t){var a=t.userPreferenceType,r=t.keyValue;return n({},e,(i={},i[a]=r&&r.length>0&&"true"==r[0],i));var i},Object.assign({},this)),i=a.find(function(e){return e.userPreferenceType==c.UserPreferenceType.DIGEST_FREQUENCY});i&&(r[c.UserPreferenceType.DIGEST_FREQUENCY]=i.keyValue[0]),this.setState({preferences:r}),e.notificationPreferences.notificationSettingsList.forEach(function(e){t.setState(function(t){return{notifications:n({},t.notifications,(a={},a[e.name]=!1,a))};var a})})}},EmailPreferencesContainer.prototype.updatePreference=function(e){e.detail.checked!=this.state.preferences[e.target.id]&&(this.setState(function(t){return{preferences:n({},t.preferences,(a={},a[e.target.id]=e.detail.checked,a))};var a}),this.props.postEmailSettings(e.target.id,e.detail.checked))},EmailPreferencesContainer.prototype.updateReminderPreference=function(e){e.detail.value!=this.state.preferences[e.target.id]&&(this.setState(function(t){return{preferences:n({},t.preferences,(a={},a[e.target.id]=e.detail.value,a))};var a}),this.props.postEmailSettings(e.target.id,e.detail.value))},EmailPreferencesContainer.prototype.updateAllPreferences=function(e,t){"User"==t?this.changeStatusForUser(e.target.id,e.detail.checked):this.changeStatusForUpdate(e.target.id,e.detail.checked)},EmailPreferencesContainer.prototype.changeStatusForUpdate=function(e,t){e==c.ApprovalUpdateType.APPROVALCREATED&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_VIEWER_WHENAPPROVALCREATED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENAPPROVALCREATED,t)),e==c.ApprovalUpdateType.APPROVALCOMPLETED&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_VIEWER_WHENAPPROVALCOMPLETED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED,t)),e==c.ApprovalUpdateType.CORRESPONDENCEADDED&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_VIEWER:t,NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED:t,NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED:t,NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED:t,NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED,t)),e==c.ApprovalUpdateType.CONDITIONSDECISIONMADE&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE,t)),e==c.ApprovalUpdateType.DECISIONMADE&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_REQUESTER_WHENDECISIONMADE:t,NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE:t,NOTIFY_PASTAPPROVER_WHENDECISIONMADE:t,NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE:t,NOTIFY_VIEWER_WHENDECISIONMADE:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_REQUESTER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENDECISIONMADE,t)),e==c.ApprovalUpdateType.DOCUMENTCHANGED&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_REQUESTER_WHENDOCUMENTCHANGED:t,NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED:t,NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED:t,NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED:t,NOTIFY_VIEWER_WHENDOCUMENTCHANGED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENDOCUMENTCHANGED,t))},EmailPreferencesContainer.prototype.changeStatusForUser=function(e,t){e==c.ApprovalUserType.REQUESTER&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_REQUESTER_WHENDOCUMENTCHANGED:t,NOTIFY_REQUESTER_WHENDECISIONMADE:t,NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_REQUESTER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED,t)),e==c.ApprovalUserType.CURRENT_APPROVER&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED:t,NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE:t,NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED,t)),e==c.ApprovalUserType.PAST_APPROVER&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED:t,NOTIFY_PASTAPPROVER_WHENDECISIONMADE:t,NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED,t)),e==c.ApprovalUserType.FUTURE_APPROVER&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED:t,NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE:t,NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED,t)),e==c.ApprovalUserType.VIEWER&&(this.setState(function(e){return{preferences:n({},e.preferences,{NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE:t,NOTIFY_VIEWER_WHENAPPROVALCREATED:t,NOTIFY_VIEWER_WHENDECISIONMADE:t,NOTIFY_VIEWER_WHENDOCUMENTCHANGED:t,NOTIFY_VIEWER_WHENAPPROVALCOMPLETED:t,NOTIFY_VIEWER:t})}}),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENAPPROVALCREATED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENDECISIONMADE,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENDOCUMENTCHANGED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED,t),this.props.postEmailSettings(c.UserPreferenceType.NOTIFY_VIEWER,t))},EmailPreferencesContainer.prototype.updateDigestEmail=function(e){e.detail.selectedId&&(this.setState(function(t){return{preferences:n({},t.preferences,{DIGEST_FREQUENCY:e.detail.selectedId})}}),this.props.postEmailSettings(e.target.id,e.detail.selectedId))},EmailPreferencesContainer.prototype.render=function(){var e=this,t=[{label:"Daily",id:"Daily"},{label:"Weekly",id:"Weekly"},{label:"Monthly",id:"Monthly"},{label:"Never",id:"Never"}],a=[{label:"Action Required",id:"1",type:d.NotificationTypes.APPROVAL_ACTION_REQUIRED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_ACTION_REQUIRED],image:i.createElement("i",{style:{color:"black",paddingRight:"10px"},className:"fa fas fa-location-arrow fa-lg"})},{label:"Approval Cancelled",id:"2",type:d.NotificationTypes.APPROVAL_CANCELLED_REQUESTOR,checked:this.state.notifications[d.NotificationTypes.APPROVAL_CANCELLED_REQUESTOR],image:i.createElement("i",{style:{color:"red",paddingRight:"10px"},className:"fa fas fa-ban fa-lg"})},{label:"Approval Fully Approved",id:"4",type:d.NotificationTypes.APPROVAL_FULLY_APPROVED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_FULLY_APPROVED],image:i.createElement("i",{style:{color:"green",paddingRight:"10px"},className:"fa fas fa-flag-checkered fa-lg"})},{label:"Approval On Hold",id:"5",type:d.NotificationTypes.APPROVAL_ON_HOLD,checked:this.state.notifications[d.NotificationTypes.APPROVAL_ON_HOLD],image:i.createElement("i",{style:{color:"gray",paddingRight:"10px"},className:"fa fas fa-pause-circle fa-lg"})},{label:"Approval Resumed",id:"22",type:d.NotificationTypes.APPROVAL_RESUME,checked:this.state.notifications[d.NotificationTypes.APPROVAL_RESUME],image:i.createElement("i",{style:{color:"pink",paddingRight:"10px"},className:"fa fas fa-play-circle fa-lg"})},{label:"Approval Recommended To Approve",id:"9",type:d.NotificationTypes.APPROVAL_RECOMMENDED_TO_APPROVE,checked:this.state.notifications[d.NotificationTypes.APPROVAL_RECOMMENDED_TO_APPROVE],image:i.createElement("i",{style:{color:"green",paddingRight:"10px"},className:"fa fas fa-thumbs-o-up fa-lg"})},{label:"Approval Recommended To Reject",id:"10",type:d.NotificationTypes.APPROVAL_RECOMMENDED_TO_REJECT,checked:this.state.notifications[d.NotificationTypes.APPROVAL_RECOMMENDED_TO_REJECT],image:i.createElement("i",{style:{color:"red",paddingRight:"10px"},className:"fa fas fa-thumbs-o-down fa-lg"})},{label:"Approved By Next In Approval Plan",id:"11",type:d.NotificationTypes.APPROVAL_INCREMENTAL_APPROVED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_INCREMENTAL_APPROVED],image:i.createElement("i",{style:{color:"green",paddingRight:"10px"},className:"fa fas fa-thumbs-up fa-lg"})},{label:"Approval Rejected By Next Approver",id:"12",type:d.NotificationTypes.APPROVAL_REJECTED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_REJECTED],image:i.createElement("i",{style:{color:"red",paddingRight:"10px"},className:"fa fas fa-thumbs-down fa-lg"})},{label:"Approval Plan Changed",id:"6",type:d.NotificationTypes.APPROVAL_PLAN_CHANGED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_PLAN_CHANGED],image:i.createElement("i",{style:{color:"darkorange",paddingRight:"10px"},className:"fa fas fa-retweet fa-lg"})},{label:"Approval Transferred To Another Person",id:"7",type:d.NotificationTypes.APPROVAL_TRANSFER,checked:this.state.notifications[d.NotificationTypes.APPROVAL_TRANSFER],image:i.createElement("i",{style:{color:"black",paddingRight:"10px"},className:"fa fas fa-forward fa-lg"})},{label:"Approval Got Reassigned By Requestor",id:"8",type:d.NotificationTypes.APPROVAL_REASSIGN_REQUESTOR,checked:this.state.notifications[d.NotificationTypes.APPROVAL_REASSIGN_REQUESTOR],image:i.createElement("i",{style:{color:"brown",paddingRight:"10px"},className:"fa fas fa-child fa-lg"})},{label:"Document Created",id:"16",type:d.NotificationTypes.APPROVAL_DOCUMENT_CREATED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_DOCUMENT_CREATED],image:i.createElement("i",{style:{color:"lightblue",paddingRight:"10px"},className:"fa fas fa-sticky-note fa-lg"})},{label:"Approval Restarted",id:"13",type:d.NotificationTypes.APPROVAL_RESTART,checked:this.state.notifications[d.NotificationTypes.APPROVAL_RESTART],image:i.createElement("i",{style:{color:"red",paddingRight:"10px"},className:"fa fas fa-retweet fa-lg"})},{label:"Correspondence Added",id:"14",type:d.NotificationTypes.APPROVAL_CORRESPONDENCE_ADDED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_CORRESPONDENCE_ADDED],image:i.createElement("i",{style:{color:"orange",paddingRight:"10px"},className:"fa fas fa-comments-o fa-lg"})},{label:"Delegate Updated",id:"15",type:d.NotificationTypes.APPROVAL_ACTION_UPDATE_DELEGATEE,checked:this.state.notifications[d.NotificationTypes.APPROVAL_ACTION_UPDATE_DELEGATEE],image:i.createElement("i",{style:{color:"purple",paddingRight:"10px"},className:"fa fas fa-user-plus fa-lg"})},{label:"Document Updated",id:"18",type:d.NotificationTypes.APPROVAL_DOCUMENT_UPDATED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_DOCUMENT_UPDATED],image:i.createElement("i",{style:{color:"lightblue",paddingRight:"10px"},className:"fa fas fa-sticky-note-o fa-lg"})},{label:"Request Created",id:"19",type:d.NotificationTypes.APPROVAL_CREATED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_CREATED],image:i.createElement("i",{style:{color:"blue",paddingRight:"10px"},className:"fa fas fa-plus-circle fa-lg"})},{label:"Revert Approver Decision",id:"20",type:d.NotificationTypes.APPROVAL_REVERT_APPROVER_DECISION,checked:this.state.notifications[d.NotificationTypes.APPROVAL_REVERT_APPROVER_DECISION],image:i.createElement("i",{style:{color:"orange",paddingRight:"10px"},className:"fa fas fa-history fa-lg"})},{label:"Approval Reassign Actor",id:"3",type:d.NotificationTypes.APPROVAL_REASSIGN_ACTOR,checked:this.state.notifications[d.NotificationTypes.APPROVAL_REASSIGN_ACTOR],image:i.createElement("i",{style:{color:"brown",paddingRight:"10px"},className:"fa fas fa-arrow-circle-right fa-lg"})},{label:"Document Deleted",id:"17",type:d.NotificationTypes.APPROVAL_DOCUMENT_DELETED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_DOCUMENT_DELETED],image:i.createElement("i",{style:{color:"lightblue",paddingRight:"10px"},className:"fa fas fa-sticky-note-o fa-lg"})},{label:"Priority Updated",id:"21",type:d.NotificationTypes.APPROVAL_PRIORITY_UPDATED,checked:this.state.notifications[d.NotificationTypes.APPROVAL_PRIORITY_UPDATED],image:i.createElement("i",{style:{color:"blue",paddingRight:"10px"},className:"fa fas fa-product-hunt fa-lg"})}];if(this.props.isSucceeded){var r=[{id:"1",header:"Action Taken",cell:function(e){return e.action},minWidth:"170px",allowLineWrap:!0},{id:"2",minWidth:"100px",allowLineWrap:!0,header:"Requester",cell:function(t){return"1"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED,checked:e.state.preferences.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED}):"2"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_REQUESTER_WHENDECISIONMADE,checked:e.state.preferences.NOTIFY_REQUESTER_WHENDECISIONMADE}):"4"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED,checked:e.state.preferences.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED}):"7"==t.id?i.createElement(o.Checkbox,{onChange:function(t){return e.updateAllPreferences(t,"User")},id:c.ApprovalUserType.REQUESTER,checked:e.state.preferences.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_REQUESTER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED}):i.createElement("div",null)}},{id:"5",header:"Current Approver",minWidth:"100px",allowLineWrap:!0,cell:function(t){return"1"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED,checked:e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED}):"2"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE,checked:e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE}):"3"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE,checked:e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE}):"4"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED,checked:e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED}):"7"==t.id?i.createElement(o.Checkbox,{onChange:function(t){return e.updateAllPreferences(t,"User")},id:c.ApprovalUserType.CURRENT_APPROVER,checked:e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE&&e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED}):i.createElement("div",null)}},{id:"6",header:"Future Approver",minWidth:"100px",allowLineWrap:!0,cell:function(t){return"1"==t.id?i.createElement(o.Checkbox,{maxWidth:"300",onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED,checked:e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED}):"2"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE,checked:e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE}):"3"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE,checked:e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE}):"4"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED,checked:e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED}):"7"==t.id?i.createElement(o.Checkbox,{onChange:function(t){return e.updateAllPreferences(t,"User")},id:c.ApprovalUserType.FUTURE_APPROVER,checked:e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED}):i.createElement("div",null)}},{id:"4",header:"Past Approver",minWidth:"100px",allowLineWrap:!0,alignContent:"center",cell:function(t){return"1"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED,checked:e.state.preferences.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED}):"2"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENDECISIONMADE,checked:e.state.preferences.NOTIFY_PASTAPPROVER_WHENDECISIONMADE}):"3"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE,checked:e.state.preferences.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE}):"4"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED,checked:e.state.preferences.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED}):"7"==t.id?i.createElement(o.Checkbox,{onChange:function(t){return e.updateAllPreferences(t,"User")},id:c.ApprovalUserType.PAST_APPROVER,checked:e.state.preferences.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE}):i.createElement("div",null)}},{id:"3",header:"Viewer",minWidth:"100px",allowLineWrap:!0,alignContent:"center",paddingRight:"5%",cell:function(t){return"1"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_VIEWER,checked:e.state.preferences.NOTIFY_VIEWER}):"2"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_VIEWER_WHENDECISIONMADE,checked:e.state.preferences.NOTIFY_VIEWER_WHENDECISIONMADE}):"3"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE,checked:e.state.preferences.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE}):"4"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_VIEWER_WHENDOCUMENTCHANGED,checked:e.state.preferences.NOTIFY_VIEWER_WHENDOCUMENTCHANGED}):"5"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_VIEWER_WHENAPPROVALCREATED,checked:e.state.preferences.NOTIFY_VIEWER_WHENAPPROVALCREATED}):"6"==t.id?i.createElement(o.Checkbox,{onChange:e.updatePreference,id:c.UserPreferenceType.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED,checked:e.state.preferences.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED}):"7"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"User")},id:c.ApprovalUserType.VIEWER,checked:e.state.preferences.NOTIFY_VIEWER&&e.state.preferences.NOTIFY_VIEWER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED&&e.state.preferences.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE&&e.state.preferences.NOTIFY_VIEWER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_VIEWER_WHENAPPROVALCREATED}):i.createElement("div",null)}},{id:"7",header:"Turn On All",cell:function(t){return"5"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"Update")},id:c.ApprovalUpdateType.APPROVALCREATED,checked:e.state.preferences.NOTIFY_VIEWER_WHENAPPROVALCREATED}):"2"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"Update")},id:c.ApprovalUpdateType.DECISIONMADE,checked:e.state.preferences.NOTIFY_REQUESTER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE&&e.state.preferences.NOTIFY_VIEWER_WHENDECISIONMADE}):"3"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"Update")},id:c.ApprovalUpdateType.CONDITIONSDECISIONMADE,checked:e.state.preferences.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE&&e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE}):"4"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"Update")},id:c.ApprovalUpdateType.DOCUMENTCHANGED,checked:e.state.preferences.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED&&e.state.preferences.NOTIFY_VIEWER_WHENDOCUMENTCHANGED}):"1"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"Update")},id:c.ApprovalUpdateType.CORRESPONDENCEADDED,checked:e.state.preferences.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED&&e.state.preferences.NOTIFY_VIEWER}):"6"==t.id?i.createElement(o.Checkbox,{onChange:function(t){e.updateAllPreferences(t,"Update")},id:c.ApprovalUpdateType.APPROVALCOMPLETED,checked:e.state.preferences.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED}):i.createElement("div",null)}}],n=[{action:"Approval Created",id:"5"},{action:"Approval Decision Made",id:"2"},{action:"Approval Decision Made with Conditions",id:"3"},{action:"Attachments Updated",id:"4"},{action:"Correspondence Added",id:"1"},{action:"Approval Completed",id:"6"},{action:i.createElement("b",null,"Turn On All"),id:"7"}];return i.createElement("div",{className:"awsui"},i.createElement("div",{className:"awsui-util-m-m"},i.createElement("div",{className:"email-settings-header"},i.createElement("h1",{className:"title"},i.createElement("span",{"data-testid":"user-preferences__email-title"},"Email Preferences")),i.createElement("div",{className:"email-header-description"},"Your e-mail options, such as how frequently you wish to receive digest e-mails, and whether or not you'd like to receive updates everytime an approval is changed.")),i.createElement("div",{className:"user-preference-table"},i.createElement(o.Table,{columnDefinitions:r,items:n,empty:"No data",wrapLines:!0,resizableColumns:!0,header:i.createElement("h2",null,"Send me an email: ",i.createElement("span",{style:{marginLeft:"35%",fontSize:"large"}}," Where my role is "))})),i.createElement("div",{className:"awsui-grid"},i.createElement("div",{className:"awsui-row",style:{marginTop:"20px"}},i.createElement("div",{className:"col-6 question-section"},i.createElement("h4",{className:"_sectionHeader"},i.createElement("span",{"data-testid":"user-preferences__reminder-email"},"On approvals where I am an approver")),i.createElement("div",{className:"questionItem"},i.createElement("p",{className:"_questionItem"},"I would like a reminder every 2 days when I have an outstanding approval waiting my decision"),i.createElement(o.RadioGroup,{onChange:this.updateReminderPreference,id:c.UserPreferenceType.APPROVER_REMINDERNOTIFICATION,items:[{value:"true",label:"Yes"},{value:"false",label:"No"}],value:this.state.preferences.APPROVER_REMINDERNOTIFICATION.toString()}))),i.createElement("div",{className:"col-6"},i.createElement("div",{className:"question-section"},i.createElement("h4",null,i.createElement("span",{"data-testid":"user-preferences__digest-email"},"Digest emails")),i.createElement("div",{className:"questionItem"},i.createElement("p",{className:"_questionItem"},"Send me digest emails"),i.createElement("div",{style:{width:"140px",marginLeft:"1px",marginTop:"5px"}},i.createElement(o.Select,{onChange:this.updateDigestEmail,id:c.UserPreferenceType.DIGEST_FREQUENCY,selectedId:this.state.preferences[c.UserPreferenceType.DIGEST_FREQUENCY],options:t}))))))),i.createElement("div",{className:"awsui-grid"},i.createElement("div",{className:"email-settings-header"},i.createElement("h1",{className:"title"},i.createElement("span",{"data-testid":"user-preferences__notification-title"},"Home Page Notification Feed Preferences")),i.createElement("div",{className:"email-header-description"},"Select what type of notifications you would like to see on your Approvals Home Page Notification Feed. ",i.createElement("a",{style:{marginLeft:"5px"},href:"https://w.amazon.com/bin/view/AmazonApprovals/Getting%20Started/#HIconsUsed",target:"blank"},"[Icon Guide]"))),i.createElement("div",{className:"notification-preferences"},a.map(function(t){return i.createElement(o.Checkbox,{key:t.id,id:t.id,checked:t.checked,onChange:function(a){var r=a.detail;return e.onChecked(r,t)}},t.image,t.label)})))))}return i.createElement("div",null)},EmailPreferencesContainer}(i.Component),E=function(e){return{isLoading:e.EmailSettings.isLoading,isError:e.EmailSettings.isError,isSucceeded:e.EmailSettings.isSucceeded,succeeded:e.NotificationSettings.succeeded,preferencesData:e.EmailSettings.preferencesData,notificationPreferences:e.NotificationSettings.notificationPreferences,errorMessage:e.NotificationSettings.errorMessage}},h=function(e){return{postNotificationSettings:function(t){e(m.postNotificationSettings(t))},getNotificationSettings:function(){e(m.getNotificationSettings())},getEmailSettings:function(){e(l.getEmailSettings())},postEmailSettings:function(t,a){e(l.postEmailSettings(t,a))}}};t.default=s.connect(E,h)(f)},1563:function(e,t,a){"use strict";function mapStateToProps(e){return{approvals:e.AllApprovals,approvalsCounts:e.ApprovalCounts}}function mapDispatchToProps(e){return s.bindActionCreators({allApprovals:l.default,approvalCounts:d.approvalCounts},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(0),o=a(7),s=a(23),l=a(190),c=a(1564),p=a(1567),u=a(1568),d=a(329),m=a(1569),f=a(30),E=a(6),h=a(4),v=a(8),A=a(191),g=a(1),T={From:0,Size:50,CurrentTab:"PENDING_NOW",SearchTerm:"",SearchType:"",sortBy:"createdAt",sortDesc:!0,selectedApprovalId:null,actionComplete:!0,actorId:null,allowedActions:[],recommendedApproval:!1,action:null,filters:{},selectedPersonFilter:null},y=(function(){function HomeComponentState(){}}(),function(e){function HomepageContainerInternal(t){var a=e.call(this,t)||this;return a.items=[],a.cardDefinition={},a.cardsPerRow=[],a.metricPageLatencyTimer=new f.MetricPageLatencyTimer,a.state={tourRunning:!1,referenceId:null,start:null,steps:"1",stepIndex:0},a._mounted=!0,a.startTour=a.startTour.bind(a),a.publishMetrics=a.publishMetrics.bind(a),a.nextStep=a.nextStep.bind(a),a.endTour=a.endTour.bind(a),a}return r(HomepageContainerInternal,e),HomepageContainerInternal.prototype.componentWillMount=function(){document.title="Amazon Approvals",this.props.addTour({creator:"homepage",label:"Use Homepage",start:this.startTour}),this.props.allApprovals(T),this.props.approvalCounts()},HomepageContainerInternal.prototype.componentDidMount=function(){this.metricPageLatencyTimer.publishPageLatency(E.CLIENT_METRICS_METHOD_NAMES.HOMEPAGE)},HomepageContainerInternal.prototype.componentWillUnmount=function(){this._mounted=!1,this.props.removeTour("homepage")},HomepageContainerInternal.prototype.startTour=function(){this.setState({tourRunning:!0})},HomepageContainerInternal.prototype.publishMetrics=function(e){var t=this.getMetrics(e);if(null!=t&&null!=t.metricName){var a=new URLSearchParams(t);if(a.append("latency",""),v.default.post(h.baseUrl+"/api/approvalrequest/publishmetrics",a),("close"===e.action||e.index==e.size-1)&&"complete"===e.lifecycle){var r=new URLSearchParams({metricName:"tourDuration",metricValue:t.duration,referenceId:t.referenceId,category:t.category,latency:""});v.default.post(h.baseUrl+"/api/approvalrequest/publishmetrics",r);var n=new URLSearchParams({metricName:"stepsCompleted",metricValue:this.state.steps,referenceId:t.referenceId,category:t.category,latency:""});v.default.post(h.baseUrl+"/api/approvalrequest/publishmetrics",n)}}},HomepageContainerInternal.prototype.getMetrics=function(e){var t=e.action,a=e.index,r=e.size,n=e.lifecycle;if("complete"!==n&&"next"!==t&&("start"!==t||"ready"!==n))return null;var i=null,o=0,s=this.state,l=s.referenceId,c=s.start;return"start"===t&&"ready"===n?(i="tourStarted",l=A.v4(),this.setState({referenceId:l,start:g(),steps:"1"})):"complete"===n?(a==r-1?i="tourCompleted":"close"===t&&(i="tourStopped"),o=g.duration(g().diff(c)).asMilliseconds()):"next"===t&&this.setState({steps:""+(a+1)}),{metricName:i,metricValue:"Homepage",referenceId:l,category:h.MetricCategory.TOUR,duration:o}},HomepageContainerInternal.prototype.nextStep=function(e,t,a,r){var n=e.action,i=e.index,o=e.type;[t.STEP_AFTER,t.TARGET_NOT_FOUND].includes(o)&&this.setState({stepIndex:i+(n===a.NEXT?1:-1)})},HomepageContainerInternal.prototype.endTour=function(){this.setState({stepIndex:0,tourRunning:!1})},HomepageContainerInternal.prototype.render=function(){return n.createElement("div",{className:"awsui"},n.createElement("div",{className:"awsui-grid"},n.createElement("div",{className:"awsui-row",style:{marginLeft:"5%"}},n.createElement("div",{className:"col-5"},n.createElement(m.AnnouncementsComponent,{stepIndex:this.state.stepIndex,endTour:this.endTour,nextStep:this.nextStep,publishMetrics:this.publishMetrics,tourRunning:this.state.tourRunning,_mounted:this._mounted}),n.createElement(c.ActionLinksComponent,{counts:this.props.approvalsCounts}),n.createElement(p.PendingApprovalsComponent,{approvals:this.props.approvals})),n.createElement("div",{className:"col-6",style:{marginTop:"0.5%"}},n.createElement(u.NotificationFeedComponent,null)))))},HomepageContainerInternal}(i.Component));t.HomepageContainer=o.connect(mapStateToProps,mapDispatchToProps)(y)},1564:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(0),s=a(5),l=a(1565),c=a(1566),p=function(e){function ActionLinksComponent(t){var a=e.call(this,t)||this;return a.getApprovalsActionLinks=a.getApprovalsActionLinks.bind(a),a.getApprovalsMainActionLinks=a.getApprovalsMainActionLinks.bind(a),a}return r(ActionLinksComponent,e),ActionLinksComponent.prototype.render=function(){return i.createElement("div",{"data-testid":"home-page__my-approvals-container"},i.createElement("div",{className:"awsui-util-container my-approvals-main",style:{width:"100%",marginLeft:"0%",marginBottom:"0rem",marginTop:"3.5%"}},i.createElement("div",{style:{background:"#F0F0F0",padding:"0.5rem 1rem",height:"10%"}},i.createElement("h4",null,"My Approvals")),i.createElement(s.ColumnLayout,{columns:4,variant:"text-grid","data-testid":"home-page__my-approvals-top-row"},i.createElement("div",{"data-awsui-column-layout-root":"false"},this.getApprovalsMainActionLinks()))),i.createElement("div",{className:"awsui-util-container my-approvals",style:{marginLeft:"0%",width:"100%"}},i.createElement(s.ColumnLayout,{columns:4,variant:"text-grid","data-testid":"home-page__my-approvals-bottom-row"},i.createElement("div",{"data-awsui-column-layout-root":"false"},this.getApprovalsActionLinks()))))},ActionLinksComponent.prototype.getApprovalsActionLinks=function(){if(null!=this.props.counts){return[{approvalState:"createdbyme",message:"Requests you have created",count:this.props.counts.myRequestCount,title:"Requests"},{approvalState:"shared",message:"Requests where you are a Viewer or Legal Counsel",count:this.props.counts.sharedWithMeCount,title:"Shared"},{approvalState:"previous",message:"Requests approved by you in the past",count:this.props.counts.approvedByMeCount,title:"Previous"},{approvalState:"all",message:"All requests that you are associated with",count:this.props.counts.allCount,title:"All"}].map(function(e){return i.createElement(l.ActionLinkItemsComponent,n({},e,{key:e.title}))})}return i.createElement("span",null)},ActionLinksComponent.prototype.getApprovalsMainActionLinks=function(){if(null!=this.props.counts){return[{approvalState:"pending",message:"Requests where your decision is overdue",count:this.props.counts.overdue,title:"Overdue",imageClass:"fa fa-clock-o",color:"red"},{approvalState:"pending",message:"Requests pending your decision now",count:this.props.counts.pendingNowCount,title:"Pending",imageClass:"fa fa-exclamation",color:"darkorange"},{approvalState:"future",message:"Requests where you are a future approver",count:this.props.counts.pendingSoonCount,title:"Future",imageClass:"fa fa-chevron-circle-right",color:"blue"},{approvalState:"onhold",message:"Requests that are on hold with you",count:this.props.counts.onHoldCount,title:"On Hold",imageClass:"fa fa-pause-circle",color:"gray"}].map(function(e){return i.createElement(c.ActionLinksMainItemsComponent,n({},e,{key:e.title}))})}return i.createElement("span",null)},ActionLinksComponent}(o.Component);t.ActionLinksComponent=p},1565:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(77),i=a(0),o=a(0),s=a(5),l=function(e){function ActionLinkItemsComponent(t){return e.call(this,t)||this}return r(ActionLinkItemsComponent,e),ActionLinkItemsComponent.prototype.render=function(){return i.createElement(n.Link,{to:{pathname:"/Approvals/"+this.props.approvalState},style:{color:"black",padding:"0rem"}},i.createElement("div",null,i.createElement("div",{className:"awsui-util-spacing-v-s"},i.createElement("div",{style:{textAlign:"center"}},i.createElement(s.Tooltip,{text:this.props.message,position:"top"},i.createElement("div",{style:{fontSize:"small"}},this.props.title),i.createElement("div",{style:{color:"purple",fontSize:"large"}},this.props.count))))))},ActionLinkItemsComponent}(o.Component);t.ActionLinkItemsComponent=l},1566:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(77),i=a(0),o=a(0),s=a(5),l=function(e){function ActionLinksMainItemsComponent(t){return e.call(this,t)||this}return r(ActionLinksMainItemsComponent,e),ActionLinksMainItemsComponent.prototype.render=function(){return i.createElement(n.Link,{to:{pathname:"/Approvals/"+this.props.approvalState},style:{color:"black",padding:"0rem"}},i.createElement("div",null,i.createElement("div",{className:"awsui-util-spacing-v-s"},i.createElement("div",null,i.createElement("div",{style:{textAlign:"center"}},i.createElement(s.Tooltip,{text:this.props.message,position:"top"},i.createElement("div",{style:{marginTop:"5%",fontSize:"medium"}},this.props.title),i.createElement("div",{style:{color:this.props.color,fontSize:"x-large"}},i.createElement("span",{style:{paddingRight:"5px"}},this.props.count),i.createElement("i",{className:this.props.imageClass,"aria-hidden":"true"}))))))))},ActionLinksMainItemsComponent}(o.Component);t.ActionLinksMainItemsComponent=l},1567:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(0),o=a(1),s=function(e){function PendingApprovalsComponent(t){var a=e.call(this,t)||this;return a.items=[],a.getTableColumns=a.getTableColumns.bind(a),a.getTableItems=a.getTableItems.bind(a),a.getApprovals=a.getApprovals.bind(a),a}return r(PendingApprovalsComponent,e),PendingApprovalsComponent.prototype.render=function(){return n.createElement("div",{className:"pending-approvals","data-testid":"home-page__pending-approvals-container"},n.createElement("div",{className:"awsui-util-container",style:{width:"100%",marginLeft:"0%",marginBottom:"0rem",fontSize:"small"}},n.createElement("div",{style:{background:"#F0F0F0",padding:"0.5rem 1rem",height:"10%"}},n.createElement("h4",{style:{color:"black",display:"inline-block"}}," ","My Pending Approvals (Most Recent)")),this.getApprovals()))},PendingApprovalsComponent.prototype.getApprovals=function(){return null!==this.props.approvals&&0!==this.props.approvals.data.data.ApprovalSearch.approvals.length?n.createElement("table",{style:{minWidth:"0%"}},n.createElement("col",{width:"20%"}),n.createElement("col",{width:"20%"}),n.createElement("col",{width:"60%"}),n.createElement("thead",null,n.createElement("tr",{style:{borderBottom:"1px solid lightgray",alignItems:"center"}},n.createElement("th",null,n.createElement("b",null,"Id")),n.createElement("th",null,n.createElement("b",null,"Needed By")),n.createElement("th",null,n.createElement("b",null,"Title")))),this.getTableItems()):n.createElement("span",{className:"awsui",style:{padding:"3%"}},"No pending approvals")},PendingApprovalsComponent.prototype.getTableColumns=function(e){var t=e.map(function(e){return n.createElement("tr",{style:{borderBottom:"1px solid #F0F0F0",verticalAlign:"top"}},n.createElement("td",null,n.createElement("a",{className:"wordBreakAll",href:"/Approval/Details/"+e.id,target:"_blank",style:{color:"black"}},n.createElement("u",null,e.id))),n.createElement("td",null,n.createElement("span",{style:{marginLeft:"0%"}},o(e.neededOnDate).format("MM/DD/YYYY"))),n.createElement("td",{style:{wordWrap:"break-word",width:"50%"}},e.title))});return n.createElement("tbody",null,t)},PendingApprovalsComponent.prototype.getTableItems=function(){if(null==this.props.approvals)return this.items;var e=Array.from(this.props.approvals.data.data.ApprovalSearch.approvals);return this.getTableColumns(e.slice(0,5))},PendingApprovalsComponent}(i.Component);t.PendingApprovalsComponent=s},1568:function(e,t,a){"use strict";function getIconForPriority(e){return e!==d.PriorityType.HIGH?null:n.createElement(m.Popover,{triggerType:"custom",content:"High priority approval",position:"top",size:"small"},n.createElement("i",{style:{color:"#EC4825"},className:"fa fas fa-exclamation fa-lg"}))}function mapStateToProps(e){return{notifications:e.NotificationFeed}}function mapDispatchToProps(e){return s.bindActionCreators({getNotificationFeed:c.getNotificationFeed},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(0),o=a(231),s=a(23),l=a(7),c=a(610),p=a(1),u=a(230),d=a(4),m=a(5),f=function(e){function NotificationFeedComponentInternal(t){var a=e.call(this,t)||this;return a.displayNotifications=a.displayNotifications.bind(a),NotificationFeedComponentInternal.getIconForNotification=NotificationFeedComponentInternal.getIconForNotification.bind(a),a}return r(NotificationFeedComponentInternal,e),NotificationFeedComponentInternal.prototype.componentWillMount=function(){this.props.getNotificationFeed()},NotificationFeedComponentInternal.getIconForNotification=function(e){switch(e){case o.NotificationTypes.APPROVAL_ACTION_UPDATE_DELEGATEE:return n.createElement("i",{style:{color:"purple"},className:"fa fas fa-user-plus fa-lg"});case o.NotificationTypes.APPROVAL_CREATED:return n.createElement("i",{style:{color:"blue"},className:"fa fas fa-plus-circle fa-lg"});case o.NotificationTypes.APPROVAL_CORRESPONDENCE_ADDED:return n.createElement("i",{style:{color:"orange"},className:"fa fas fa-comments-o fa-lg"});case o.NotificationTypes.APPROVAL_INCREMENTAL_APPROVED:return n.createElement("i",{style:{color:"green"},className:"fa fas fa-thumbs-up fa-lg"});case o.NotificationTypes.APPROVAL_ACTION_REQUIRED:return n.createElement("i",{style:{color:"yellow"},className:"fa fas fa-location-arrow fa-lg"});case o.NotificationTypes.APPROVAL_DOCUMENT_CREATED:return n.createElement("i",{style:{color:"lightblue"},className:"fa fas fa-sticky-note fa-lg"});case o.NotificationTypes.APPROVAL_DOCUMENT_UPDATED:case o.NotificationTypes.APPROVAL_DOCUMENT_DELETED:return n.createElement("i",{style:{color:"lightblue"},className:"fa fas fa-sticky-note-o fa-lg"});case o.NotificationTypes.APPROVAL_CANCELLED_REQUESTOR:return n.createElement("i",{style:{color:"red"},className:"fa fas fa-ban fa-lg"});case o.NotificationTypes.APPROVAL_REJECTED:return n.createElement("i",{style:{color:"red"},className:"fa fas fa-thumbs-down fa-lg"});case o.NotificationTypes.APPROVAL_RECOMMENDED_TO_REJECT:return n.createElement("i",{style:{color:"red"},className:"fa fas fa-thumbs-o-down fa-lg"});case o.NotificationTypes.APPROVAL_RECOMMENDED_TO_APPROVE:return n.createElement("i",{style:{color:"green"},className:"fa fas fa-thumbs-o-up fa-lg"});case o.NotificationTypes.APPROVAL_FULLY_APPROVED:return n.createElement("i",{style:{color:"green"},className:"fa fas fa-flag-checkered fa-lg"});case o.NotificationTypes.APPROVAL_REVERT_APPROVER_DECISION:return n.createElement("i",{style:{color:"orange"},className:"fa fas fa-history fa-lg"});case o.NotificationTypes.APPROVAL_ON_HOLD:return n.createElement("i",{style:{color:"gray"},className:"fa fas fa-pause-circle fa-lg"});case o.NotificationTypes.APPROVAL_RESUME:return n.createElement("i",{style:{color:"pink"},className:"fa fas fa-play-circle fa-lg"});case o.NotificationTypes.APPROVAL_PLAN_CHANGED:return n.createElement("i",{style:{color:"darkorange"},className:"fa fas fa-retweet fa-lg"});case o.NotificationTypes.APPROVAL_TRANSFER:return n.createElement("i",{style:{color:"yellow"},className:"fa fas fa-forward fa-lg"});case o.NotificationTypes.APPROVAL_REASSIGN_REQUESTOR:return n.createElement("i",{style:{color:"brown"},className:"fa fas fa-child fa-lg"});case o.NotificationTypes.APPROVAL_REASSIGN_ACTOR:return n.createElement("i",{style:{color:"brown"},className:"fa fas fa-arrow-circle-right fa-lg"});case o.NotificationTypes.APPROVAL_RESTART:return n.createElement("i",{style:{color:"red"},className:"fa fas fa-retweet fa-lg"});case o.NotificationTypes.APPROVAL_PRIORITY_UPDATED:return n.createElement("i",{style:{color:"blue"},className:"fa fas fa-product-hunt fa-lg"});default:return n.createElement("span",null)}},NotificationFeedComponentInternal.prototype.displayNotifications=function(){return null!=this.props.notifications?this.props.notifications.map(function(e){var t=e.priority,a=(e.notificationType,t===d.PriorityType.HIGH?"high-priority":"");return n.createElement("div",{className:a},n.createElement("div",{style:{paddingLeft:"2%"}},n.createElement("a",{className:"wordBreakAll",style:{color:"gray"},href:"/Approval/Details/"+e.approvalId,target:"_blank"},u.getStringFromHtmlString(e.approvalTitle)," ")),n.createElement("div",{key:e.id,style:{padding:"1%",borderBottom:"1px solid #F0F0F0",textAlign:"center"}},n.createElement("div",{style:{display:"inline-block",width:"5%"}},NotificationFeedComponentInternal.getIconForNotification(e.notificationType)),n.createElement("div",{style:{display:"inline-block",width:"18%"}},n.createElement("a",{className:"wordBreakAll",href:"/Approval/Details/"+e.approvalId,target:"_blank",style:{color:"black"}},n.createElement("u",null,e.approvalId))),n.createElement("div",{style:{display:"inline-block",width:"55%"}},n.createElement("span",{style:{color:"black"}},e.notificationText)),n.createElement("div",{style:{display:"inline-block",width:"20%"}},n.createElement("span",{style:{color:"black"}},p(e.date).fromNow())),n.createElement("div",{style:{display:"inline-block",width:"2%"}},getIconForPriority(e.priority))))}):n.createElement("span",null)},NotificationFeedComponentInternal.prototype.render=function(){return n.createElement("div",{className:"notification-feed awsui-util-container",style:{marginTop:"2%",marginLeft:"5%"},"data-testid":"home-page__notification-container"},n.createElement("div",{style:{background:"#F0F0F0",padding:"0.5rem 1rem",height:"10%"}},n.createElement("h4",{style:{fontWeight:700,font:"Amazon Ember Regular"}},n.createElement("span",{"data-testid":"home-page__notification-feed-text"},"Notification feed"),n.createElement("a",{href:"/Home/UserPreferences","data-testid":"home-page__notification-filter"},"Filter"))),n.createElement("ul",{style:{padding:0}},this.displayNotifications()))},NotificationFeedComponentInternal}(i.Component);t.NotificationFeedComponent=l.connect(mapStateToProps,mapDispatchToProps)(f)},1569:function(e,t,a){"use strict";function mapStateToProps(e){return{announcements:e.Announcement}}function mapDispatchToProps(e){return c.bindActionCreators({getAnnouncements:p.getAnnouncements},e)}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(0),l=a(7),c=a(23),p=a(612),u=a(41),d=a(6),m=a(13),f=u.default.div(h||(h=r(["\n  transition: 2s ease-in-out;\n"],["\n  transition: 2s ease-in-out;\n"]))),E=function(e){function AnnouncementsComponentInternal(t){var a=e.call(this,t)||this;return a.state={activeIndex:0,interval:0},a.goToSlide=a.goToSlide.bind(a),a.startTransition=a.startTransition.bind(a),a.computeLeft=a.computeLeft.bind(a),a.showAnnouncements=a.showAnnouncements.bind(a),a.showCarouselPoints=a.showCarouselPoints.bind(a),a}return n(AnnouncementsComponentInternal,e),AnnouncementsComponentInternal.prototype.componentWillMount=function(){this.props.getAnnouncements(),this.startTransition(8e3)},AnnouncementsComponentInternal.prototype.componentWillUnmount=function(){clearInterval(this.state.interval)},AnnouncementsComponentInternal.prototype.startTransition=function(e){var t=this;if(this.props._mounted){clearInterval(this.state.interval);var a=setInterval(function(){var e=t.state.activeIndex;e++,e==t.props.announcements.length&&(e=0),t.setState({activeIndex:e})},e);this.setState({interval:a})}},AnnouncementsComponentInternal.prototype.goToSlide=function(e){e<0||e==this.props.announcements.length||this.setState({activeIndex:e})},AnnouncementsComponentInternal.prototype.computeLeft=function(e,t){return e===t?"0px":e<t?"-2000px":"2000px"},AnnouncementsComponentInternal.prototype.showAnnouncements=function(){var e=this,t=this.props.announcements;return null!=t&&t.map(function(t,a){return o.createElement(f,{style:{paddingLeft:"8px",width:"100%",position:"absolute",left:e.computeLeft(a,e.state.activeIndex)},key:a},o.createElement("p",{style:{overflowWrap:"normal",color:"black",overflow:"hidden"}},o.createElement("b",null," ",t.title),o.createElement("br",null),t.message," ",t.url&&o.createElement("a",{style:{color:" #007dbc"},href:t.url,target:"_blank"},t.urlText)))})},AnnouncementsComponentInternal.prototype.showCarouselPoints=function(){var e=this,t=this.props.announcements;return o.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"2px"}},null!=t&&t.map(function(a,r){return o.createElement("i",{style:{opacity:r==e.state.activeIndex?1:.5,fontSize:t.length>5?"5px":"10px",marginRight:"3px"},key:r,onClick:function(t){return e.goToSlide(r)},className:"fa fas fa-square fa-xs"})}))},AnnouncementsComponentInternal.prototype.render=function(){var e=this,t=this.props,a=t.announcements,r=t.tourRunning,n=t.endTour,s=t.publishMetrics,l=t.nextStep,c=t.stepIndex,p=r,u=a&&a.length>0,f=u?d.TOUR_STEPS:d.TOUR_STEPS.slice(1);return o.createElement("div",null,u&&o.createElement("div",{className:"awsui-util-container announcements",style:{width:"100%",marginLeft:"0%",marginBottom:"0rem",marginTop:"3.5%",paddingBottom:"0%"},onMouseEnter:function(){e.startTransition(1e5)},onMouseLeave:function(){e.startTransition(8e3)}},o.createElement("div",{style:{background:"#F0F0F0",padding:"0.5rem 1rem"}},o.createElement("h4",null,"Announcements")),o.createElement("div",{style:{height:"100px",paddingBottom:"0%",position:"relative",overflow:"hidden"}},o.createElement("li",null,this.showAnnouncements())),this.showCarouselPoints()),o.createElement(m.Tour,i({},{steps:f,run:p,endTour:n,publishMetrics:s,nextStep:l,stepIndex:c})))},AnnouncementsComponentInternal}(s.Component);t.AnnouncementsComponent=l.connect(mapStateToProps,mapDispatchToProps)(E);var h},1570:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(5),l=a(7),c=a(191),p=a(262),u=a(4),d=a(10),m=a(8),f=a(6),E=a(51),h=a(30),v=a(46),A=a(264),g=a(265),T=a(266),y=a(13),_=a(214),N=a(13),R=function(e){function BulkActionContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new h.MetricPageLatencyTimer,a.selectedViewer=null,a.getListStyle=function(e){return{background:"none",border:e?"dashed 1px black":"solid 1px transparent"}},a.deleteTag=function(e){var t=a.state.tagList;a.setState({tagList:t.filter(function(t){return t.label!==e})})},a.createTag=function(){var e=a.state.tagList;if(0==a.state.tagName.length)return void a.dispatchNotificationUpdate("Please enter Tag Name.");if(e.map(function(e){return e.label}).includes(a.state.tagName))return a.dispatchNotificationUpdate("Tag with name "+a.state.tagName+" is already selected"),void a.setState({tagName:""});var t={label:a.state.tagName};a.setState({tagList:a.state.tagList.concat(t),tagName:""})},a.dispatchNotificationUpdate=function(e){var t=Math.random();a.props.dispatch(d.updateNotification({value:{id:t,content:e,type:"alert",loading:!1,status:"error"}}))},a.state={bulkEditActionTaken:!1,showUndoneDisclaimer:!1,showKeepWindowOpenDisclaimer:!1,tagName:"",tagList:[],commentValue:"",peopleSuggestions:[],peopleSuggestedValue:"",selectedViewerList:[],selectedApprovalList:[],inProgress:[],successful:[],failed:[],stateTimeForLatency:"",percentCompleted:0,loading:!1,totalApprovalCount:0},a.getPeopleSuggestions=a.getPeopleSuggestions.bind(a),a.clearSuggestions=a.clearSuggestions.bind(a),a.renderSuggestion=a.renderSuggestion.bind(a),a.getSuggestionValue=a.getSuggestionValue.bind(a),a.onPeopleInputChange=a.onPeopleInputChange.bind(a),a.deleteViewerFromList=a.deleteViewerFromList.bind(a),a.bulkEdit=a.bulkEdit.bind(a),a.enableBulkEdit=a.enableBulkEdit.bind(a),a}return r(BulkActionContainer,e),BulkActionContainer.prototype.componentDidMount=function(){document.title=this.props.addTitle("Bulk Action - "),this.setState({selectedApprovalList:this.props.location.state?this.props.location.state.selectedApprovalList:[],totalApprovalCount:this.props.location.state?this.props.location.state.selectedApprovalList.length:0})},BulkActionContainer.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},BulkActionContainer.prototype.onPeopleInputChange=function(e,t){var a=t.newValue;this.setState({peopleSuggestedValue:a})},BulkActionContainer.prototype.getPeopleSuggestions=function(e){e.value&&e.value.length>=3&&this.props.queryPeopleSearch(e.value)},BulkActionContainer.prototype.renderSuggestion=function(e){return e.type==u.ActoryType.PRINCIPAL?o.createElement(A.default,{employee:e}):o.createElement(g.default,{group:e})},BulkActionContainer.prototype.clearSuggestions=function(){this.setState({peopleSuggestions:[]})},BulkActionContainer.prototype.afterSearch=function(e){this.setState({searchResult:e})},BulkActionContainer.prototype.getSuggestionValue=function(e){var t=this.state.selectedViewerList.filter(function(t){return t.alias===e.alias});return 0!==t.length?(this.props.dispatch(d.updateNotification({value:{id:Math.random(),content:'Viewer with alias "'+t[0].alias+'" already selected',type:"alert",loading:!1,status:"error"}})),""):(this.setState({selectedViewerList:this.state.selectedViewerList.concat(e)}),"")},BulkActionContainer.prototype.deleteViewerFromList=function(e){var t=this.state.selectedViewerList;t.splice(t.indexOf(e),1),this.setState({selectedViewerList:t})},BulkActionContainer.prototype.publishBulkActionMetrics=function(e,t,a,r){return n(this,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return n=[],e&&e.map(function(e){"bulkActionAddViewerStarted"===a?n.push(e.id):n.push(e.approval.id)}),o=new URLSearchParams,o.append("metricName",a),o.append("metricValue",JSON.stringify(n)),o.append("referenceId",t),o.append("category","bulkAction"),o.append("latency",r?r.toString():""),[4,m.default.post(f.SERVICE_ENDPOINTS+f.API_ROUTES.PUBLISH_METRICS,o).then(function(){}).catch(function(e){console.log("Unable to publish metrics "+e.message)})];case 1:return i.sent(),[2]}})})},BulkActionContainer.prototype.performBulkAction=function(e){return n(this,void 0,void 0,function(){var t,a,r,n,o,s,l,c,p,d,E=this;return i(this,function(h){switch(h.label){case 0:t=0,a=0,r=[],n=[],o=this.state.selectedApprovalList.slice(),s=function(s){var c,p,d,h,v,A,g,h,h,T;return i(this,function(i){switch(i.label){case 0:t=o.indexOf(s),o.splice(t,1),c=0,p=l.state.selectedViewerList,i.label=1;case 1:return c<p.length?(d=p[c],h=new URLSearchParams,h.append("approvalId",s.id),h.append("actorId",d.type==f.ActorType.PRINCIPAL?d.alias:d.groupName),h.append("type",d.type),h.append("referenceId",e),[4,m.default.post(f.SERVICE_ENDPOINTS+f.API_ROUTES.SAVE_VIEWER,h).then(function(e){var t=e.data.errorMessage;if(t)throw new Error(t.substring(0,t.lastIndexOf("(")));r=r.concat([s])}).catch(function(e){var t={approval:s,error:e.message};n=n.concat([t])}).finally(function(){E.setState({successful:r.slice(),inProgress:o.slice(),failed:n.slice()})})]):[3,4];case 2:i.sent(),i.label=3;case 3:return c++,[3,1];case 4:v=0,A=l.state.tagList,i.label=5;case 5:return v<A.length?(g=A[v],h=_.getTagObj(s.id,g.label,e,"approvalId"),[4,m.default.post(u.ServiceEndPoints.createTag,h).then(function(e){var t=e.data.errorMessage;if(t)throw new Error(t.substring(0,t.lastIndexOf("(")));r=r.concat([s])}).catch(function(e){var t={approval:s,error:e.message};n=n.concat([t])}).finally(function(){E.setState({successful:r.slice(),inProgress:o.slice(),failed:n.slice()})})]):[3,8];case 6:i.sent(),i.label=7;case 7:return v++,[3,5];case 8:return l.state.commentValue&&l.state.commentValue.trim().length>0&&l.state.commentValue.trim().length<=f.BULK_CORRESPONDENCE_LIMIT?(h=new URLSearchParams,h.append("approvalId",s.id),h.append("comment",l.state.commentValue),h.append("referenceId",e),h.append("bulkEdit",String(!0)),T=u.ServiceEndPoints.correspondence,[4,m.default.post(T,h).then(function(e){var t=e.data.errorMessage;if(t)throw new Error(t.substring(0,t.lastIndexOf("(")));r=r.concat([s])}).catch(function(e){var t={approval:s,error:e.message};n=n.concat([t])}).finally(function(){E.setState({successful:r.slice(),inProgress:o.slice(),failed:n.slice()})})]):[3,10];case 9:i.sent(),i.label=10;case 10:return a++,l.setState({percentCompleted:a/l.state.totalApprovalCount*100}),[2]}})},l=this,c=0,p=this.state.selectedApprovalList,h.label=1;case 1:return c<p.length?(d=p[c],[5,s(d)]):[3,4];case 2:h.sent(),h.label=3;case 3:return c++,[3,1];case 4:return this.setState({selectedApprovalList:o}),[2]}})})},BulkActionContainer.prototype.bulkEdit=function(){return n(this,void 0,void 0,function(){var e,t,a;return i(this,function(r){switch(r.label){case 0:return this.state.selectedApprovalList&&0!==this.state.selectedApprovalList.length?(this.setState({bulkEditActionTaken:!0,loading:!0}),e=Math.random(),t=c.v4(),a=this.state.selectedApprovalList.slice(),this.setState({inProgress:this.state.selectedApprovalList.slice(),stateTimeForLatency:Date.now()}),this.props.dispatch(d.updateNotification({value:{id:e,content:"Bulk Action in progress",loading:!0,type:"alert",status:"info"}})),[4,this.publishBulkActionMetrics(a,t,"bulkActionAddViewerStarted")]):(this.props.dispatch(d.updateNotification({value:{id:Math.random(),content:"No Approval selected for Bulk Action",type:"alert",loading:!1,status:"error"}})),[2]);case 1:return r.sent(),[4,this.performBulkAction(t)];case 2:return r.sent(),this.props.dispatch(d.updateNotification({value:{id:e,content:"Bulk Action was completed successfully",loading:!1,type:"alert",status:"success",duration:5e3}})),this.setState({loading:!1}),[4,this.publishBulkActionMetrics(this.state.failed,t,"bulkActionAddViewerCompleted",Date.now()-this.state.stateTimeForLatency)];case 3:return r.sent(),[2]}})})},BulkActionContainer.prototype.enableBulkEdit=function(){return!(this.state.showUndoneDisclaimer&&this.state.showKeepWindowOpenDisclaimer&&!this.state.loading&&(0!==this.state.selectedViewerList.length||0!==this.state.tagList.length||0!==this.state.commentValue.trim().length)&&this.state.commentValue.trim().length<=f.BULK_CORRESPONDENCE_LIMIT&&0!==this.state.selectedApprovalList.length)},BulkActionContainer.prototype.render=function(){var e=this,t=this.state,a=t.peopleSuggestedValue,r=t.bulkEditActionTaken,n=[],i=this.state.selectedViewerList,l=i.map(function(t,a){return o.createElement(S,{key:a,className:"col-md-6 selected-viewer",selectedViewer:t,onDelete:function(){return e.setState({selectedViewerList:i.filter(function(e){return e!==t})})}})});this.props.peopleResults.data&&this.props.peopleResults.data.length>0&&(n=this.props.peopleResults.data);var c={placeholder:"Search name, alias, title and/or dept",value:a,onChange:this.onPeopleInputChange},u=[{id:"id",header:"Id",cell:function(e){return o.createElement("a",{href:"/Approval/Details/"+e.approval.id,target:"_blank"},e.approval.id)}},{id:"title",header:"Title",cell:function(e){return o.createElement("a",{href:"/Approval/Details/"+e.approval.id,target:"_blank"},e.approval.title)}},{id:"error",header:"Error",cell:function(e){return e.error||"-"}}],d=[{id:"id",header:"Id",cell:function(e){var t=e.id;return o.createElement("a",{href:"/Approval/Details/"+t,target:"_blank"},t)}},{id:"title",header:"Title",cell:function(e){var t=e.id,a=e.title;return o.createElement("a",{href:"/Approval/Details/"+t,target:"_blank"},a)}},{id:"createdOn",header:"Created On",cell:function(e){return e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}},{id:"neededBy",header:"Needed By",cell:function(e){return e.neededOnDate?new Date(e.neededOnDate).toLocaleDateString():"-"}},{id:"requester",header:"Requester",cell:function(e){return e.requester&&e.requester.actor&&e.requester.actor.displayName}},{id:"status",header:"Status",cell:function(e){switch(e.status){case N.ApprovalStatus.APPROVED_WITH_CONDITION:return o.createElement("span",{className:"home-status-approved-conditions"},"Approved with conditions");case N.ApprovalStatus.APPROVED:return o.createElement("span",{className:"home-status-approved"},"Approved");case N.ApprovalStatus.REJECTED:return o.createElement("span",{className:"home-status-rejected"},"Rejected");case N.ApprovalStatus.DRAFT:return o.createElement("span",{className:"home-status-draft"},"Draft");case N.ApprovalStatus.CANCELLED:return o.createElement("span",{className:"home-status-cancelled"},"Cancelled");case N.ApprovalStatus.PENDING:return o.createElement("span",{className:"home-status-pending"},"Pending");case N.ApprovalStatus.INVALIDATED:return o.createElement("span",{className:"home-status-invalidated"},"Invalidated");case N.ApprovalStatus.ON_HOLD:return o.createElement("span",{className:"home-status-on-hold"},"On Hold");default:return"_"}}},{id:"currentApprover",header:"Current Approver",cell:function(e){var t=e&&e.id?e.id:null;if(e.approverList){var a=[];return e.approverList.forEach(function(e){"APPROVER_PENDING"===e.assignmentStatus&&a.push(e.actor.displayName+":"+e.actor.alias+":"+e.actor.type)}),a.length>1?o.createElement("div",null,a[0].split(":")[0],"Â +",o.createElement("a",{"data-tip":t+"","data-for":t+""},a.length-1),o.createElement(T,{className:"extraClass",id:t+"",delayHide:"500",place:"bottom",type:"light",effect:"solid"},o.createElement("div",{className:"awsui"},o.createElement(y.PendingApproverList,{approvers:a,getGroupDetailsLink:E.getGroupDetailsLink})))):1===a.length?a[0].split(":")[0]:"-"}return"-"}}];return o.createElement("div",{className:"awsui"},o.createElement("div",{className:"bulkActions-page-header"},o.createElement("div",{className:"awsui-grid"},o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-12 input-criteria-col"},o.createElement("div",{className:"column-header"},o.createElement("h3",null,o.createElement("b",null,"Bulk Edit")),o.createElement("p",null,o.createElement("strong",null,"You can edit the ",this.state.totalApprovalCount," selected ticket(s). Once changes are applied, they cannot be undone. All fields are optional unless specified otherwise. You must fill out at least 1 field(s) to submit form."))))))),o.createElement("div",{className:"awsui bulkActions-page-form"},o.createElement("div",{className:"awsui-grid"},o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"column-header"},o.createElement("h3",null,o.createElement("b",null,"Select Actions")))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-2"},o.createElement(s.FormField,{label:o.createElement("span",{className:"bulkEditLabel"},"Add Viewers")})),o.createElement("div",{className:"col-m-3 bulkEditInput"},o.createElement(p,{suggestions:n,onSuggestionsFetchRequested:this.getPeopleSuggestions,onSuggestionsClearRequested:this.clearSuggestions,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:c}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-2"}),o.createElement("div",{className:"col-m-9 viewerSelections"},l)),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-2"},o.createElement(s.FormField,{label:o.createElement("span",{className:"bulkEditLabel"},"Add Tags")})),o.createElement("div",{className:"col-m-3 bulkEditInput"},o.createElement("input",{className:"react-autosuggest__input",placeholder:"Enter tag name",style:{position:"relative"},onInput:function(t){e.setState({tagName:_.toValidTag(t.target.value)})},maxLength:f.MAX_LENGTH,value:this.state.tagName,onKeyPress:function(t){"Enter"==t.key&&e.createTag()},autoFocus:this.state.autoFocus})),o.createElement("div",{className:"col-xxs-4 col-m-2 "},o.createElement(s.Button,{className:"tagBtn",variant:"primary",disabled:this.state.bulkEditActionTaken,onClick:this.createTag,text:"Add"}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-2"}),o.createElement("div",{className:"col-m-9 viewerSelections"},o.createElement(y.TextTokenList,{tags:this.state.tagList,deleteTag:this.deleteTag}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-2"},o.createElement(s.FormField,{label:o.createElement("span",{className:"bulkEditLabel"},"Add Correspondence")}),o.createElement("p",{style:{fontSize:"12px"}},o.createElement("i",null,"Targeted correspondence (@mention) is not supported here."))),o.createElement("div",{className:"col-m-3 bulkEditInput"},o.createElement(N.PlainTextField,{label:"",placeholder:"Type your message",maxlength:f.BULK_CORRESPONDENCE_LIMIT,value:this.state.commentValue,onChange:function(t){var a=t.detail;return e.setState({commentValue:a.value})}}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-12"},o.createElement(s.Checkbox,{className:"undoneDisclaimer",checked:this.state.showUndoneDisclaimer,onChange:function(){e.setState({showUndoneDisclaimer:!e.state.showUndoneDisclaimer})},label:"I understand that once changes are applied, they cannot be undone."}))),o.createElement("div",{className:"awsui-row",style:{marginTop:"0px"}},o.createElement("div",{className:"col-m-12"},o.createElement(s.Checkbox,{className:"completedDisclaimer",checked:this.state.showKeepWindowOpenDisclaimer,onChange:function(){e.setState({showKeepWindowOpenDisclaimer:!e.state.showKeepWindowOpenDisclaimer})},label:"I understand that I need to keep this window open till all actions are completed"}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-12"},o.createElement(s.Button,{text:"Bulk Edit",disabled:this.enableBulkEdit(),onClick:this.bulkEdit,variant:"primary",id:"bulkActionButton"}),o.createElement(s.Button,{text:"Cancel",disabled:this.state.loading,onClick:function(){e.props.history.goBack()},id:"bulkActionGoBack"}),function(t){return e.state.loading?o.createElement("div",{className:"bulk-action-spinner-content"},o.createElement(s.Spinner,null),o.createElement("span",null,"Bulk Action in progress..."),t):t}(o.createElement(s.ProgressBar,{value:this.state.percentCompleted})))))),o.createElement("div",{className:"bulkActions-page-approvalList"},o.createElement("div",{className:"awsui-grid"},o.createElement(s.FormSection,{header:r?"In Progress":"Selected Approvals"},o.createElement("section",{className:"awsui-util-mb-m"},o.createElement(s.Table,{columnDefinitions:d,variant:"borderless",items:r?this.state.inProgress:this.state.selectedApprovalList,resizableColumns:!0,empty:o.createElement("div",{className:"awsui-util-t-c"},o.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},o.createElement("b",null,"There are no Approvals selected.")))}))),o.createElement(s.FormSection,{header:"Completed"},o.createElement("section",{className:"awsui-util-mb-m"},o.createElement(s.Table,{columnDefinitions:d,variant:"borderless",items:this.state.successful?this.state.successful:[],resizableColumns:!0,empty:o.createElement("div",{className:"awsui-util-t-c"},o.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},o.createElement("b",null,"There are no Approvals that were successful.")))}))),o.createElement(s.FormSection,{header:"Failed"},o.createElement("section",{className:"awsui-util-mb-m"},o.createElement(s.Table,{columnDefinitions:u,variant:"borderless",items:this.state.failed?this.state.failed:[],resizableColumns:!0,empty:o.createElement("div",{className:"awsui-util-t-c"},o.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},o.createElement("b",null,"There are no Approvals that failed.")))}))))))},BulkActionContainer}(o.Component),S=function(e){return e.selectedViewer?e.selectedViewer.type==u.ActoryType.PRINCIPAL?o.createElement(A.default,{showDelete:!0,employee:e.selectedViewer,onDelete:e.onDelete,selected:!0,onCheckBoxChange:e.onDelete}):o.createElement(g.default,{group:e.selectedViewer,showDelete:!0,onDelete:e.onDelete,selected:!0,onCheckBoxChange:e.onDelete}):null},P=function(e){return{peopleResults:e.PeopleSearch.peopleResults}},b=function(e){return{queryPeopleSearch:function(t){e(v.queryPeopleSearch(t))},dispatch:e}};t.default=l.connect(P,b)(R)},1571:function(e,t,a){"use strict";function mapStateToProps(e){return{isLoading:e.ConfigureGenericReports.isLoading,isError:e.ConfigureGenericReports.isError,isSucceeded:e.ConfigureGenericReports.isSucceeded,genericExportsPreferencesList:e.ConfigureGenericReports.genericExportsPreferencesList,genericExportsPreference:e.ConfigureGenericReports.genericExportsPreference,reportingPermissions:e.templateReportingPermissions.reportingPermissions,deleteResponseMessage:e.ConfigureGenericReports.deleteResponseMessage}}function mapDispatchToProps(e){return{createGenericExportPreference:function(t,a,r,n){e(u.createGenericExportPreference(t,a,r,n))},getGenericExportsPreferencesList:function(){e(u.getGenericExportsPreferencesList())},getPermissions:function(t){e(p.getTemplateReportingPermissions(t))},deleteGenericExportsPreference:function(t){e(u.deleteGenericExportsPreference(t))},dispatch:e}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(7),l=a(30),c=a(5),p=a(232),u=a(1572),d=a(6),m=a(13),f=a(46),E=a(10),h=(function(){function GenericExportsPreference(){}}(),{templateIdList:[],templateId:"",awsAccountId:"",pocAliasList:"",teamName:"",roleArn:"",genericExportsPreference:null,isLoading:!0,isDisabled:!1,hasPermissions:!1,configPath:""}),v=function(e){function GenericExportsContainer(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new l.MetricPageLatencyTimer,a.state=h,a.createGenericExportsPreference=a.createGenericExportsPreference.bind(a),a.checkTemplatePermissions=a.checkTemplatePermissions.bind(a),a}return r(GenericExportsContainer,e),GenericExportsContainer.prototype.componentDidMount=function(){document.title=this.props.addTitle("Exports Settings - "),this.props.getGenericExportsPreferencesList(),this.props.isLoading||this.metricPageLatencyTimer.publishPageLatency(d.CLIENT_METRICS_METHOD_NAMES.FAVORITE_TEMPLATES)},GenericExportsContainer.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},GenericExportsContainer.prototype.componentDidUpdate=function(e,t,a){if(e!=this.props){if(this.setState({isLoading:this.props.isLoading}),this.props.genericExportsPreferencesList&&e.genericExportsPreferencesList!=this.props.genericExportsPreferencesList)if(0==this.props.genericExportsPreferencesList.length)this.setState(h);else{var r=this.props.genericExportsPreferencesList,n=r[0],i=n.accountId,o=n.teamName,s=n.pocAliasList,l=n.roleArn,c=n.configPath;this.setState({awsAccountId:i,teamName:o,pocAliasList:s.join(", "),roleArn:l,isDisabled:!0,configPath:"s3://"+c})}if(null!==this.props.genericExportsPreference&&e.genericExportsPreference!=this.props.genericExportsPreference&&(this.setState({isDisabled:!0,hasPermissions:!1,templateId:""}),this.props.getGenericExportsPreferencesList()),this.props.reportingPermissions&&e.reportingPermissions!=this.props.reportingPermissions){var p=document.getElementById("userAlias").value,u=this.props.reportingPermissions,d=u.some(function(e){return e.employee.alias.toLowerCase()===p});this.setState({hasPermissions:d}),this.props.dispatch(E.deleteNotification({value:this.alertId})),d||(this.props.dispatch(E.createNotification({value:{id:Math.random(),content:"You do not have reporting permission on "+this.state.templateId,type:"alert",status:"error",duration:5e3}})),this.setState({templateId:""}))}e.deleteResponseMessage!==this.props.deleteResponseMessage&&(this.props.dispatch(E.createNotification({value:{id:Math.random(),content:this.props.deleteResponseMessage,type:"alert",status:"success",duration:5e3}})),this.props.getGenericExportsPreferencesList())}},GenericExportsContainer.prototype.parseValue=function(e){return e?e.split(/,\s*/).filter(function(e){return!!e}):[]},GenericExportsContainer.prototype.checkTemplatePermissions=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return""===this.state.templateId?[2]:(this.alertId=Math.random(),this.props.dispatch(E.createNotification({value:{id:this.alertId,content:"Checking Reporting Permissions for "+this.state.templateId,loading:!0,type:"alert",status:"info"}})),[4,this.props.getPermissions(this.state.templateId)]);case 1:return e.sent(),[2]}})})},GenericExportsContainer.prototype.createGenericExportsPreference=function(){var e=this;this.props.genericExportsPreferencesList&&this.props.genericExportsPreferencesList.forEach(function(t){t.templateId===e.state.templateId&&e.props.dispatch(E.createNotification({value:{id:Math.random(),content:"Preference for template "+e.state.templateId+" already exists.",type:"alert",status:"error",duration:5e3}}))}),this.props.createGenericExportPreference(this.state.templateId,this.state.awsAccountId,this.parseValue(this.state.pocAliasList),this.state.teamName)},GenericExportsContainer.prototype.deleteGenericExportsPreference=function(e){this.props.deleteGenericExportsPreference(e)},GenericExportsContainer.prototype.render=function(){var e=this,t=[{id:"templateId",header:"Template Id",cell:function(e){return o.createElement("a",{href:"/Template/Details/"+e.templateId,target:"_blank"},e.templateId)}},{id:"createdAt",header:"Created At",cell:function(e){return e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}},{id:"deletePreference",cell:function(t){return o.createElement("div",{className:"deleteBtn"},o.createElement(c.Tooltip,{position:"top",text:"Delete"},o.createElement("a",{href:"javascript:void(0)"},o.createElement("span",{className:"fa fa-trash fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"},onClick:function(){return e.deleteGenericExportsPreference(t.templateId)}}))))}}];return o.createElement("div",{className:"awsui generic-exports"},o.createElement("div",{className:"page-form"},o.createElement("div",{className:"awsui-grid"},o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"column-header"},o.createElement("h3",{className:"title-text"},o.createElement("b",null,"Exports Settings ")),"(",o.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/Reports/#HDataExporttoS3",target:"_blank"},"User Guide"),")")),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-6 col-l-6"},o.createElement(c.FormField,{label:o.createElement("span",{className:"form-label"},"Role ARN:")},o.createElement("span",null,this.state.roleArn))),o.createElement("div",{className:"col-6 col-l-6"},o.createElement(c.FormField,{label:o.createElement("span",{className:"form-label"},"S3 Path:")},o.createElement("span",null,this.state.configPath)))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-3 col-l-2"},o.createElement(c.FormField,{label:o.createElement("span",{className:"form-label"},"AWS Account Id (Once added cannot be changed)")})),o.createElement("div",{className:"col-9 col-l-10"},o.createElement(c.Input,{id:"awsAccountId",className:"input-box",onChange:function(t){e.setState({awsAccountId:t.detail.value})},autocomplete:!1,value:this.state.awsAccountId?this.state.awsAccountId:"",disabled:this.state.isDisabled}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-3 col-l-2"},o.createElement(c.FormField,{label:o.createElement("span",{className:"form-label"},"Team Name (Once added cannot be changed)")})),o.createElement("div",{className:"col-9 col-l-10 genericExportsInput"},o.createElement(c.Input,{id:"teamName",onChange:function(t){e.setState({teamName:t.detail.value.slice(0,50)})},autocomplete:!1,value:this.state.teamName?this.state.teamName:"",disabled:this.state.isDisabled,className:"input-box"}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-3 col-l-2"},o.createElement(c.FormField,{label:o.createElement("span",{className:"form-label"},"Contact Alias list (Once added cannot be changed)")})),o.createElement("div",{className:"col-9 col-l-10 input-box"},o.createElement(m.PeopleSearch,{name:"pocAliasList",placeholder:"Search for an Amazon employee",queryPeopleSearch:f.queryPeopleSearch,onChange:function(t){return e.setState({pocAliasList:t})},disabled:this.state.isDisabled,value:this.state.pocAliasList}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-3 col-l-2"},o.createElement(c.FormField,{label:o.createElement("span",{className:"form-label"},"Template Id")})),o.createElement("div",{className:"col-9 col-l-10"},o.createElement(c.Input,{id:"templateId",onChange:function(t){e.setState({templateId:t.detail.value})},autocomplete:!1,className:"input-box",onBlur:function(){e.checkTemplatePermissions()},value:this.state.templateId}))),o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-8"},o.createElement(c.Button,{text:"Create Preference",variant:"primary",id:"genericExportsButton",onClick:this.createGenericExportsPreference,disabled:!(this.state.templateId&&this.state.pocAliasList&&this.state.awsAccountId&&this.state.teamName&&this.state.hasPermissions)}))))),o.createElement("div",{className:"page-template-list"},o.createElement("div",{className:"awsui-grid"},o.createElement(c.FormSection,{header:"Generic Exports"},o.createElement("section",{className:"awsui-util-mb-m"},o.createElement(c.Table,{columnDefinitions:t,variant:"borderless",items:this.props.genericExportsPreferencesList?this.props.genericExportsPreferencesList:[],resizableColumns:!1,empty:o.createElement("div",{className:"awsui-util-t-c"},o.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},o.createElement("b",null,this.props.isLoading?"Loading Preferences...":"There are no Generic Export Preferences set.")))}))))))},GenericExportsContainer}(o.Component);t.default=s.connect(mapStateToProps,mapDispatchToProps)(v)},1572:function(e,t,a){"use strict";function createGenericExportPreference(e,t,a,c){var p=this;return function(u){return r(p,void 0,void 0,function(){var r;return n(this,function(n){return u(s.updateNotification({value:{id:l,content:"Adding Generic Export Preference",loading:!0,type:"alert",status:"info"}})),r=new URLSearchParams,r.append("accountId",t),r.append("pocAliasList",JSON.stringify(a)),r.append("teamName",c),r.append("templateId",e),i.default.post(o.ServiceEndPoints.createGenericExportsPreference,r).then(function(e){var t=e.data;u(s.deleteNotification({value:l}));var a=t.isError,r=t.errorMessage;a?u(s.updateNotification({value:{id:Math.random(),content:r,type:"alert",status:"error"}})):(u(s.updateNotification({value:{id:Math.random(),content:"Preference Added Successfully.",type:"alert",status:"success",duration:5e3}})),u(createGenericExportsList_Succeeded(t.data)))}).catch(function(e){u(s.deleteNotification({value:l})),u(s.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to add the Generic Exports Preference. "+e,type:"alert",status:"error"}}))}),[2]})})}}function getGenericExportsPreferencesList(){return function(e){e(s.updateNotification({value:{id:l,content:"Fetching Generic Export Preference",loading:!0,type:"alert",status:"info"}})),i.default.get(o.ServiceEndPoints.getGenericExportsPreferencesList).then(function(t){var a=t.data;e(s.deleteNotification({value:l})),e(getGenericExportsList_Succeeded(a.data))}).catch(function(t){e(getGenericExportsList_Failed("Something went wrong, we are not able to fetch your Generic Exports Preferences. "+t))})}}function deleteGenericExportsPreference(e){return function(t){var a=new URLSearchParams;a.append("templateId",e),a.append("employeeId",""),i.default.post(o.ServiceEndPoints.deleteGenericExportsPreference,a).then(function(e){var a=e.data,r=a.isError,n=a.errorMessage;r&&t(deleteGenericExportsList_Failed(n)),t(deleteGenericExportsList_Succeeded(a.data))}).catch(function(e){t(deleteGenericExportsList_Failed("Something went wrong, we are not able to fetch your Generic Exports Preferences. "+e))})}}function getGenericExportsList_Succeeded(e){return{type:o.GenericExportsActionType.GetGenericExportsList_Succeeded,payload:e}}function getGenericExportsList_Failed(e){return{type:o.GenericExportsActionType.GetGenericExportsList_Failed,payload:e}}function createGenericExportsList_Succeeded(e){return{type:o.GenericExportsActionType.CreateGenericExportsList_Succeeded,payload:e}}function createGenericExportsList_Failed(e){return{type:o.GenericExportsActionType.CreateGenericExportsList_Failed,payload:e}}function deleteGenericExportsList_Succeeded(e){return{type:o.GenericExportsActionType.DeleteGenericExportsList_Succeeded,payload:e}}function deleteGenericExportsList_Failed(e){return{type:o.GenericExportsActionType.DeleteGenericExportsList_Failed,payload:e}}var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),o=a(4),s=a(10),l=Math.random();t.createGenericExportPreference=createGenericExportPreference,t.getGenericExportsPreferencesList=getGenericExportsPreferencesList,t.deleteGenericExportsPreference=deleteGenericExportsPreference,t.getGenericExportsList_Succeeded=getGenericExportsList_Succeeded,t.getGenericExportsList_Failed=getGenericExportsList_Failed,t.createGenericExportsList_Succeeded=createGenericExportsList_Succeeded,t.createGenericExportsList_Failed=createGenericExportsList_Failed,t.deleteGenericExportsList_Succeeded=deleteGenericExportsList_Succeeded,t.deleteGenericExportsList_Failed=deleteGenericExportsList_Failed},1573:function(e,t,a){"use strict";function findRequester(e){var t=e.find(function(e){return e.role===v.CUSTOM_REPORTS_CONSTANTS.REQUESTER});return t?{requester:t.actor,requesterAlias:t.actorAlias}:{requester:"-",requesterAlias:"-"}}function mapStateToProps(e){return{genericData:e.GenericReportData,keys:e.AllKeys,users:e,quickLinksData:e.QuickLinks.quickLinksData}}function mapDispatchToProps(e){var t=d.bindActionCreators({allApprovals:f.default,keysPerPerson:A.default,allUsers:g.default,getAllKeys:T.default,postQuickLinks:N.postQuickLinks},e);return n({},t,{dispatch:e})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]]);return a};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(0),l=a(0),c=a(307),p=a(5),u=a(1),d=a(23),m=a(7),f=a(1574),E=a(86),h=a(758),v=a(6),A=a(1575),g=a(1576),T=a(1577),y=a(765),_=a(4),N=a(168),R=a(266),S=a(72),P=a(46),b=a(13),C=a(57),O=a(30);!function(e){e.Approver="APPROVER",e.ApproverGroup="APPROVERGROUP",e.Viewer="VIEWER",e.ViewerGroup="VIEWERGROUP",e.Requester="REQUESTER",e.TemplateID="TEMPLATEID",e.Priority="PRIORITY"}(o||(o={}));var I,D=[{id:"",label:"",displayOrder:1},{id:_.PriorityType.HIGH,label:_.DisplayPriority.HIGH,displayOrder:2},{id:_.PriorityType.MEDIUM,label:_.DisplayPriority.MEDIUM,displayOrder:3},{id:_.PriorityType.LOW,label:_.DisplayPriority.LOW,displayOrder:4},{id:_.PriorityType.NONE,label:_.DisplayPriority.NONE,displayOrder:5}],L=[{text:"Approver (User)",id:o.Approver,valueField:"approverValue",SearchComponent:b.PeopleSearch,placeholder:"Search for an Amazon employee",queryPeopleSearch:P.queryPeopleSearch},{text:"Viewer (User)",id:o.Viewer,valueField:"viewerValue",SearchComponent:b.PeopleSearch,placeholder:"Search for an Amazon employee",queryPeopleSearch:P.queryPeopleSearch},{text:"Approver (Group)",id:o.ApproverGroup,valueField:"approverGroupValue",SearchComponent:b.PeopleSearch,placeholder:"Search for a group",queryPeopleSearch:P.queryPeopleSearch,onlyGroups:!0},{text:"Viewer (Group)",id:o.ViewerGroup,valueField:"viewerGroupValue",SearchComponent:b.PeopleSearch,placeholder:"Search for a group",queryPeopleSearch:P.queryPeopleSearch,onlyGroups:!0},{text:"Requester",id:o.Requester,valueField:"requesterValue",SearchComponent:b.PeopleSearch,placeholder:"Search for an Amazon employee",queryPeopleSearch:P.queryPeopleSearch},{text:"Template ID",id:o.TemplateID,valueField:"templateIdValue",SearchComponent:b.TextSearch,placeholder:"Enter a comma separated list of template ID's"},{text:"Priority",id:o.Priority,valueField:"priority",SearchComponent:b.SingleSelectSearch,options:D.sort(b.byProp("displayOrder"))}];!function(e){e.CurrentMonth="CURRENT_MONTH",e.CurrentQuarter="CURRENT_QUARTER",e.CurrentYear="CURRENT_YEAR",e.PreviousMonth="PREVIOUS_MONTH",e.PreviousQuarter="PREVIOUS_QUARTER",e.PreviousYear="PREVIOUS_YEAR",e.Last30="LAST_30",e.Last90="LAST_90",e.LastYear="LAST_YEAR",e.Custom="CUSTOM"}(I||(I={}));var w=(F={},F[I.CurrentMonth]={label:"This month",spec:{ref:"current",timespan:"month"}},F[I.CurrentQuarter]={label:"This quarter",spec:{ref:"current",timespan:"quarter"}},F[I.CurrentYear]={label:"This year",spec:{ref:"current",timespan:"year"}},F[I.PreviousMonth]={label:"Previous month",spec:{ref:"previous",timespan:"month"}},F[I.PreviousQuarter]={label:"Previous quarter",spec:{ref:"previous",timespan:"quarter"}},F[I.PreviousYear]={label:"Previous year",spec:{ref:"previous",timespan:"year"}},F[I.Last30]={label:"Last 30 days",spec:{ref:"last",timespan:"day",count:30}},F[I.Last90]={label:"Last 90 days",spec:{ref:"last",timespan:"day",count:90}},F[I.LastYear]={label:"Last year",spec:{ref:"last",timespan:"year"}},F[I.Custom]={label:"Custom",spec:{ref:"custom"}},F),M=1,U=20,k=function(e){function GenericReportsComponent(t){var a=e.call(this,t)||this;return a.metricPageLatencyTimer=new O.MetricPageLatencyTimer,a.onFieldValueChange=a.onFieldValueChange.bind(a),a.onRunReport=a.onRunReport.bind(a),a.getTableItems=a.getTableItems.bind(a),a.getFilterEnabledTableItems=a.getFilterEnabledTableItems.bind(a),a.onStartDateChange=a.onStartDateChange.bind(a),a.onEndDateChange=a.onEndDateChange.bind(a),a.validateReport=a.validateReport.bind(a),a.onOutputTypeChange=a.onOutputTypeChange.bind(a),a.generateColumns=a.generateColumns.bind(a),a.generateKeys=a.generateKeys.bind(a),a.getInputProps=a.getInputProps.bind(a),a.onKeyDetailSelect=a.onKeyDetailSelect.bind(a),a.generateOutputType=a.generateOutputType.bind(a),a.onDownloadExcel=a.onDownloadExcel.bind(a),a.addQuickLink=a.addQuickLink.bind(a),a.onPaginationChange=a.onPaginationChange.bind(a),a.onAbove100MMUSDChange=a.onAbove100MMUSDChange.bind(a),a.setQuickDate=a.setQuickDate.bind(a),a.updateFilters=a.updateFilters.bind(a),a.getFilterState=a.getFilterState.bind(a),a.state={startDate:null,endDate:null,permissionTo:null,permissionOf:null,permissionToError:null,permissionOfError:null,grantModalState:!1,grantModalData:null,startDateError:null,endDateError:null,fieldTypeError:null,fieldValueError:null,outputType:[],selectedKeys:[],staleData:!0,pageSize:U,currentPageIndex:M,above100MMUSD:!1,isQuickLinkSaving:!1,selectedDateRange:I.Last30,filters:{approvalId:"",externalId:"",title:"",createdAt:"",neededOnDate:""},filtersExist:!1,inputCriteria:{approverValue:"",approverGroupValue:"",viewerValue:"",viewerGroupValue:"",requesterValue:"",templateIdValue:"",priority:""}},a}return r(GenericReportsComponent,e),GenericReportsComponent.prototype.getInputProps=function(e){var t=this,a=e.id,r=e.text,n=e.valueField;return{className:"awsui-row awsui-util-spacing-v-s awsui-util-no-gutters",formContainerProps:{className:"col-xxxs-12 col-s-9 col-l-10"},label:s.createElement("span",{className:"col-xxxs-12 col-s-3 col-l-2","data-testid":"reporting-reports__"+n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},r),name:a,onChange:function(e){return t.onFieldValueChange({id:a,valueField:n,value:e})}}},GenericReportsComponent.prototype.getExactFilterHelp=function(e){return s.createElement("div",null,e,s.createElement(p.Popover,{triggerType:"custom",content:s.createElement("div",null,"This filter must match exactly.")},s.createElement("i",{className:"fa fa-info-circle","aria-hidden":!0})))},GenericReportsComponent.prototype.getUTCHelp=function(e){return s.createElement("div",null,e,"Â (UTC)",s.createElement(p.Popover,{triggerType:"custom",content:s.createElement("div",null,"Coordinated Universal Time (or UTC) is the primary time standard by which the world regulates clocks and time.",s.createElement("br",null),s.createElement("br",null),s.createElement("div",null,"Current UTC Time: ",u.utc().format("MM-DD-YYYY HH:mm")),s.createElement("div",null,"Current Local Time: ",u().format("MM-DD-YYYY HH:mm")))},s.createElement("i",{className:"fa fa-info-circle","aria-hidden":!0})))},GenericReportsComponent.prototype.onFieldValueChange=function(e){var t=e.id,a=e.valueField,r=e.value,i=r&&r.trim()?null:this.state.fieldValueError;this.setState({fieldValueError:i,inputCriteria:n({},this.state.inputCriteria,(s={},s[a]=r,s))}),t===o.Priority&&this.setState({staleData:!0});var s},GenericReportsComponent.prototype.onRunReport=function(){var e=this;this.validateReport()||(this.setState({staleData:!1}),this.setState({currentPageIndex:M,pageSize:U},function(){e.props.allApprovals(e.state),window.location="#runbutton"}))},GenericReportsComponent.prototype.onAbove100MMUSDChange=function(e){this.setState({above100MMUSD:e.detail.checked});var t=h.parse(this.props.location.search);t.above100MMUSD=e.detail.checked,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(t)})},GenericReportsComponent.prototype.onStartDateChange=function(e,t){if("ONDAYCHANGE"===t&&e){this.setState({startDate:e,startDateError:null});var a=h.parse(this.props.location.search);a.startDate=e,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(a)})}else this.setState({startDateError:"Start date is invalid",startDate:null})},GenericReportsComponent.prototype.onEndDateChange=function(e,t){if("ONDAYCHANGE"===t&&e){this.setState({endDate:e,endDateError:null});var a=h.parse(this.props.location.search);a.endDate=e,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(a)})}else this.setState({endDateError:"End date is invalid",endDate:null})},GenericReportsComponent.prototype.componentDidMount=function(){var e=this;document.title=this.props.addTitle("Reports - ");var t=h.parse(this.props.location.search);if(t.fieldtype&&t.fieldvalue){var a=L.find(function(e){return e.id===t.fieldtype});a&&this.setState({inputCriteria:(l={},l[a.valueField]=t.fieldvalue,l)})}var r=L.filter(function(e){var a=e.id;return t[a]});r.length&&this.setState({inputCriteria:r.reduce(function(e,a){var r=a.valueField,i=a.id;return n({},e,(o={},o[r]=t[i],o));var o},{})});var i=new Date;if(t.startDate?this.setState({startDate:t.startDate}):this.setState({startDate:(new Date).setDate(i.getDate()-30)}),t.endDate?this.setState({endDate:t.endDate}):this.setState({endDate:i}),t.dateRange?this.setState({selectedDateRange:t.dateRange}):(t.startDate||t.endDate)&&this.setState({selectedDateRange:I.Custom}),t.outputType){var o=t.outputType,s=o.split(",");this.setState({outputType:s}),s.indexOf("KEYDETAILS")>-1&&this.props.allUsers().then(function(t){var a=t.payload.data.data.getAllPermissionOf.users.map(function(e){return{value:e}});e.props.keysPerPerson({users:a})})}else this.setState({outputType:[]});if(t.keynames){var o=t.keynames,s=o.split(",");this.setState({selectedKeys:s})}else this.setState({selectedKeys:[]});t.above100MMUSD&&"true"===t.above100MMUSD?this.setState({above100MMUSD:!0}):this.setState({above100MMUSD:!1});var l},GenericReportsComponent.prototype.componentWillUnmount=function(){document.title=this.props.addTitle("")},GenericReportsComponent.prototype.componentDidUpdate=function(e,t){var a=this;if(!c.equals(t.inputCriteria,this.state.inputCriteria)){var r=h.parse(this.props.location.search),i=r.dateRange,o=r.startDate,s=r.endDate,l=r.outputType,p=r.above100MMUSD,u=L.filter(function(e){var t=e.valueField;return a.state.inputCriteria[t]&&a.state.inputCriteria[t].trim()}).reduce(function(e,t){var r=t.id,i=t.valueField;return n({},e,(o={},o[r]=a.state.inputCriteria[i],o));var o},{dateRange:i,startDate:o,endDate:s,outputType:l,above100MMUSD:p});this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(u)})}if(this.state.selectedDateRange!==t.selectedDateRange){this.setQuickDate();var d=h.parse(this.props.location.search);d.dateRange=this.state.selectedDateRange,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(d)})}this.state.filters!==t.filters&&(this.props.allApprovals(this.state),this.setState({filtersExist:this.getFilterState(this.state.filters)}))},GenericReportsComponent.prototype.preenAttributeValue=function(e){switch(e.type){case"SINGLE_DROPDOWN":var t="-",a=JSON.parse(e.value);return a&&a.forEach(function(e){!0!==e.selected&&"true"!==e.selected||(t=e.value)}),t;case"MULTI_DROPDOWN":var r="",a=JSON.parse(e.value);return a?(a.forEach(function(e){!0!==e.selected&&"true"!==e.selected||(r=r+e.value+",")}),r):"-";case"CALENDAR":return u.utc(e.value).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT)||"-";case"NUMERIC":return e.value||"-";case"PHONE_NUMBER":return e.value&&v.ATTRIBUTE_PARAMETER_PHONE_COUNTRY_CODE.filter(function(t){return t.id===e.parameter})[0]?v.ATTRIBUTE_PARAMETER_PHONE_COUNTRY_CODE.filter(function(t){return t.id===e.parameter})[0].label+" "+e.value||"-":e.value+" "+e.parameter||"-";case"CURRENCY":return e.value&&v.ATTRIBUTE_PARAMETER_CURRENCY.filter(function(t){return t.id===e.parameter})[0]?e.value+" "+v.ATTRIBUTE_PARAMETER_CURRENCY.filter(function(t){return t.id===e.parameter})[0].label||"-":e.value+" "+e.parameter||"-";default:return e.value||"-"}},GenericReportsComponent.prototype.convertMillisecondsToDayDiff=function(e){var t=Math.floor(e/1e3);return(Math.floor(t/60)/60).toFixed(2)},GenericReportsComponent.prototype.getTableItems=function(){var e=this;if(!0===this.state.staleData)return[];if(!this.props.genericData||!this.props.genericData.data)return[];var t=this.props.genericData.data.data.GenericReportApprovals||this.props.genericData.data.data.ReportApprovalsTemplate;this.state.outputType.indexOf("KEYDETAILS")>-1&&t.approvals.forEach(function(t){null!=t.attributeList&&(t.attributeList.forEach(function(a){t[a.name]=e.preenAttributeValue(a)}),t.attributeList=null)});var a=this.state.outputType;if(!a.includes(v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR)&&!a.includes(v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR_ALIAS))return t.approvals;var r=[];return t.approvals.forEach(function(e){if(e.actorList){var t=e.routeList||[],a=t.reduce(function(e,t){var a=t.id,r=t.name;return n({},e,(i={},i[a]=r,i));var i},{}),i=findRequester(e.actorList),o=i.requester,s=i.requesterAlias;e.actorList.forEach(function(t){r.push(Object.assign({actorList:null,role:t.role,actor:t.actor,assignmentStatus:t.assignmentStatus,requester:o,requesterAlias:s,actorAlias:t.actorAlias,routeName:t.routeId?a[t.routeId]:"-",decisionNeededOn:t.decisionNeededOn,decisionMadeOn:t.decisionMadeOn},e))})}}),r},GenericReportsComponent.prototype.getFilterEnabledTableItems=function(){var e=this,t=[{filterColumn:"id",filterType:"TextColumnFilter",id:"approvalId",updateParentText:this.updateFilters,disabled:this.state.staleData},{filterColumn:"externalId",filterType:"TextColumnFilter",id:"externalId",updateParentText:this.updateFilters,disabled:this.state.staleData},{filterColumn:"title",filterType:"TextColumnFilter",id:"title",updateParentText:this.updateFilters,disabled:this.state.staleData},{filterColumn:"createdAt",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval created on date",disabled:this.state.staleData,updateDateFilter:function(t){e.updateFilters({createdAt:t})}},{filterColumn:"neededOnDate",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval needed by date",disabled:this.state.staleData,updateDateFilter:function(t){return e.updateFilters({neededOnDate:t})}},{filterColumn:"changedAt",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval last updated date",disabled:!0,updateDateFilter:function(t){return e.updateFilters({changedAt:t})}},{filterColumn:"endedAt",filterType:"DateColumnFilter",modalHeader:"Apply filter on approval completed on date",disabled:!0,updateDateFilter:function(t){return e.updateFilters({endedAt:t})}},{filterColumn:"status",filterType:"OptionColumnFilter",updateParent:function(t){var a=t.id;e.updateFilters({status:"ANY"===a?"":a})},disabled:this.state.staleData,items:C.STATUS_FILTER_DROPDOWN},{filterColumn:"priority",filterType:"OptionColumnFilter",updateParent:function(t){var a=t.id;e.updateFilters({priority:"ALL"===a?"":a})},disabled:this.state.staleData||""!==this.state.inputCriteria.priority,items:C.PRIORITY_FILTER_DROPDOWN},{filterColumn:"isPrivate",filterType:"OptionColumnFilter",updateParent:function(t){var a=t.id;e.updateFilters({isPrivate:"ALL"===a?"":a})},disabled:this.state.staleData,items:C.PRIVACYTYPE_FILTER_DROPDOWN}],a=this.getTableItems();a=a.filter(function(e){return!e.isFilter});var r=C.getFilterEnabledTableItems(t);return r.isFilter=!0,a.unshift(r),a},GenericReportsComponent.prototype.updateFilters=function(e){this.setState({filters:n({},this.state.filters,e)})},GenericReportsComponent.prototype.getFilterState=function(e){for(var t in e)if(""!==e[t])return!0;return!1},GenericReportsComponent.prototype.validateReport=function(){var e=this;return!!L.every(function(t){var a=t.valueField;return!e.state.inputCriteria[a]})&&(this.setState({fieldValueError:"You must enter a value in at least one field"}),!0)},GenericReportsComponent.prototype.onOutputTypeChange=function(e){var t=this;this.setState({staleData:!0});var a=h.parse(this.props.location.search),r="";e.detail.selectedIds.forEach(function(e){r=r+e+","}),r=r.substring(0,r.length-1),a.outputType=r,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(a)}),e.detail.selectedIds.indexOf("KEYDETAILS")>-1&&this.props.allUsers().then(function(e){t.props.getAllKeys(e.payload.data.data.getAllPermissionOf)}),(e.detail.selectedIds.includes(v.CUSTOM_REPORTS_CONSTANTS.APPROVER_ACTION)||e.detail.selectedIds.includes("ROLE")||e.detail.selectedIds.includes(v.CUSTOM_REPORTS_CONSTANTS.ROUTE_NAME)||e.detail.selectedIds.includes(v.CUSTOM_REPORTS_CONSTANTS.DECISION_NEEDED_ON)||e.detail.selectedIds.includes(v.CUSTOM_REPORTS_CONSTANTS.DECISION_MADE_ON))&&!e.detail.selectedIds.includes(v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR)&&(e.detail.selectedIds.push(v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR),r=r+","+v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR,a.outputType=r,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(a)})),this.setState({outputType:e.detail.selectedIds})},GenericReportsComponent.prototype.generateOutputType=function(){var e=[{label:"Approval ID",id:v.CUSTOM_REPORTS_CONSTANTS.APPROVAL_ID,disabled:!1},{label:"External ID",id:v.CUSTOM_REPORTS_CONSTANTS.EXTERNAL_ID,disabled:!1},{label:"Approval Title",id:v.CUSTOM_REPORTS_CONSTANTS.APPROVAL_TITLE,disabled:!1},{label:"Started On (sent for approvals)",id:v.CUSTOM_REPORTS_CONSTANTS.STARTED_AT,disabled:!1},{label:"Created On (put into draft)",id:v.CUSTOM_REPORTS_CONSTANTS.CREATED_AT,disabled:!1},{label:"Ended At",id:v.CUSTOM_REPORTS_CONSTANTS.ENDED_AT,disabled:!1},{label:"Status",id:v.CUSTOM_REPORTS_CONSTANTS.STATUS,disabled:!1},{label:"Requester",id:v.CUSTOM_REPORTS_CONSTANTS.REQUESTER,disabled:!1},{label:"Requester Alias",id:v.CUSTOM_REPORTS_CONSTANTS.REQUESTER_ALIAS,disabled:!1},{label:"Template ID",id:v.CUSTOM_REPORTS_CONSTANTS.TEMPLATEID,disabled:!1},{label:"Actor",id:v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR,disabled:!1},{label:"Actor Alias",id:v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR_ALIAS,disabled:!1},{label:"Role",id:"ROLE",disabled:!1},{label:"Actor Action",id:v.CUSTOM_REPORTS_CONSTANTS.APPROVER_ACTION,disabled:!1},{label:"Key Details",id:v.CUSTOM_REPORTS_CONSTANTS.KEYDETAILS,disabled:!1},{label:"Attachments Exist",id:v.CUSTOM_REPORTS_CONSTANTS.DOCUMENTS_EXIST,disabled:!1},{label:"Route Name",id:v.CUSTOM_REPORTS_CONSTANTS.ROUTE_NAME,disabled:!1},{label:"Invalidated On",id:v.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_AT,disabled:!1},{label:"Invalidated By",id:v.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_BY,disabled:!1},{label:"Approval Needed By",id:v.CUSTOM_REPORTS_CONSTANTS.APPROVAL_NEED_BY,disabled:!1},{label:"Decision Needed On",id:v.CUSTOM_REPORTS_CONSTANTS.DECISION_NEEDED_ON,disabled:!1},{label:"Decision Made On",id:v.CUSTOM_REPORTS_CONSTANTS.DECISION_MADE_ON,disabled:!1},{label:"Priority",id:v.CUSTOM_REPORTS_CONSTANTS.PRIORITY,disabled:!1},{label:"Tags",id:v.CUSTOM_REPORTS_CONSTANTS.TAGS,disabled:!1}];return this.props.privateApprovalsFeatureEnabled&&e.push({label:"Privacy Type",id:v.CUSTOM_REPORTS_CONSTANTS.PRIVACY_TYPE,disabled:!1}),e},GenericReportsComponent.prototype.generateColumns=function(){var e=this;if(!0===this.state.staleData)return[];var t=[];return this.state.outputType.forEach(function(a){switch(a){case v.CUSTOM_REPORTS_CONSTANTS.APPROVAL_ID:t.push({id:"id",header:function(){return"Approval ID"},cell:function(e){var t=e.status,a=e.id;if(e.isFilter)return a;var r=t===b.ApprovalStatus.DRAFT?"Edit":"Details";return s.createElement("div",null,s.createElement("a",{target:"_blank",href:"/Approval/"+r+"/"+a},a))},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.EXTERNAL_ID:t.push({id:"externalId",header:function(){return s.createElement("span",null,e.getExactFilterHelp("External ID"))},cell:function(e){if(e.isFilter)return e.externalId;var t=e.status===b.ApprovalStatus.DRAFT?"Edit":"Details";return s.createElement("div",null,s.createElement("a",{target:"_blank",href:"/Approval/"+t+"/"+e.id},e.externalId))},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.APPROVAL_TITLE:t.push({id:"title",header:function(){return"Approval Title"},cell:function(e){if(e.isFilter)return e.title;if(e.title){var t=document.createElement("textarea");return t.innerHTML=e.title,t.value}return"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.STARTED_AT:t.push({id:"startedAt",header:function(){return s.createElement("span",null,e.getUTCHelp("Started On"))},cell:function(e){return e.isFilter?"":s.createElement("span",null,e.startedAt?u.utc(e.startedAt).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT)||"-":"-")},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.CREATED_AT:t.push({id:"createdAt",header:function(){return s.createElement("span",null,e.getUTCHelp("Created On"))},cell:function(e){return e.isFilter?e.createdAt:s.createElement("span",null,u.utc(e.createdAt).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT)||"-")},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.ENDED_AT:t.push({id:"endedAt",header:function(){return s.createElement("span",null,e.getUTCHelp("Ended At"))},cell:function(e){return e.isFilter?"":s.createElement("span",null,e.endedAt?u.utc(e.endedAt).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT):"-")},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.STATUS:t.push({id:"status",header:function(){return"Approval Status"},cell:function(e){var t=e.status;return e.isFilter?t:b.getDisplayApprovalStatus(t)||"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.REQUESTER:t.push({id:"createdBy",header:function(){return"Requester"},cell:function(e){var t=e.requester,a=e.actorList;return e.isFilter?"":t||a?t||findRequester(a).requester:"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.REQUESTER_ALIAS:t.push({id:"requesterAlias",header:function(){return"Requester Alias"},cell:function(e){var t=e.requesterAlias,a=e.actorList;return e.isFilter?"":t||a?t||findRequester(a).requesterAlias:"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.TEMPLATEID:t.push({id:"templateId",header:function(){return"Template ID"},cell:function(e){var t=e.templateId;return e.isFilter?"":t&&t>1?s.createElement("a",{href:"/Template/Details/"+t,target:"_blank"},t):"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR:t.push({id:"actor",header:function(){return"Actor"},cell:function(e){return e.isFilter?"":e.actor||"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.ROUTE_NAME:t.push({id:"rotueName",header:function(){return"Route Name"},cell:function(e){return e.isFilter?"":e.routeName||"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR_ALIAS:t.push({id:"actorAlias",header:function(){return"Actor Alias"},cell:function(e){return e.isFilter?"":e.actorAlias||"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.DECISION_NEEDED_ON:t.push({id:"decisionNeededOn",header:function(){return s.createElement("span",null,e.getUTCHelp("Decision Needed On"))},cell:function(e){var t=e.decisionNeededOn;return e.isFilter?"":t?u.utc(t).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT):"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.DECISION_MADE_ON:t.push({id:"decisionMadeOn",header:function(){return s.createElement("span",null,e.getUTCHelp("Decision Made On"))},cell:function(e){var t=e.decisionMadeOn;return e.isFilter?"":t?u.utc(t).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT):"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.APPROVER_ACTION:t.push({id:"actionType",header:function(){return"Actor Action"},cell:function(e){var t=e.assignmentStatus;return e.isFilter?"":_.ApproverStatusDisplay[t]||"-"},allowLineWrap:!0});break;case"ROLE":t.push({id:"Role",header:function(){return"Role"},cell:function(e){return e.isFilter?"":e.role||"-"},allowLineWrap:!0});break;case"KEYDETAILS":e.state.selectedKeys.forEach(function(e){t.push({id:e,header:function(){return e},cell:function(t){return t.isFilter?"":t[e]||"-"},allowLineWrap:!0})});break;case"DOCUMENTS_EXIST":t.push({id:"documentsExist",header:function(){return"Attachments Exist"},cell:function(e){return e.isFilter?"":e.documentsExist?"TRUE":"FALSE"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_AT:t.push({id:"invalidatedAt",header:function(){return s.createElement("span",null,e.getUTCHelp("Invalidated On"))},cell:function(e){return e.isFilter?"":s.createElement("span",null,e.invalidatedAt?u.utc(e.invalidatedAt).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT):"-")},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_BY:t.push({id:"invalidatedBy",header:function(){return"Invalidated By"},cell:function(e){return e.isFilter?"":e.invalidatedBy||"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.APPROVAL_NEED_BY:t.push({id:"neededOnDate",header:function(){return s.createElement("span",null,e.getUTCHelp("Approval Needed By"))},cell:function(e){return e.isFilter?e.neededOnDate:s.createElement("span",null,e.neededOnDate?u.utc(e.neededOnDate).format(v.CUSTOM_REPORTS_CONSTANTS.DATE_FORMAT):"-")},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.PRIORITY:t.push({id:"priority",header:function(){return"Priority"},cell:function(e){var t=e.priority;return e.isFilter?t:_.DisplayPriority[t]||"-"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.PRIVACY_TYPE:t.push({id:"isPrivate",header:function(){return"Privacy Type"},cell:function(e){var t=e.isPrivate;return e.isFilter?t:t?"Includes private info":"General"},allowLineWrap:!0});break;case v.CUSTOM_REPORTS_CONSTANTS.TAGS:t.push({id:"tags",header:"Tags",cell:function(e){if(e.isFilter)return e.tags;var t=e.id;if(e.tagList){var a=[];return e.tagList.forEach(function(e){return a.push(e.tagName)}),a.length>1?s.createElement("div",null,s.createElement("a",{href:"/Approvals/search?q=tag:+"+a[0]},a[0]),"Â +",s.createElement("a",{"data-tip":!0,"data-for":t+"tag"},a.length-1),s.createElement(R,{className:"extraClass",id:t+"tag",delayHide:"500",place:"bottom",type:"light",effect:"solid"},s.createElement("div",{className:"awsui"},s.createElement("div",{className:"awsui-grid"},a.map(function(e){return s.createElement("div",{className:"awsui-row",key:e},s.createElement("a",{rel:"noopener noreferrer",href:"/Approvals/search?q=tag:+"+e,className:"col-12"},e))}))))):1==a.length?s.createElement("a",{href:"/Approvals/search?q=tag:+"+a[0]},a[0]):"-"}return"-"},allowLineWrap:!0,minWidth:"180px"})}}),t},GenericReportsComponent.prototype.generateKeys=function(){return null!=this.props.keys&&null!=this.props.keys.data?this.props.keys.data.data.GetAllKeys.map(function(e){return{id:e,label:e,disabled:!1}}):[]},GenericReportsComponent.prototype.onKeyDetailSelect=function(e){this.setState({staleData:!0,selectedKeys:e.detail.selectedIds});var t=h.parse(this.props.location.search),a="";e.detail.selectedIds.forEach(function(e){a=a+e+","}),a.length>0&&(a=a.substring(0,a.length-1)),t.keynames=a,this.props.history.push({pathname:this.props.history.pathname,search:"?"+h.stringify(t)})},GenericReportsComponent.prototype.onDownloadExcel=function(){var e=y.default("GENERIC_REPORTING_EXCEL",this.state);e=encodeURIComponent(e),window.open("/api/reporting/container/download?query="+e)},GenericReportsComponent.prototype.addQuickLink=function(){var e=document.getElementById("QUICKLINKNAME");if(null!=e.value&&""!==e.value){this.setState({isQuickLinkSaving:!0});var t={name:e.value,url:window.location.href};if(this.props.quickLinksData.quickLinksString&&this.props.quickLinksData.quickLinksString.length>0){var a=this.props.quickLinksData.quickLinksString;a.push(JSON.stringify(t)),this.props.postQuickLinks(a)}else{var a=[];a.push(JSON.stringify(t)),this.props.postQuickLinks(a)}this.setState({isQuickLinkSaving:!1})}},GenericReportsComponent.prototype.setQuickDate=function(){if(this.state.selectedDateRange!==I.Custom){var e=w[this.state.selectedDateRange].spec,t=e.ref,a=e.timespan,r=e.count,n=void 0===r?1:r,i="current"===t?u():u().subtract(n,a),o="last"===t?u():i,s="last"===t?"day":a,l=i.startOf(s).local().format("MM/DD/YYYY");this.startDayPicker.getInput().value=l,this.onStartDateChange(u(l).utc().format(),"ONDAYCHANGE");var c=o.endOf(s).local().format("MM/DD/YYYY");this.endDayPicker.getInput().value=c,this.onEndDateChange(u(c).utc().format(),"ONDAYCHANGE")}},GenericReportsComponent.prototype.onPaginationChange=function(e){var t=this;this.setState({currentPageIndex:e.detail.currentPageIndex,pageSize:U},function(){t.props.allApprovals(t.state)})},GenericReportsComponent.prototype.render=function(){var e=this,t=Object.entries(w).reduce(function(e,t){var a=t[0],r=t[1];return e.concat([{id:a,label:r.label}])},[]);return s.createElement("div",{className:"awsui reports-page"},s.createElement("div",{className:"awsui-util-m-m awsui-util-mt-l"},s.createElement(p.Alert,{dismissible:!0,type:"info",header:"Field Deprecated",content:s.createElement("div",null,"We have removed Approver Decision Time. You will need to use Decision Made On - Decision Needed On, to get approver decision times.")})),s.createElement("div",{className:"awsui-grid"},s.createElement("div",{className:"awsui-row "},s.createElement("div",{className:"col-7 input-criteria-col"},s.createElement("div",{className:"awsui-grid"},s.createElement("div",{className:"awsui-row"},s.createElement("div",{className:"column-header"},s.createElement("h4",null,s.createElement("span",{"data-testid":"reporting-reports__select-input-criteria"},"Select Input Criteria",s.createElement(p.Tooltip,{text:"Run reports based on selected criteria and allowed permissions",position:"right"},s.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"})))))),s.createElement("div",{className:"awsui-row"},s.createElement("div",{className:"awsui-grid"},s.createElement("div",{className:"awsui-row quick-date-input"},s.createElement("div",{className:"col-4"},s.createElement(p.FormField,{label:"Date range","data-testid":"reporting-reports__date-range"},s.createElement(p.Select,{options:t,selectedOption:t.find(function(t){return t.id===e.state.selectedDateRange}),selectedLabel:"Selected",onChange:function(t){var a=t.detail;return e.setState({selectedDateRange:a.selectedOption.id})}}))),s.createElement("div",{className:"col-4 custom-start-date"},s.createElement(p.FormField,{errorText:this.state.startDateError,label:"Start Date"},s.createElement("div",{className:"awsui"},s.createElement(E.default,{inputProps:{type:"text",className:"awsui-input ",disabled:this.state.selectedDateRange!==I.Custom,onChange:function(){e.onStartDateChange(void 0,"ONCHANGE")}},ref:function(t){return e.startDayPicker=t},format:"MM/DD/YYYY",formatDate:S.formatDate,parseDate:S.parseDate,placeholder:"MM/DD/YYYY",value:this.state.startDate&&u(this.state.startDate).isValid()?u(this.state.startDate).local().format("MM/DD/YYYY"):this.state.startDate,onDayChange:function(t){t?e.onStartDateChange(u(t).startOf("day").utc().format(),"ONDAYCHANGE"):e.onStartDateChange(void 0,"ONDAYCHANGE")}})))),s.createElement("div",{className:"col-4 custom-end-date"},s.createElement(p.FormField,{errorText:this.state.endDateError,label:"End Date"},s.createElement("div",{className:"awsui"},s.createElement(E.default,{inputProps:{className:"awsui-input ",disabled:this.state.selectedDateRange!==I.Custom,onChange:function(){e.onEndDateChange(void 0,"ONCHANGE")}},ref:function(t){return e.endDayPicker=t},format:"MM/DD/YYYY",formatDate:S.formatDate,parseDate:S.parseDate,placeholder:"MM/DD/YYYY",value:this.state.endDate&&u(this.state.endDate).isValid()?u(this.state.endDate).local().format("MM/DD/YYYY"):this.state.endDate,onDayChange:function(t){t?e.onEndDateChange(u(t).endOf("day").utc().format(),"ONDAYCHANGE"):e.onEndDateChange(void 0,"ONDAYCHANGE")}}))))),this.state.fieldValueError&&s.createElement("div",{className:"awsui-row"},s.createElement("p",{className:"col-12 error"},this.state.fieldValueError)),L.sort(b.byProp("text")).map(function(t){var a=t.SearchComponent,r=t.id,o=t.text,l=t.valueField,c=i(t,["SearchComponent","id","text","valueField"]);return s.createElement(a,n({value:e.state.inputCriteria[l]},e.getInputProps({id:r,text:o,valueField:l}),c))}),s.createElement("div",{className:"awsui-row"},s.createElement("div",{className:"col-xxs-12 col-m-6"},s.createElement(p.Checkbox,{checked:this.state.above100MMUSD,onChange:this.onAbove100MMUSDChange,"data-testid":"reporting-reports__above-100mm-checkbox"},s.createElement("span",null,"Approvals above 100MM USD",s.createElement(p.Tooltip,{text:"This is an optional field which will only show the approvals that are above 100 million USD and match the criteria specified.",position:"right"},s.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"})))))))),s.createElement("div",{className:"awsui-row"},s.createElement("a",{id:"runbutton"}),s.createElement("div",{className:"col-2"},s.createElement(p.Button,{onClick:this.onRunReport,className:"run-button",text:"Run",variant:"primary","data-testid":"reporting-reports__run-button"})),s.createElement("div",{className:"col-8"},s.createElement(p.Button,{disabled:this.state.filtersExist,onClick:this.onDownloadExcel,id:"EXCEL","data-testid":"reporting-reports__export-to-excel-button"},"Export to excelÂ ",s.createElement("i",{className:"fa fa-file-excel-o"})),this.state.filtersExist&&s.createElement("span",{className:"clear-filter"}," Please clear the filters below to Export"))),s.createElement("div",{className:"awsui-row"},s.createElement("div",{className:"awsui-grid"},s.createElement("div",{className:"awsui-row "},s.createElement("div",{className:"col-6"},s.createElement(p.Input,{controlId:"QUICKLINKNAME",placeholder:"Quick Link Name"})),s.createElement("div",{className:"col-6"},s.createElement(p.Button,{"data-tip":!0,"data-for":"QUICKLINKICON",onClick:this.addQuickLink,disabled:this.state.isQuickLinkSaving,"data-testid":"reporting-reports__save-report-button"},"Save ReportÂ ",s.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})),s.createElement(R,{id:"QUICKLINKICON",delayHide:"500",place:"top",type:"info",effect:"solid"},s.createElement("div",null,"Save the report criteria as one of the quick links to run it easily again")))))))),s.createElement("div",{className:"col-4 input-return-data-col"},s.createElement("div",{className:"awsui-grid"},s.createElement("div",{className:"awsui-row"},s.createElement("h4",{"data-testid":"reporting-reports__select-output-columns-text"},"Select Output Columns"),s.createElement(p.Tooltip,{text:"Select the output fields",position:"right"},s.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"}))),s.createElement("div",{className:"awsui-row"},s.createElement(p.Multiselect,{enableFiltering:!0,placeholder:"Enter output type...",options:this.generateOutputType().sort(b.byProp("label")),onChange:this.onOutputTypeChange,selectedIds:this.state.outputType,"data-testid":"reporting-reports__select-output-columns-dropdown"})),this.state.outputType.indexOf("KEYDETAILS")>-1?s.createElement("div",{className:"awsui-row"},s.createElement(p.Multiselect,{enableFiltering:!0,placeholder:"Enter output type...",options:this.generateKeys(),onChange:this.onKeyDetailSelect,selectedIds:this.state.selectedKeys})):s.createElement("div",null))))),s.createElement("div",{id:"home-table"},s.createElement(p.Table,{empty:"No data",columnDefinitions:this.generateColumns(),items:this.getFilterEnabledTableItems(),variant:"borderless"},s.createElement(p.TablePagination,{currentPageIndex:this.state.staleData?1:this.state.currentPageIndex,pagesCount:this.props.genericData&&this.props.genericData.data&&this.props.genericData.data.data.GenericReportApprovals&&!this.state.staleData?Math.ceil(parseInt(this.props.genericData.data.data.GenericReportApprovals.total)/this.state.pageSize):0,onPaginationChange:this.onPaginationChange}))))},GenericReportsComponent}(l.Component),V=m.connect(mapStateToProps,mapDispatchToProps);t.default=V(k);var F},1574:function(e,t,a){"use strict";function GenericReporting(e){var t=n.default("GENERIC_REPORTING",e),a=new URLSearchParams;return a.append("query",t),{type:"GENERIC_REPORTING",payload:r.default.post(i.SERVICE_ENDPOINTS+"/api/reporting/container/post/approvals",a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(765),i=a(6);t.default=GenericReporting},1575:function(e,t,a){"use strict";function keysPerPerson(e){if(null==e)return{type:"KEYS_PER_PERSON",payload:{data:{data:{KeyDetailsPerPerson:[]}}}};if(0==e.users.length||null==e.users)return{type:"KEYS_PER_PERSON",payload:{data:{data:{KeyDetailsPerPerson:[]}}}};var t=n.default("REPORT_KEYDETAILS_KEYSPERPERSON",e),a=new URLSearchParams;return a.append("query",t),{type:"KEYS_PER_PERSON",payload:r.default.post("/api/reporting/container/post/keysperperson/all",a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(766);t.default=keysPerPerson},1576:function(e,t,a){"use strict";function allUsers(){return{type:"ALL_USERS",payload:r.default.get("/api/reporting/container/get/users/all")}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8);t.default=allUsers},1577:function(e,t,a){"use strict";function getAllKeys(e){if(null==e)return{type:"ALL_KEYS",payload:{data:{data:{GetAllKeys:[]}}}};var t=n.default("ALL_KEYS",e);console.log("Complete query in action is : ",JSON.stringify(t));var a=new URLSearchParams;return a.append("query",t),{type:"ALL_KEYS",payload:r.default.post("/api/reporting/container/post/approvals",a)}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(766);t.default=getAllKeys},158:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(714),l=a(1382),c=function(e){function TileSelector(t){var a=e.call(this,t)||this;return a.state={activeTabId:"search"},a}return r(TileSelector,e),TileSelector.prototype.render=function(){var e=this;if(!this.props.enableDynamicTiles)return i.createElement(s.default,n({},this.props));var t=[{label:"Search",id:"search",content:function(){return i.createElement(s.default,n({},e.props,{insideTileSelector:!0}))}},{label:"Dynamic",id:"dynamic",content:function(){return i.createElement(l.default,n({},e.props))}}],a=this.state.activeTabId;return i.createElement(o.Tabs,{activeTabId:a,className:"userTileCards",tabs:t,onChange:function(){return e.setState({activeTabId:"search"===a?"dynamic":"search"})}})},TileSelector}(i.Component);t.default=c},159:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function ApprovalDocument(){}return ApprovalDocument}();t.ApprovalDocument=r;var n=function(){function ApprovalRequestAttribute(){}return ApprovalRequestAttribute}();t.ApprovalRequestAttribute=n;var i=function(){function Version(){}return Version}();t.Version=i;var o=function(){function ApprovalRequestDocument(){}return ApprovalRequestDocument}();t.ApprovalRequestDocument=o;var s=function(){function ApprovalRequestRoute(e,t,a,r,n,i){this.id=e,this.description=t,this.name=a,this.sequence=r,this.actorList=n,this.editRouteName=i,this.unsavedName=a}return ApprovalRequestRoute}();t.ApprovalRequestRoute=s;var l=function(){function ActorDetails(){}return ActorDetails}();t.ActorDetails=l;var c=function(){function ApprovalRequestActor(){}return ApprovalRequestActor}();t.ApprovalRequestActor=c;var p=function(){function ApprovalRequestCorrespondence(){}return ApprovalRequestCorrespondence}();t.ApprovalRequestCorrespondence=p;var u=function(){function ApprovalRequest(){}return ApprovalRequest}();t.ApprovalRequest=u;var d=function(){function Employee(){}return Employee}();t.Employee=d;var m=function(){function SecurityGrooup(){}return SecurityGrooup}();t.SecurityGrooup=m;var f=function(){function EmployeeSearchResponse(){}return EmployeeSearchResponse}();t.EmployeeSearchResponse=f;var E=function(){function GenericResponse(){}return GenericResponse}();t.GenericResponse=E;var h=function(){function RouteFullOutput(){}return RouteFullOutput}();t.RouteFullOutput=h;var v=function(){function RouteOutput(){}return RouteOutput}();t.RouteOutput=v;var A=function(){function ApproverOutput(){}return ApproverOutput}();t.ApproverOutput=A;var g=function(){function ViewerOutput(){}return ViewerOutput}();t.ViewerOutput=g;var T=function(){function LegalCounselOutput(){}return LegalCounselOutput}();t.LegalCounselOutput=T},162:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function RuleShortInfo(){}return RuleShortInfo}();t.RuleShortInfo=r;var n=function(){function Rule(){}return Rule}();t.Rule=n;var i=function(){function Action(){}return Action}();t.Action=i;var o=function(){function ActionParameter(){}return ActionParameter}();t.ActionParameter=o;var s=function(){function RuleFilter(){}return RuleFilter}();t.RuleFilter=s},167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_UPDATE_BASICS="TEMPLATE_UPDATE_BASICS",t.templateUpdateBasics=function(e){return{type:t.TEMPLATE_UPDATE_BASICS,value:e.value}}},168:function(e,t,a){"use strict";function postQuickLinks(e){return function(t){t(i.updateNotification({value:{id:o,content:"Updating your quick links ....",loading:!0,type:"alert",status:"info"}}));var a=new URLSearchParams;a.append("userPreferenceValue",JSON.stringify(e)),r.default.post(n.ServiceEndPoints.updateQuickLinks,a).then(function(e){var a=e.data;t(i.deleteNotification({value:o})),a.isError?t(i.updateNotification({value:{id:Math.random(),content:a.errorMessage,type:"alert",status:"error",duration:5e3}})):(t(i.updateNotification({value:{id:Math.random(),content:"Quicklink successfully created.",loading:!1,type:"alert",status:"success",duration:5e3}})),t(getQuickLinks()))}).catch(function(e){t(i.deleteNotification({value:o})),t(i.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to update your quick links.",type:"alert",status:"error"}}))})}}function getQuickLinks(){return function(e){e(getQuickLinks_Pending()),r.default.get(n.ServiceEndPoints.getQuickLinks).then(function(t){var a=t.data;if(e(i.deleteNotification({value:o})),a.isError)e(getQuickLinks_Failed(a.errorMessage));else{var r=[],n=[];a.data.userPreferences.forEach(function(e){e&&e.keyValue&&(n=e.keyValue,e.keyValue.forEach(function(e){r.push(JSON.parse(e))}))}),e(getQuickLinks_Succeeded(r,n))}}).catch(function(t){e(getQuickLinks_Failed("Something went wrong, we are not able to load your quick links"))})}}function getQuickLinks_Pending(){return{type:t.GetQuickLinks_Pending,payload:!0}}function getQuickLinks_Succeeded(e,a){return{type:t.GetQuickLinks_Succeeded,payload:{quickLinksList:e,quickLinksString:a}}}function getQuickLinks_Failed(e){return{type:t.GetQuickLinks_Failed,payload:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10);t.GetQuickLinks_Succeeded="GetQuickLinks_Succeeded",t.GetQuickLinks_Failed="GetQuickLinks_Failed",t.GetQuickLinks_Pending="GetQuickLinks_Pending";var o=Math.random();t.postQuickLinks=postQuickLinks,t.getQuickLinks=getQuickLinks,t.getQuickLinks_Pending=getQuickLinks_Pending,t.getQuickLinks_Succeeded=getQuickLinks_Succeeded,t.getQuickLinks_Failed=getQuickLinks_Failed},169:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(37);t.AUDIT_LOG_LOAD_HISTORY="AUDIT_LOG_LOAD_HISTORY",t.AUDIT_LOG_UPDATE_STATUS="AUDIT_LOG_UPDATE_STATUS",t.AUDIT_LOG_UPDATE_ERROR_MESSAGE="AUDIT_LOG_UPDATE_ERROR_MESSAGE",t.AUDIT_LOG_UPDATE_DISPLAY_HISTORY="AUDIT_LOG_UPDATE_DISPLAY_HISTORY",t.AUDIT_LOG_UPDATE_FILTERING_TEXT="AUDIT_LOG_UPDATE_FILTERING_TEXT",t.AUDIT_LOG_SELECT_CATEGORY="AUDIT_LOG_SELECT_CATEGORY",t.AUDIT_LOG_SELECT_USER="AUDIT_LOG_SELECT_USER",t.AUDIT_LOG_RESET="AUDIT_LOG_RESET",t.HISTORY_BATCH_LOAD_SIZE=10,t.auditLogUpdateFilteringText=function(e){return{type:t.AUDIT_LOG_UPDATE_FILTERING_TEXT,payload:e}},t.auditLogSelectCategory=function(e){return{type:t.AUDIT_LOG_SELECT_CATEGORY,payload:e}},t.auditLogSelectUser=function(e){return{type:t.AUDIT_LOG_SELECT_USER,payload:e}},t.auditLogLoadHistory=function(e,a,l,c,p,u){return function(d,m){var f=m().auditLog,E=f.totalRawHistory,h=f.rawHistoryList,v=p?"templateId":"approvalId",A=p?"GET_TEMPLATE_HISTORY":"GET_APPROVAL_HISTORY",g=(T={},T[v]=e,T);if(E>0&&h.length>=E)return void d(o("loaded"));d(o("loading")),n.default({method:A,payload:JSON.stringify(r({},g,{from:h.length,size:t.HISTORY_BATCH_LOAD_SIZE}))}).then(function(r){var n=r.histories,s=r.total;d(i({total:s,histories:n,actorList:a,attributeList:l,lookupIndex:u})),c?t.auditLogLoadHistory(e,a,l,c,p,u)(d,m):d(o("loaded"))}).catch(function(e){console.error(e),d(o("error")),d(s(e.toString()))});var T}},t.auditLogUpdateDisplayHistory=function(e){return{type:t.AUDIT_LOG_UPDATE_DISPLAY_HISTORY,payload:e}},t.auditLogResetHistory=function(){return{type:t.AUDIT_LOG_RESET}};var i=function(e){return{type:t.AUDIT_LOG_LOAD_HISTORY,payload:e}},o=function(e){return{type:t.AUDIT_LOG_UPDATE_STATUS,payload:e}},s=function(e){return{type:t.AUDIT_LOG_UPDATE_ERROR_MESSAGE,payload:e}}},170:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.HTML="HTML",e.TEXT="TEXT",e.ACTOR="ACTOR"}(t.AuditLogHistoryValueType||(t.AuditLogHistoryValueType={}))},174:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},o=this;Object.defineProperty(t,"__esModule",{value:!0});var s=a(8),l=a(4),c=a(10);t.ADD_APPROVAL_RELATION="ADD_APPROVAL_RELATION",t.DELETE_APPROVAL_RELATION="DELETE_APPROVAL_RELATION",t.FETCH_ALL_APPROVAL_RELATIONS="FETCH_ALL_APPROVAL_RELATIONS";var p=function(e){var t=new URLSearchParams;return t.append("query",e),s.default.post(l.baseUrl+l.ServiceEndPoints.getAllApprovals,t).then(function(e){return e.data.data.ApprovalSearch.approvals})},u=function(e){return JSON.stringify(e.map(function(e){return e.entityId})).replace(/"/g,'\\"')},d=function(e){for(var t={},a=0;a<e.length;a++)t[e[a].id]=e[a];return t};t.getRelatedApprovalRecordDetails=function(e,a){return function(s){return n(o,void 0,void 0,function(){var n,o,l,m,f,E,h;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=u(e),o="{ ApprovalSearch(matchAnyInList: { id:"+n+"}) {total approvals {id title status}}}",[4,p(o)];case 1:return l=i.sent(),a===t.ADD_APPROVAL_RELATION?(e[0].status=l[0].status.length>0?l[0].status:"-",e[0].title=l[0].title.length>0?l[0].title:"-",s({type:t.ADD_APPROVAL_RELATION,payload:e[0]}),[2]):(m=d(l),f=e.map(function(e){var t=m[e.entityId];return r({},e,{status:t?t.status:"-",title:t?t.title:"[You do not have permissions to view this approval]"})}),s({type:t.FETCH_ALL_APPROVAL_RELATIONS,payload:f}),[3,3]);case 2:return E=i.sent(),h=Math.random(),s(c.updateNotification({value:{id:h,content:"Could not fetch approval details. Please reload the page. "+E.message,type:"alert",loading:!1,status:"error"}})),[3,3];case 3:return[2]}})})}}},190:function(e,t,a){"use strict";function allApprovals(e,t){var a=this;return void 0===t&&(t=null),function(p){return r(a,void 0,void 0,function(){var a,r,m,f,E,a,r,h,f;return n(this,function(n){switch(n.label){case 0:if(e.CurrentTab===c.TabId.search&&!e.SearchTerm)return p({type:"ALL_APPROVALS",payload:{data:{data:{ApprovalSearch:{total:0,approvals:[]}}}}}),[2];if(e.CurrentTab!==c.TabId.search||!e.SearchTerm)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),a=u.default(e),a.append("metrics",JSON.stringify(d(e))),[4,i.default.post(s.baseUrl+"/api/homepage/advancedSearch",a)];case 2:return r=n.sent(),p({type:"ALL_APPROVALS",payload:r}),[3,4];case 3:return m=n.sent(),f=Math.random(),p(l.updateNotification({value:{id:f,content:"Could not load search approvals. Please reload the page. "+m.message,type:"alert",loading:!1,status:"error"}})),[3,4];case 4:return[2];case 5:return n.trys.push([5,7,,8]),E=o.default(e,t),a=new URLSearchParams,a.append("query",E),[4,i.default.post(s.baseUrl+"/api/homepage/container/post",a)];case 6:return r=n.sent(),p({type:"ALL_APPROVALS",payload:r}),[3,8];case 7:return h=n.sent(),f=Math.random(),p(l.updateNotification({value:{id:f,content:"Could not load approvals. Please reload the page. "+h.message,type:"alert",loading:!1,status:"error"}})),[3,8];case 8:return[2]}})})}}var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),o=a(1164),s=a(4),l=a(10),c=a(57),p=a(191),u=a(1167);t.default=allApprovals;var d=function(e){var t=[],a=p.v4();return Object.values(s.AdvancedSearchVar).forEach(function(r){var n=e.SearchVariables.get(r);if(n){var i=s.getMetricName(r);r===s.AdvancedSearchVar.TAG&&(i=s.AdvancedSearchMetrics.Tag),r===s.AdvancedSearchVar.TITLE&&n[0].startsWith("[exact]")&&(i=s.getMetricName(s.AdvancedSearchVar.EXACT_TITLE)),t=t.concat(n.map(function(e){return{metricName:i,metricValue:e,referenceId:a,category:s.MetricCategory.ADVANCED_SEARCH_APPROVAL}}))}}),t}},213:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i={disallowedContent:{a:{match:function(e){return"cke-test"!==e.attributes.href&&!/^(?:http|https|mailto|tel|ftp):/.test(e.attributes.href)},attributes:"!href"}}},o=function(e){function CKEditor(t){var a=e.call(this,t)||this;a.changeListener=a.changeListener.bind(a);var r=t.config?Object.assign({},t.config,i):i;return a.state={value:t.value,config:r,onChange:t.onChange},a}return r(CKEditor,e),CKEditor.prototype.componentDidMount=function(){var e=this;return window.CKEDITOR?((!window.CKEDITOR.env.ie||window.CKEDITOR.env.version>7)&&(window.CKEDITOR.env.isCompatible=!0),this.instance=window.CKEDITOR.appendTo(this.divRef,this.state.config,this.state.value),this.instance?(this.instance.on("instanceReady",function(t){t.editor.setData(e.state.value),"readOnly"in e.state.config&&e.instance.setReadOnly(e.state.config.readOnly),setTimeout(function(){try{document.getElementsByClassName(e.instance.id+" cke")[0].getElementsByTagName("iframe")[0].contentDocument.getElementsByTagName("body")[0].onclick=function(e){var t=/^\s*(#|javascript)/i;e&&e.target&&e.target.href&&!t.test(e.target.href)&&window.open(e.target.href,"_blank")}}catch(e){console.log("failed to linkify CKEditor"),console.error(e)}},100)}),void this.instance.on("change",this.changeListener)):void console.error("No CKEditor instance exists.")):void console.error("CKEditor script failed to load.")},CKEditor.prototype.componentWillReceiveProps=function(e){this.instance&&"ready"===this.instance.status&&(this.state.value!==e.value&&this.instance.setData(e.value),e.config&&this.state.config!==e.config&&"readOnly"in e.config&&this.instance.setReadOnly(e.config.readOnly));var t=e.config?Object.assign({},e.config,i):i;this.setState({value:e.value,config:t,onChange:e.onChange})},CKEditor.prototype.componentWillUnmount=function(){this.instance.removeListener("change",this.changeListener),this.instance.destroy()},CKEditor.prototype.changeListener=function(){this.setState({value:this.instance.getData()}),this.handleChange()},CKEditor.prototype.handleChange=function(){this.state.onChange(this.state.value)},CKEditor.prototype.render=function(){var e=this;return n.createElement("div",{className:"ckeditor-overwrite",ref:function(t){return e.divRef=t}})},CKEditor}(n.Component);t.default=o},214:function(e,t,a){"use strict";function mapStateToProps(e){return{tags:e.tags.tags}}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(41),l=a(8),c=a(4),p=a(7),u=a(10),d=a(144),m=s.default.div(E||(E=r(["\n    .awsui-util-container {\n        background-color: white;\n        box-shadow: none;\n        border-top: none;\n    }\n    .editOption {\n        cursor: pointer;\n    }\n    .tagBtn{\n    margin-top: 2.4rem;\n    color: #ec7211\n    }   \n    .deleteBtn {\n    text-align: right\n    }\n    .spinnerPos {\n    margin-top:4.5px\n    }\n"],["\n    .awsui-util-container {\n        background-color: white;\n        box-shadow: none;\n        border-top: none;\n    }\n    .editOption {\n        cursor: pointer;\n    }\n    .tagBtn{\n    margin-top: 2.4rem;\n    color: #ec7211\n    }   \n    .deleteBtn {\n    text-align: right\n    }\n    .spinnerPos {\n    margin-top:4.5px\n    }\n"])));t.getTagObj=function(e,t,a,r){var n="approvalId"==r?{approvalId:e,tagName:t}:{templateId:e,tagName:t},i=new URLSearchParams;return i.append("payload",JSON.stringify(n)),i.append("referenceId",a),i},t.toValidTag=function(e){return null==e?null:e.replace(/[^a-z0-9-]+/g,"")};var f=function(e){function TagsComponent(a){var r=e.call(this,a)||this;return r.toggleReadOnly=function(){r.setState({readOnly:!r.state.readOnly,tagName:"",autoFocus:!r.state.autoFocus})},r.createTag=function(){if(r.setState({isBeingSaved:!0}),0==r.state.tagName.length)return r.dispatchNotificationUpdate("Please enter Tag Name."),void r.setState({isBeingSaved:!1});var e=r.props.approvalId||r.props.templateId,a=r.props.approvalId?"approvalId":"templateId",n=r.props.approvalId?c.ServiceEndPoints.createTag:c.ServiceEndPoints.addTemplateTag;l.default.post(n,t.getTagObj(e,r.state.tagName,"",a)).then(function(e){var t=e.data;if(t.isError)throw new Error(t.errorMessage);r.props.dispatch({type:d.ADD_TAG,payload:t.data}),r.setState({isBeingSaved:!1})}).catch(function(e){var t=e.message;r.dispatchNotificationUpdate(t),r.setState({isBeingSaved:!1})}),r.setState({tagName:""})},r.deleteTag=function(e){r.setState({isBeingDeleted:!0});var a=r.props.approvalId||r.props.templateId,n=r.props.approvalId?"approvalId":"templateId",i=r.props.approvalId?c.ServiceEndPoints.deleteTag:c.ServiceEndPoints.deleteTemplateTag;l.default.post(i,t.getTagObj(a,e,"",n)).then(function(t){var a=t.data;if(a.isError)throw new Error(a.errorMessage);r.props.dispatch({type:d.DELETE_TAG,payload:e}),r.setState({isBeingDeleted:!1})}).catch(function(e){var t=e.message;r.dispatchNotificationUpdate(t),r.setState({isBeingDeleted:!1})})},r.dispatchNotificationUpdate=function(e){var t=Math.random();r.props.dispatch(u.updateNotification({value:{id:t,content:e,type:"alert",loading:!1,status:"error"}}))},r.state={readOnly:r.props.initialReadOnly,isBeingSaved:!1,isBeingDeleted:!1,tagName:"",autoFocus:!1},r}return n(TagsComponent,e),TagsComponent.prototype.render=function(){var e=this,a=this.props.tags,r=this.props.approvalId?i.createElement(i.Fragment,null,"Use this section to add or remove tags."):i.createElement(i.Fragment,null,"Use this section to add or remove tags on your template. Tags will be copied to new approvals created from this template.");return i.createElement(m,null,i.createElement(o.FormSection,{id:"TagsSection",header:i.createElement("div",null,i.createElement("span",{"data-testid":"detail-page__tags-title"},"TagsÂ Â ",this.props.showEditOption&&i.createElement("span",{className:"editOption"},i.createElement(o.Tooltip,{text:this.state.readOnly?"Add/Remove tags":"Close"},i.createElement("i",{onClick:this.toggleReadOnly,className:"fa editOption fa-lg "+(this.state.readOnly?"fa-pencil":"fa-check")}))))),description:i.createElement("span",null,r," ","Visit the Â ",i.createElement("a",{target:"_blank",href:"https://w.amazon.com/bin/view/AmazonApprovals/Tags"},"Tag documentation"),"Â for more details.")},!this.state.readOnly&&i.createElement("div",{className:"awsui-grid "},i.createElement("div",{className:"awsui-row "},i.createElement("div",{className:"col-xxs-6 col-m-2"},i.createElement(o.FormField,{label:i.createElement("b",null,"Tag Name"),stretch:!0},i.createElement("input",{className:"awsui awsui-input",style:{position:"relative"},onInput:function(a){e.setState({tagName:t.toValidTag(a.target.value)})},maxLength:50,value:this.state.tagName,onKeyPress:function(t){"Enter"==t.key&&e.createTag()},autoFocus:this.state.autoFocus}))),i.createElement("div",{className:"col-xxs-4 col-m-2 "},i.createElement(o.Button,{className:"awsui-util-mt-m tagBtn",loading:this.state.isBeingSaved,variant:"primary",onClick:this.createTag,text:"Add"})))),i.createElement("awsui-token-group",{initialized:"true"},i.createElement("div",{className:"awsui-token-group awsui-token-group-horizontal"},a&&a.map(function(t){return i.createElement("div",{className:"awsui-token"},i.createElement("div",{className:"awsui-select-option"},i.createElement("div",{className:"awsui-select-option-content"},i.createElement("div",{className:"awsui-select-option-label-content"},e.props.approvalId&&i.createElement("a",{target:"_blank",href:"/Approvals/search?q=tag:+"+t.tagName,className:"awsui-select-option-label"},i.createElement(o.Tooltip,{text:"Click to search for other approvals that have this tag and you have access to."},t.tagName)),e.props.templateId&&i.createElement("div",null,t.tagName," ")))),!e.state.readOnly&&i.createElement("span",{className:e.state.isBeingDeleted?"spinnerPos":""},!e.state.isBeingDeleted&&i.createElement("button",{type:"button",className:"awsui-token-dismiss",onClick:function(){return e.deleteTag(t.tagName)}},i.createElement("awsui-icon",{initialized:"true"},i.createElement("span",{className:"awsui-icon awsui-icon-size-normal awsui-icon-variant-normal"},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",focusable:"false","aria-hidden":"true"},i.createElement("path",{d:"M2 2l12 12M14 2L2 14"}))))),e.state.isBeingDeleted&&i.createElement(o.Spinner,null)))})))))},TagsComponent}(i.Component);t.TagsComponent=p.connect(mapStateToProps)(f);var E},215:function(e,t,a){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(719),l=a(41),c=l.default.div(u||(u=r(["\n    display: block;\n    width: calc(100vw - 78px);\n    height: 41px;\n    margin-bottom: 0px;\n    background: transparent;\n    left: 78px;\n    position: fixed;\n    z-index: 8;\n    color: black;\n    \n    ul.nav{\n        width: 100%;\n        float: left;\n        height: 41px;\n        font-family: 'Amazon Ember Bold';\n        ","\n        li {\n            height: 41px;\n            line-height: 41px;\n            float: left;\n            text-align: center;\n            font-size: 13px;\n            &:hover {\n                cursor:  pointer;\n            }\n            i {\n                margin-left: 6px;\n                font-size: 14px;\n            }\n        }\n        li.completed{\n            color: ",";\n            background: ",";\n            .pointer{\n                background: ",";\n            }\n        }\n        li.notAvailable{\n            background: ",";\n            color:",";\n        }\n    }\n    @media (max-width: 1024px) {\n        ul.nav{\n            li{\n                width: ","% !important;\n                .navText{\n                    display: none;\n                }\n                i {\n                    font-size: 18px;\n                }\n            }\n        }\n    }\n"],["\n    display: block;\n    width: calc(100vw - 78px);\n    height: 41px;\n    margin-bottom: 0px;\n    background: transparent;\n    left: 78px;\n    position: fixed;\n    z-index: 8;\n    color: black;\n    \n    ul.nav{\n        width: 100%;\n        float: left;\n        height: 41px;\n        font-family: 'Amazon Ember Bold';\n        ","\n        li {\n            height: 41px;\n            line-height: 41px;\n            float: left;\n            text-align: center;\n            font-size: 13px;\n            &:hover {\n                cursor:  pointer;\n            }\n            i {\n                margin-left: 6px;\n                font-size: 14px;\n            }\n        }\n        li.completed{\n            color: ",";\n            background: ",";\n            .pointer{\n                background: ",";\n            }\n        }\n        li.notAvailable{\n            background: ",";\n            color:",";\n        }\n    }\n    @media (max-width: 1024px) {\n        ul.nav{\n            li{\n                width: ","% !important;\n                .navText{\n                    display: none;\n                }\n                i {\n                    font-size: 18px;\n                }\n            }\n        }\n    }\n"])),function(e){var t=e.links.reduce(function(e,t){return e+t.text.length+4},0);return e.links.map(function(a,r){return"\n                    li:nth-child("+(r+1)+") {\n                        width: "+(a.text.length+4)/t*100+"%;\n                        position: relative;\n                        border-right: 1px solid "+e.dividerColor+";\n                        &::before{\n                            right: -11.8px;\n                            border-bottom: 9px solid "+(a.available?e.completedItemBackground:e.unavailableItemBackground)+";\n                            border-left: 8px solid transparent;\n                            border-right: 8px solid transparent;\n                            position: absolute;\n                            height: 0;\n                            width: 0;\n                            top: 15.5px;\n                            display: block;\n                            content: '';\n                            transform: rotate(90deg);\n                            z-index: 2;\n                        }\n                        &::after{\n                            right: -13px;\n                            border-bottom: 9px solid "+e.dividerColor+";\n                            border-left: 8px solid transparent;\n                            border-right: 8px solid transparent;\n                            position: absolute;\n                            height: 0;\n                            width: 0;\n                            top: 15.5px;\n                            display: block;\n                            content: '';\n                            transform: rotate(90deg);\n                            z-index: 1;\n                        }\n                    }\n                "}).join("\n")},function(e){return e.completedItemColor},function(e){return e.completedItemBackground},function(e){return e.completedItemBackground},function(e){return e.unavailableItemBackground},function(e){return e.unavailableItemColor},function(e){return 100/e.links.length}),p=function(e){function NavigationBar(t){return e.call(this,t)||this}return n(NavigationBar,e),NavigationBar.prototype.render=function(){var e=this.props.links,t=e.map(function(e,t){return o.createElement("li",{key:t,title:e.text,className:e.available?"completed":"notAvailable"},o.createElement(s.Link,{activeClass:"active",to:e.targetId,spy:e.spy||!0,smooth:e.smooth||!0,offset:e.offset||-120,duration:e.duration||500},o.createElement("span",{className:"navText"},e.text),o.createElement("i",{className:"fa "+e.iconClass}),o.createElement("span",{className:"pointer"})))});return o.createElement(c,i({},this.props),o.createElement("ul",{className:"nav"},t),this.props.attachedDiv)},NavigationBar}(o.Component);t.default=p;var u},220:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GET_APPROVAL_BY_ID="GET_APPROVAL_BY_ID",t.SHOW_MODAL="SHOW_MODAL",t.SELECTED_PERSON="SELECTED_PERSON",t.HIDE_MODAL="HIDE_MODAL"},221:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_UPDATE_PLAN="TEMPLATE_UPDATE_PLAN",t.TEMPLATE_LOAD_PLAN="TEMPLATE_LOAD_PLAN",t.templateUpdatePlan=function(e){return{type:t.TEMPLATE_UPDATE_PLAN,value:e.value}},t.templateLoadPlan=function(e){return{type:t.TEMPLATE_LOAD_PLAN,value:e.value}}},222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_LOAD_ATTRIBUTES="TEMPLATE_LOAD_ATTRIBUTES",t.TEMPLATE_UPSERT_ATTRIBUTE="TEMPLATE_UPSERT_ATTRIBUTE",t.TEMPLATE_DELETE_ATTRIBUTE="TEMPLATE_DELETE_ATTRIBUTE",t.templateLoadAttributes=function(e){return{type:t.TEMPLATE_LOAD_ATTRIBUTES,value:e.value}},t.templateUpsertAttribute=function(e){return{type:t.TEMPLATE_UPSERT_ATTRIBUTE,value:e.value}},t.templateDeleteAttribute=function(e){return{type:t.TEMPLATE_DELETE_ATTRIBUTE,value:e.value}}},223:function(e,t,a){"use strict";function getAttributeHistory(e,t){try{return function(a){return a(getAllAttributeHistoryPending()),r.default.get(n.ServiceEndPoints.getApprovalAttributeHistory+e+"&isTemplate="+t).then(function(e){a(getAllAttributeHistorySucceeded(e.data))}).catch(function(e){a(getAllAttributeHistoryFailed(e))})}}catch(e){return[]}}function getAllAttributeHistoryPending(){return{type:t.GET_ATTRIBUTE_HISTORY_PENDING,payload:!0}}function getAllAttributeHistorySucceeded(e){return{type:t.GET_ATTRIBUTE_HISTORY_SUCCEEDED,payload:e}}function getAllAttributeHistoryFailed(e){return{type:t.GET_ATTRIBUTE_HISTORY_FAILED,payload:e}}function getApprovalHistory(e,t,a){for(var i="",o=0;o<a.length;o++)i+=a[o]+",";i.length>0&&(i=i.substr(0,i.length-1));try{return function(a){return a(getAllHistoryPending()),r.default.get(n.ServiceEndPoints.getHistory+e+"&isTemplate="+t+"&historyItems="+i).then(function(e){a(getAllHistorySucceeded(e.data))}).catch(function(e){a(getAllHistoryFailed)})}}catch(e){return[]}}function getAllHistoryPending(){return{type:t.GET_HISTORY_PENDING,payload:!0}}function getAllHistorySucceeded(e){return{type:t.GET_HISTORY_SUCCEEDED,payload:e}}function getAllHistoryFailed(e){return{type:t.GET_HISTORY_FAILED,payload:e}}function updateEndedAtStatus(e){return{type:t.UPDATE_ENDED_AT_STATUS,payload:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4);t.GET_ATTRIBUTE_HISTORY_PENDING="GET_ATTRIBUTE_HISTORY_PENDING",t.GET_ATTRIBUTE_HISTORY_SUCCEEDED="GET_ATTRIBUTE_HISTORY_SUCCEEDED",t.GET_ATTRIBUTE_HISTORY_FAILED="GET_ATTRIBUTE_HISTORY_FAILED",t.GET_HISTORY_PENDING="GET_HISTORY_PENDING",t.GET_HISTORY_SUCCEEDED="GET_HISTORY_SUCCEEDED",t.GET_HISTORY_FAILED="GET_HISTORY_FAILED",t.UPDATE_ENDED_AT_STATUS="UPDATE_ENDED_AT_STATUS",t.getAttributeHistory=getAttributeHistory,t.getAllAttributeHistoryPending=getAllAttributeHistoryPending,t.getAllAttributeHistorySucceeded=getAllAttributeHistorySucceeded,t.getAllAttributeHistoryFailed=getAllAttributeHistoryFailed,t.getApprovalHistory=getApprovalHistory,t.getAllHistoryPending=getAllHistoryPending,t.getAllHistorySucceeded=getAllHistorySucceeded,t.getAllHistoryFailed=getAllHistoryFailed,t.updateEndedAtStatus=updateEndedAtStatus},224:function(e,t,a){"use strict";function displayReportSummaryReport(e){return{type:t.DisplaySummaryReport,payload:e}}function hideReportSummaryModal(){return{type:t.HideSummaryReport,payload:!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.DisplaySummaryReport="DisplaySummary",t.HideSummaryReport="HideSummary",t.displayReportSummaryReport=displayReportSummaryReport,t.hideReportSummaryModal=hideReportSummaryModal},225:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_UNSAVED_ITEM_DATA_CHANGE="ADD_UNSAVED_ITEM_DATA_CHANGE",t.REMOVE_UNSAVED_ITEM_DATA_CHANGE="REMOVE_UNSAVED_ITEM_DATA_CHANGE",t.REMOVE_UNSAVED_SECTION_DATA_CHANGE="REMOVE_UNSAVED_SECTION_DATA_CHANGE",t.addUnsavedItemDataChange=function(e){return{type:t.ADD_UNSAVED_ITEM_DATA_CHANGE,payload:e.changeInfo}},t.removeUnsavedItemDataChange=function(e){return{type:t.REMOVE_UNSAVED_ITEM_DATA_CHANGE,payload:e.changeInfo}},t.removeUnsavedSectionDataChange=function(e){return{type:t.REMOVE_UNSAVED_SECTION_DATA_CHANGE,payload:e.changeInfo}}},230:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStringFromHtmlString=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText}},231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.APPROVAL_CREATED="APPROVAL_CREATED",e.APPROVAL_REJECTED="APPROVAL_REJECTED",e.APPROVAL_ACTION_REQUIRED="APPROVAL_ACTION_REQUIRED",e.APPROVAL_INCREMENTAL_APPROVED="APPROVAL_INCREMENTAL_APPROVED",e.APPROVAL_RECOMMENDED_TO_APPROVE="APPROVAL_RECOMMENDED_TO_APPROVE",e.APPROVAL_RECOMMENDED_TO_REJECT="APPROVAL_RECOMMENDED_TO_REJECT",e.APPROVAL_FULLY_APPROVED="APPROVAL_FULLY_APPROVED",e.APPROVAL_PLAN_CHANGED="APPROVAL_PLAN_CHANGED",e.APPROVAL_CANCELLED_REQUESTOR="APPROVAL_CANCELLED_REQUESTOR",e.APPROVAL_CORRESPONDENCE_ADDED="APPROVAL_CORRESPONDENCE_ADDED",e.APPROVAL_NO_LONGER_ACTION_REQUIRED="APPROVAL_NO_LONGER_ACTION_REQUIRED",e.APPROVAL_TRANSFER="APPROVAL_TRANSFER",e.APPROVAL_ACTION_UPDATE_DELEGATEE="APPROVAL_ACTION_UPDATE_DELEGATEE",e.APPROVAL_REASSIGN_ACTOR="APPROVAL_REASSIGN_ACTOR",e.APPROVAL_REASSIGN_REQUESTOR="APPROVAL_REASSIGN_REQUESTOR",e.APPROVAL_DOCUMENT_CREATED="APPROVAL_DOCUMENT_CREATED",e.APPROVAL_DOCUMENT_UPDATED="APPROVAL_DOCUMENT_UPDATED",e.APPROVAL_DOCUMENT_DELETED="APPROVAL_DOCUMENT_DELETED",e.APPROVAL_PRIORITY_UPDATED="APPROVAL_PRIORITY_UPDATED",e.APPROVAL_ON_HOLD="APPROVAL_ON_HOLD",e.APPROVAL_RESUME="APPROVAL_RESUME",e.APPROVAL_REVERT_APPROVER_DECISION="APPROVAL_REVERT_APPROVER_DECISION",e.APPROVAL_RESTART="APPROVAL_RESTART"}(t.NotificationTypes||(t.NotificationTypes={}))},232:function(e,t,a){"use strict";function processPermissionsOf(e,t){e.forEach(function(e){t.append("permissionsOf","TEMPLATEID~"+e)})}var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},i=this;Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),s=a(4),l=a(10);t.GET_TEMPLATE_PERMISSIONS="GET_TEMPLATE_PERMISSIONS",t.GIVE_TEMPLATE_PERMISSIONS="GIVE_TEMPLATE_PERMISSIONS",t.REMOVE_TEMPLATE_PERMISSION="REMOVE_TEMPLATE_PERMISSION",t.getTemplateReportingPermissions=function(e){return function(a){return r(i,void 0,void 0,function(){var r,i,c,p,u;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),r=[],i=new URLSearchParams,i.append("type","TEMPLATEID"),i.append("id",e),[4,o.default.post(s.baseUrl+"/api/reporting/permissions/get/permissionsOf",i)];case 1:return c=n.sent(),c.data.data.GetAllTypePermissionsById.permissions.map(function(e){var t={employee:{alias:e.permissionTo.alias,email:e.permissionTo.email,firstName:e.permissionTo.firstName,lastName:e.permissionTo.lastName,departmentName:e.permissionTo.departmentName,title:e.permissionTo.title,jobLevel:e.permissionTo.jobLevel,displayName:e.permissionTo.displayName||e.permissionTo.firstName+" "+e.permissionTo.lastName,employeeId:e.permissionTo.employeeId,departmentId:e.permissionTo.departmentId,groupName:e.permissionTo.groupName,type:e.permissionTo.type},addedOn:e.addedOn};if(e.addedBy){var a=e.addedBy;t.addedBy={alias:a.alias,email:a.email,firstName:a.firstName,lastName:a.lastName,departmentName:a.departmentName,title:a.title,jobLevel:a.jobLevel,displayName:a.displayName||a.firstName+" "+a.lastName,employeeId:a.employeeId,departmentId:a.departmentId,groupName:a.groupName,type:a.type}}r.push(t)}),a({type:t.GET_TEMPLATE_PERMISSIONS,payload:r}),[3,3];case 2:return p=n.sent(),u=Math.random(),a(l.updateNotification({value:{id:u,content:"Could not load template reporting permissions. "+p.message,type:"alert",loading:!1,status:"error"}})),[3,3];case 3:return[2]}})})}},t.giveTemplateReportingPermissions=function(e,a){return function(c){return r(i,void 0,void 0,function(){var r,i,p,u,d;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),r=new URLSearchParams,r.append("permissionsTo",e.alias),processPermissionsOf(a,r),[4,o.default.post(s.baseUrl+"/api/reporting/permissions/give",r)];case 1:return i=n.sent(),p=i.data.data.giveReportingPermissions,null!=p.permissionTo&&null!=p.permissionOf||(c(l.updateNotification({value:{id:Math.random(),content:"Adding reporting permissions failed for "+e.firstName+" "+e.lastName+".",type:"alert",status:"error",duration:3e3}})),p=null),c({type:t.GIVE_TEMPLATE_PERMISSIONS,payload:{input:{permissionsTo:e,permissionsOf:a},result:p}}),[3,3];case 2:return u=n.sent(),d=Math.random(),c(l.updateNotification({value:{id:d,content:"Could not give template reporting permissions. "+u.message,type:"alert",loading:!1,status:"error"}})),[3,3];case 3:return[2]}})})}},t.removeTemplateReportingPermission=function(e,a){return function(c){return r(i,void 0,void 0,function(){var r,i,p,u,d,m;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),r=new URLSearchParams,r.append("permissionsTo",e.alias),r.append("permissionsOf","TEMPLATEID~"+a),[4,o.default.post(s.baseUrl+"/api/reporting/permissions/remove",r)];case 1:return i=n.sent(),p=i.data.data.removeReportingPermissions,null!=p.permissionTo&&null!=p.permissionOf||(c(l.updateNotification({value:{id:Math.random(),content:"Removal of reporting permissions failed for "+e.firstName+" "+e.lastName+".",type:"alert",status:"error",duration:3e3}})),p=null),u=new URLSearchParams,u.append("templateId",a),u.append("employeeId",e.employeeId),o.default.post(s.ServiceEndPoints.deleteGenericExportsPreference,u).then(function(e){var t=e.data,a=t.isError,r=t.errorMessage;a&&console.error(r)}),c({type:t.REMOVE_TEMPLATE_PERMISSION,payload:{input:{permissionsTo:e,permissionsOf:a},result:p}}),[3,3];case 2:return d=n.sent(),m=Math.random(),c(l.updateNotification({value:{id:m,content:"Could not remove template reporting permissions. "+d.message,type:"alert",loading:!1,status:"error"}})),[3,3];case 3:return[2]}})})}}},233:function(e,t,a){"use strict";function getAccessPermissions(e){return function(e){var t=new URLSearchParams;t.append("groupName","approvals-generic-exports-access"),n.default.post(i.ServiceEndPoints.getAccessPermissions,t).then(function(t){try{var a=t.data.accessPermissionGranted;e(l(a))}catch(e){console.error(e)}}).catch(function(e){console.error(e)})}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),n=a(8),i=a(4);t.UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_ACTION="UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_ACTION",t.UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_STATE_ACTION="UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_STATE_ACTION",t.GET_ACCESS_PERMISSIONS="GET_ACCESS_PERMISSIONS",t.GENERIC_EXPORTS_GROUP="approvals-generic-exports-access",t.checkGeneratePreSignedLinkForImagePermission=function(){return function(e,t){t().permission.generatePreSignedLinkForImageState===i.LoadingState.NOT_LOADED&&(e(s(i.LoadingState.LOADING)),n.default.get(r.SERVICE_ENDPOINTS+"/api/permissions/generatePreSignedLinkForImagePermission").then(function(t){try{var a=t.data.allowToGeneratePreSignedLinkForImage;e(o(a)),e(s(i.LoadingState.LOADED))}catch(t){console.error(t),e(s(i.LoadingState.NOT_LOADED))}}).catch(function(t){console.error(t),e(s(i.LoadingState.NOT_LOADED))}))}},t.getAccessPermissions=getAccessPermissions;var o=function(e){return{type:t.UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_ACTION,payload:e}},s=function(e){return{type:t.UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_STATE_ACTION,payload:e}},l=function(e){return{type:t.GET_ACCESS_PERMISSIONS,payload:e}}},264:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(4),s=function(e){function SmallPersonComponent(t){var a=e.call(this,t)||this;return a.state={employee:t.employee,isOpen:!1},a}return r(SmallPersonComponent,e),SmallPersonComponent.prototype.render=function(){var e,t=this,a=this.props.employee;return e=a.alias?o.ServiceEndPoints.phoneToolImage+a.alias:o.ServiceEndPoints.phoneToolImage+"0",n.createElement("div",{className:"userCard userCard-hover",key:"card"+a.alias,style:{position:"relative"}},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular-small",src:e,alt:""}))),n.createElement("div",{className:"text"},n.createElement("h5",{title:a.firstName+" "+a.lastName,className:"userName"},a.firstName," ",a.lastName),n.createElement("p",{className:"title",title:a.title},a.title),n.createElement("span",{className:"awsui-util-clearfix"}),n.createElement("p",{className:"department"},a.departmentName)),this.props.showDelete&&n.createElement("div",{className:"deletePeopleContainer",onClick:function(e){t.props.onDelete()}}),n.createElement(i.Checkbox,{className:"selectLegalCounsel",checked:1==this.props.selected,onChange:this.props.onCheckBoxChange}),null!=a.jobLevel&&n.createElement("div",{className:"levelTab"},"L",a.jobLevel),n.createElement("div",{className:"awsui-util-clearfix"}))},SmallPersonComponent}(n.Component);t.default=s},265:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(51),s=function(e){function SmallGroupComponent(t){var a=e.call(this,t)||this;return a.state={group:t.group,isOpen:!1},a}return r(SmallGroupComponent,e),SmallGroupComponent.prototype.render=function(){var e=this,t=this.props.group;return n.createElement("div",{className:"userCard userCard-hover",key:"card"+t.groupName},n.createElement("div",{className:"graphic-container"},n.createElement("div",{className:"pic"},n.createElement("img",{className:"circular-small",src:"/assets/images/GroupImage.png",alt:""}))),n.createElement("div",{className:"text"},n.createElement("div",{className:"nameContainer"},n.createElement("a",{href:o.getGroupDetailsLink(t),target:"blank"},n.createElement("h5",{title:t.groupName,className:"userName"},t.groupName))),n.createElement("p",{className:"title"},o.getGroupDisplayName(t.type))),this.props.showDelete&&n.createElement("div",{className:"deletePeopleContainer",onClick:function(t){e.props.onDelete()}}),n.createElement(i.Checkbox,{className:"selectLegalCounsel",checked:1==this.props.selected,onChange:this.props.onCheckBoxChange}),n.createElement("div",{className:"awsui-util-clearfix"}))},SmallGroupComponent}(n.Component);t.default=s},270:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(52),o=a(5),s=function(e){function RfiNavBar(t){return e.call(this,t)||this}return r(RfiNavBar,e),RfiNavBar.prototype.render=function(){var e=this.props,t=e.actor,a=e.headerText;return t&&n.createElement(n.Fragment,null,n.createElement("div",{className:"rfi-header awsui"},n.createElement(o.Button,{variant:"icon",icon:"angle-left",onClick:this.props.onPrevious}),n.createElement("img",{className:"circularHeader",src:i.getActorImageLink(t),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@160x160.png"},height:"40px",width:"40px",alt:" "}),n.createElement("div",{className:"rfi-header-text"},n.createElement("div",null,a),n.createElement("a",{className:"rfi-header-pt-link",target:"_blank",href:i.getActorLink(t)},t.firstName+" "+t.lastName)),n.createElement(o.Button,{variant:"icon",icon:"close",onClick:this.props.onClose})))},RfiNavBar}(n.Component);t.default=s},271:function(e,t,a){"use strict";function buildParams(e){var t=new URLSearchParams;return t.append("payload",JSON.stringify(e)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=buildParams},272:function(e,t,a){"use strict";function EmpBadge(e){var t=e.actor,a=e.onRemove,r="PRINCIPAL"!==t.type;return s.createElement("div",{className:"rfi-actor-badge flex"},s.createElement("img",{className:"rfi-actor-image",src:p.getActorImageLink(t),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="/assets/images/icon_user-avatar@160x160.png"},width:"22px",height:"22px",alt:" "}),r?s.createElement("div",null,t.groupName):s.createElement("div",null,t.firstName+" "+t.lastName),a&&s.createElement("span",{className:"remove-icon",onClick:a},"âœ•"))}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(5),c=a(679),p=a(52),u=function(e){function RfiConfigForm(t){var a=e.call(this,t)||this;return a.removeEmpFromList=function(e,t,r){var i=n({},a.state[t]);"individuals"===r?i.individuals=i.individuals.filter(function(t){return t.alias!==e.alias}):i.groups=i.groups.filter(function(t){return t.groupName!==e.groupName}),"specificPersonRfi"===t?a.setState({specificPersonRfi:i}):"additionalRecipients"===t&&a.setState({additionalRecipients:i})},a.addEmpToList=function(e,t,r){var i=n({},a.state[t]);if("individuals"===r){var o=i.individuals.find(function(t){return t.alias===e.alias});o?alert("User exists in the list"):i.individuals=i.individuals.concat([e])}else{var o=i.groups.find(function(t){return t.groupName===e.groupName});o?alert("Group exists in the list"):i.groups=i.groups.concat([e])}"specificPersonRfi"===t?a.setState({specificPersonRfi:i}):"additionalRecipients"===t&&a.setState({additionalRecipients:i})},a.handleSubmit=function(){return i(a,void 0,void 0,function(){var e,t,a,r;return o(this,function(i){return e=null,0===this.state.title.trim().length?e={message:"Rule name cannot be empty",isTitleError:!0}:this.state.title.trim().length>100?e={message:"Rule name cannot exceed 100 characters",isTitleError:!0}:this.state.description.trim().length>300?e={message:"Rule description cannot exceed 300 characters",isDescriptionError:!0}:"RFIs are from specific approvers only"===this.state.additionalRecOptionSelected&&"RFI is from someone at a specified level"===this.state.ruleTypeOptionSelected&&"Level range"===this.state.levelConfigOptionSelected.label&&this.state.minLevel>=this.state.maxLevel?e={message:"Maximum Job Level should be greater than Minimum Job Level",isLevelRangeError:!0}:"RFIs are from specific approvers only"===this.state.additionalRecOptionSelected&&"RFI is from a specific person"===this.state.ruleTypeOptionSelected&&0===this.state.specificPersonRfi.individuals.length&&0===this.state.specificPersonRfi.groups.length?e={message:"Please provide specific individuals (or) groups",isSpecificRecipientsError:!0}:0===this.state.additionalRecipients.individuals.length&&0===this.state.additionalRecipients.groups.length&&(e={message:"Please provide any additional individuals (or) groups",isAdditionalRecipientsError:!0}),e?(this.setState({formSubmissionErrors:n({},e)}),[2]):(this.setState({actionBeingPerformed:!0}),t={title:this.state.title,description:this.state.description,entityId:"",entityType:"APPROVAL",taskType:"RFI",initiators:[],initiatorType:"ANY",configurationJobLevel:{},taskContributors:this.state.additionalRecipients.individuals.concat(this.state.additionalRecipients.groups)},"All RFIs on this approval"!==this.state.additionalRecOptionSelected&&(a=this.state.ruleTypeOptionSelected,"RFI is from someone at a specified level"===a?(t.initiatorType="JOB_LEVEL",r=this.state.levelConfigOptionSelected.label,t.configurationJobLevel="Level range"===r?{configurationJobLevelRangeType:"RANGE",jobLevelMin:this.state.minLevel,jobLevelMax:this.state.maxLevel}:{configurationJobLevelRangeType:"ABSOLUTE",jobLevelAbsolute:this.state.specificLevel}):(t.initiatorType="ACTOR",t.initiators=this.state.specificPersonRfi.individuals.concat(this.state.specificPersonRfi.groups))),this.state.isEditPage?this.props.onEdit(n({},t)):this.props.onCreate(n({},t)),[2])})})},a.state={title:"",description:"",additionalRecOptions:[{label:"All RFIs on this approval",value:"All RFIs on this approval"},{label:"RFIs are from specific approvers only",value:"RFIs are from specific approvers only"}],additionalRecOptionSelected:"All RFIs on this approval",ruleTypeOptions:[{label:"RFI is from someone at a specified level",value:"RFI is from someone at a specified level"},{label:"RFI is from a specific person",value:"RFI is from a specific person"}],ruleTypeOptionSelected:"RFI is from someone at a specified level",levelConfigOptions:[{label:"Level range",id:"Level range"},{label:"Specific level",id:"Specific level"}],levelConfigOptionSelected:{label:"Level range",id:"Level range"},minLevel:1,maxLevel:12,specificLevel:10,specificPersonRfi:{individuals:[],groups:[]},additionalRecipients:{individuals:[],groups:[]},formSubmissionErrors:null,isEditPage:!1,actionBeingPerformed:!1},a}return r(RfiConfigForm,e),RfiConfigForm.prototype.render=function(){var e=this,t=this.state,a=t.title,r=t.description,n=t.minLevel,i=t.maxLevel,o=t.specificLevel,p=t.specificPersonRfi,u=t.additionalRecipients,d=t.formSubmissionErrors,m=this.state.isEditPage?"Save":"Create";return s.createElement(l.Modal,{visible:!0,size:"large",header:"Request for information (RFI) rule",className:"rfi-config-create-modal",onDismiss:this.props.onClose,footer:s.createElement("span",{className:"awsui-util-f-r"},s.createElement(l.Button,{variant:"link",onClick:this.props.onClose},"Cancel"),s.createElement(l.Button,{variant:"primary",onClick:this.handleSubmit,loading:this.state.actionBeingPerformed},m))},s.createElement(l.ColumnLayout,null,s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement("p",null,"By default, each RFI will include the approval requester and approval admin(s). Include additional recipients automatically on future RFIs by creating rules. Rules will not impact already active or resolved RFIs."),s.createElement(l.FormField,{label:"Rule name",hintText:a.length+"/100",stretch:!0,errorText:d&&d.isTitleError?d.message:""},s.createElement(l.Input,{value:a,onInput:function(t){return e.setState({title:t.target.component.value})}})),s.createElement(l.FormField,{label:s.createElement("span",null,"Rule description",s.createElement("i",null," - optional")),hintText:r.length+"/300",stretch:!0,errorText:d&&d.isDescriptionError?d.message:""},s.createElement(l.Textarea,{rows:3,value:r,onInput:function(t){return e.setState({description:t.target.component.value})}})),s.createElement("div",{style:{borderTop:"1px solid #D5DBDB",marginTop:"20px"}}),s.createElement(l.FormField,{label:"When will additional recipients be added?"}),s.createElement(l.Tiles,{value:this.state.additionalRecOptionSelected,onChange:function(t){return e.setState({additionalRecOptionSelected:t.detail.value})},items:this.state.additionalRecOptions}),"All RFIs on this approval"!==this.state.additionalRecOptionSelected&&s.createElement(l.ColumnLayout,null,s.createElement(l.FormField,{label:"Rule type",errorText:d&&d.isSpecificRecipientsError?d.message:""}),s.createElement(l.Tiles,{value:this.state.ruleTypeOptionSelected,onChange:function(t){return e.setState({ruleTypeOptionSelected:t.detail.value})},items:this.state.ruleTypeOptions}),"RFI is from someone at a specified level"===this.state.ruleTypeOptionSelected?s.createElement(l.ColumnLayout,{columns:"Level range"===this.state.levelConfigOptionSelected.id?3:2},s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement(l.FormField,{label:"Level configuration",stretch:!0},s.createElement(l.Select,{options:this.state.levelConfigOptions,selectedOption:this.state.levelConfigOptionSelected,selectedLabel:"Selected",onChange:function(t){return e.setState({levelConfigOptionSelected:t.detail.selectedOption})}})),"Level range"===this.state.levelConfigOptionSelected.id?s.createElement(s.Fragment,null,s.createElement(l.FormField,{label:"Minimum level"},s.createElement(l.Input,{inputmode:"numeric",type:"number",value:n.toString(),onInput:function(t){var a=parseInt(t.target.component.value)||1;a=a<1?1:a,a=a>12?12:a,e.setState({minLevel:a})}})),s.createElement(l.FormField,{label:"Maximum level",errorText:d&&d.isLevelRangeError?d.message:""},s.createElement(l.Input,{inputmode:"numeric",type:"number",value:i.toString(),onInput:function(t){var a=parseInt(t.target.component.value)||12;a=a<1?1:a,a=a>12?12:a,e.setState({maxLevel:a})}}))):s.createElement(l.FormField,{label:"Level"},s.createElement(l.Input,{inputmode:"numeric",type:"number",value:o.toString(),onInput:function(t){var a=parseInt(t.target.component.value)||12;a=a>0&&a<13?a:12,e.setState({specificLevel:a})}})))):s.createElement(l.ColumnLayout,null,s.createElement("div",{"data-awsui-column-layout-root":"true"},s.createElement(l.FormField,{label:"Individuals"},s.createElement(c.default,{handleNewRecipient:function(t){return e.addEmpToList(t,"specificPersonRfi","individuals")},includeGroups:!1,includePeople:!0,placeholder:"Name or alias"}),s.createElement("div",{className:"config-actor-list flex"},p.individuals.map(function(t){return s.createElement(EmpBadge,{key:t.alias||t.groupName,actor:t,onRemove:function(){return e.removeEmpFromList(t,"specificPersonRfi","individuals")}})}))),s.createElement(l.FormField,{label:"Groups"},s.createElement(c.default,{handleNewRecipient:function(t){return e.addEmpToList(t,"specificPersonRfi","groups")},includeGroups:!0,includePeople:!1,placeholder:"Name of ANT group"}),s.createElement("div",{className:"config-actor-list flex"},p.groups.map(function(t){return s.createElement(EmpBadge,{key:t.alias||t.groupName,actor:t,onRemove:function(){return e.removeEmpFromList(t,"specificPersonRfi","groups")}})})))))),s.createElement("div",{style:{borderTop:"1px solid #D5DBDB",marginTop:"20px"}}),s.createElement(l.FormField,{label:"Who will be added?",description:"Additional recipients will be added as Viewers to ensure they can access the details of the approval.",errorText:d&&d.isAdditionalRecipientsError?d.message:""}),s.createElement(l.FormField,{label:"Individuals"},s.createElement(c.default,{handleNewRecipient:function(t){return e.addEmpToList(t,"additionalRecipients","individuals")},includeGroups:!1,includePeople:!0,placeholder:"Name of alias"}),s.createElement("div",{className:"config-actor-list flex"},u.individuals.map(function(t){return s.createElement(EmpBadge,{key:t.alias||t.groupName,actor:t,onRemove:function(){return e.removeEmpFromList(t,"additionalRecipients","individuals")}})}))),s.createElement(l.FormField,{label:"Groups"},s.createElement(c.default,{handleNewRecipient:function(t){return e.addEmpToList(t,"additionalRecipients","groups")},includeGroups:!0,includePeople:!1,placeholder:"Name of ANT group"}),s.createElement("div",{className:"config-actor-list flex"},u.groups.map(function(t){return s.createElement(EmpBadge,{key:t.alias||t.groupName,actor:t,onRemove:function(){return e.removeEmpFromList(t,"additionalRecipients","groups")}})}))))))},RfiConfigForm.prototype.componentDidMount=function(){if(this.props.configData){var e=this.props.configData,t={title:e.title,description:e.description||"",additionalRecOptions:[{label:"All RFIs on this approval",value:"All RFIs on this approval"},{label:"RFIs are from specific approvers only",value:"RFIs are from specific approvers only"}],additionalRecOptionSelected:"All RFIs on this approval",ruleTypeOptions:[{label:"RFI is from someone at a specified level",value:"RFI is from someone at a specified level"},{label:"RFI is from a specific person",value:"RFI is from a specific person"}],ruleTypeOptionSelected:"RFI is from someone at a specified level",levelConfigOptions:[{label:"Level range",id:"Level range"},{label:"Specific level",id:"Specific level"}],levelConfigOptionSelected:{label:"Level range",id:"Level range"},minLevel:1,maxLevel:12,specificLevel:10,specificPersonRfi:{individuals:[],groups:[]},additionalRecipients:{individuals:[],groups:[]},formSubmissionErrors:null,isEditPage:!0};switch(e.initiatorType){case"JOB_LEVEL":t.additionalRecOptionSelected="RFIs are from specific approvers only",t.ruleTypeOptionSelected="RFI is from someone at a specified level","RANGE"===e.configurationJobLevel.configurationJobLevelRangeType?(t.levelConfigOptionSelected={label:"Level range",id:"Level range"},t.minLevel=e.configurationJobLevel.jobLevelMin,t.maxLevel=e.configurationJobLevel.jobLevelMax):(t.levelConfigOptionSelected={label:"Specific level",id:"Specific level"},t.specificLevel=e.configurationJobLevel.jobLevelAbsolute);break;case"ACTOR":t.additionalRecOptionSelected="RFIs are from specific approvers only",t.ruleTypeOptionSelected="RFI is from a specific person";var a=e.initiators.filter(function(e){return"PRINCIPAL"===e.type}),r=e.initiators.filter(function(e){return"PRINCIPAL"!==e.type});t.specificPersonRfi={individuals:a,groups:r}}var i=e.taskContributors.filter(function(e){return"PRINCIPAL"===e.type}),o=e.taskContributors.filter(function(e){return"PRINCIPAL"!==e.type});t.additionalRecipients={individuals:i,groups:o},this.setState(n({},t))}},RfiConfigForm.prototype.componentWillUnmount=function(){this.setState({title:"",description:"",additionalRecOptions:[{label:"All RFIs on this approval",value:"All RFIs on this approval"},{label:"RFIs are from specific approvers only",value:"RFIs are from specific approvers only"}],additionalRecOptionSelected:"All RFIs on this approval",ruleTypeOptions:[{label:"RFI is from someone at a specified level",value:"RFI is from someone at a specified level"},{label:"RFI is from a specific person",value:"RFI is from a specific person"}],ruleTypeOptionSelected:"RFI is from someone at a specified level",levelConfigOptions:[{label:"Level range",id:"Level range"},{label:"Specific level",id:"Specific level"}],levelConfigOptionSelected:{label:"Level range",id:"Level range"},minLevel:1,maxLevel:12,specificLevel:10,specificPersonRfi:{individuals:[],groups:[]},additionalRecipients:{individuals:[],groups:[]},formSubmissionErrors:null})},RfiConfigForm}(s.Component);t.EmpBadge=EmpBadge,t.default=u},273:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(72),o=a(86),s=a(1259),l=a(5),c=a(6),p=function(e){function default_1(t){var a=e.call(this,t)||this;return a.dayPickerInput=null,a.state={value:null},a}return r(default_1,e),default_1.prototype.getDisplayTextFromValue=function(e){switch(e.type){case c.ATTRIBUTE_TYPE.SINGLE_DROPDOWN:if(""!=e.value){for(var t=JSON.parse(e.value),a=0;a<t.length;a++)if(t[a].selected)return t[a].value}else console.log("this.state.attribute.value is empty string");return"";case c.ATTRIBUTE_TYPE.MULTI_DROPDOWN:var r="";if(""!=e.value)for(var t=JSON.parse(e.value),a=0;a<t.length;a++)t[a].selected&&(""!=r&&(r+=", "),r+=t[a].value);return r;case c.ATTRIBUTE_TYPE.CALENDAR:return e.value&&" "!=e.value?i.formatDate(e.value):" ";case c.ATTRIBUTE_TYPE.CURRENCY||c.ATTRIBUTE_TYPE.NUMERIC:return e.value&&""!=e.value&&!isNaN(this.toNumber(e.value))?e.type==c.ATTRIBUTE_TYPE.CURRENCY?this.toCurrencyRepresentation(e.value):this.toNumber(e.value).toString():e.value;case c.ATTRIBUTE_TYPE.PHONE_NUMBER:return this.toPhoneNumberRepresentation(e.value);case c.ATTRIBUTE_TYPE.SIMPLE_TEXT:return n.createElement(s.default,{properties:{target:"_blank"}}," ",e.value," ");default:return e.value}},default_1.prototype.toCurrencyRepresentation=function(e){return e?parseFloat(this.toNumber(e)).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):""},default_1.prototype.toNumber=function(e){return null==e?null:e.replace(/[^0-9e\.+\-]+/g,"")},default_1.prototype.toPhoneNumberRepresentation=function(e){var t=parseInt(this.toNumber(e).toString().replace(/\-/g,""));if(isNaN(t))return"";var a="";return t.toString().split("").forEach(function(e,t){-1!=[3,6].indexOf(t)&&(a+="-"),a+=e}),a},default_1.prototype.render=function(){var e,t,a,r,s=this,p=this.props.attribute,u=this.getDisplayTextFromValue(p);if(p._editing&&!0===p.canChangeValue)switch(p.type){case c.ATTRIBUTE_TYPE.SIMPLE_TEXT:var d=this.state.value||p.value;""==this.state.value&&(d=""),u=n.createElement("textarea",{className:"awsui-input",style:{position:"relative"},value:d,disabled:p._saving,onInput:function(e){return s.setState({value:e.target.value})},onBlur:function(){d&&s.props.update(d),s.setState({value:null})},onKeyPress:function(e){"Enter"==e.key&&s.props.updateAndSave(d)},autoFocus:!0});break;case c.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER:var m=this.state.value||p.value;""==this.state.value&&(m=""),u=n.createElement("input",{className:"awsui-input",style:{position:"relative"},value:m,disabled:p._saving,onInput:function(e){return s.setState({value:e.target.value})},onBlur:function(){s.props.update(m),s.setState({value:null})},onKeyPress:function(e){"Enter"==e.key&&s.props.updateAndSave(m)},autoFocus:!0});break;case c.ATTRIBUTE_TYPE.PHONE_NUMBER:var f=this.state.value||this.toPhoneNumberRepresentation(p.value);""==this.state.value&&(f=""),u=n.createElement("input",{className:"awsui-input",style:{position:"relative"},value:f,disabled:p._saving,onInput:function(e){return s.setState({value:e.target.value})},onBlur:function(){s.props.update(s.toPhoneNumberRepresentation(f).toString()),s.setState({value:null})},onKeyPress:function(e){"Enter"==e.key&&s.props.updateAndSave(s.toPhoneNumberRepresentation(f).toString())},autoFocus:!0});break;case c.ATTRIBUTE_TYPE.CURRENCY:var E=this.state.value||this.toCurrencyRepresentation(p.value);""==this.state.value&&(E=""),u=n.createElement("input",{className:"awsui-input",style:{position:"relative"},value:null==E?"":E,disabled:p._saving,onInput:function(e){s.setState({value:e.target.value})},onBlur:function(){s.props.update(s.toNumber(E).toString()),s.setState({value:null})},onKeyPress:function(e){"Enter"==e.key&&s.props.updateAndSave(s.toNumber(E).toString())},autoFocus:!0});break;case c.ATTRIBUTE_TYPE.NUMERIC:var h=this.state.value||p.value;""==this.state.value&&(h=""),u=n.createElement("input",{className:"awsui-input",style:{position:"relative"},type:"number",value:h,disabled:p._saving,onInput:function(e){return s.setState({value:e.target.value})},onBlur:function(){s.props.update(s.toNumber(h).toString()),s.setState({value:null})},onKeyPress:function(e){"Enter"==e.key&&s.props.updateAndSave(s.toNumber(h).toString())},autoFocus:!0});break;case c.ATTRIBUTE_TYPE.CALENDAR:u=n.createElement("span",{onKeyDown:function(e){"Enter"==e.key&&(s.dayPickerInput.input.blur(),s.props.save())}},n.createElement(o.default,{inputProps:{className:"awsui-input"},value:p.value?new Date(p.value):"",formatDate:i.formatDate,parseDate:i.parseDate,onDayChange:function(e){s.props.update(e?new Date(e.setHours(23,59,59,999)):"")},placeholder:"MM/DD/YYYY",ref:function(e){return s.dayPickerInput=e}}));break;case c.ATTRIBUTE_TYPE.MULTI_DROPDOWN:r=JSON.parse(p.value),0==r.length?u=n.createElement("span",{className:"addOption",onClick:function(){s.props.update("")}},"(click here to add options)"):(t=r.filter(function(e){return e.selected}).map(function(e){return e.value}),a=r.map(function(e){return{id:e.value,label:e.value}}),u=n.createElement(l.Multiselect,{selectedIds:t,options:a,onChange:function(e){s.props.update(JSON.stringify(r.map(function(t){return{value:t.value,selected:-1!=e.detail.selectedIds.indexOf(t.value)}})))}}));break;case c.ATTRIBUTE_TYPE.SINGLE_DROPDOWN:r=JSON.parse(p.value),0==r.length?u=n.createElement("span",{className:"addOption",onClick:function(){s.props.update("")}},"(click here to add options)"):(e=r.filter(function(e){return e.selected}).map(function(e){return e.value})[0],a=r.map(function(e){return{id:e.value,label:e.value}}),u=n.createElement(l.Select,{selectedId:e,options:a,onChange:function(e){s.props.update(JSON.stringify(r.map(function(t){return{value:t.value,selected:e.detail.selectedId==t.value}})))}}))}var v=["attribute-content",this.props.className];return n.createElement("div",{className:v.filter(function(e){return!!e}).join(" ")},u)},default_1}(n.Component);t.default=p},274:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(6),s=function(e){function default_1(t){return e.call(this,t)||this}return r(default_1,e),default_1.prototype.getDisplayText=function(e){return null!=e.parameter&&e.parameter.indexOf("_")>0?e.type==o.ATTRIBUTE_TYPE.CURRENCY?o.ATTRIBUTE_PARAMETER_CURRENCY.filter(function(t){return t.id==e.parameter})[0].label:e.type==o.ATTRIBUTE_TYPE.PHONE_NUMBER?o.ATTRIBUTE_PARAMETER_PHONE_COUNTRY_CODE.filter(function(t){return t.id==e.parameter})[0].label:"":""},default_1.prototype.render=function(){var e=this,t=this.props.attribute,a=null;switch(t.type){case o.ATTRIBUTE_TYPE.PHONE_NUMBER:case o.ATTRIBUTE_TYPE.CURRENCY:a=this.getDisplayText(t)}if(t._editing&&!0===t.canChangeValue)switch(t.type){case o.ATTRIBUTE_TYPE.PHONE_NUMBER:a=n.createElement(i.Select,{selectedId:t.parameter,enableFiltering:!0,onChange:function(t){e.props.update(t.detail.selectedId)},options:o.ATTRIBUTE_PARAMETER_PHONE_COUNTRY_CODE});break;case o.ATTRIBUTE_TYPE.CURRENCY:a=n.createElement(i.Select,{selectedId:t.parameter,enableFiltering:!0,onChange:function(t){e.props.update(t.detail.selectedId)},options:o.ATTRIBUTE_PARAMETER_CURRENCY})}return a&&n.createElement("div",{className:"parameter"},a)},default_1}(n.Component);t.default=s},299:function(e,t,a){"use strict";function mapStateToProps(e){return{currentMenuId:e.Menu.currentMenuId}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(716),o=a(7),s=a(1372),l=a(5),c=a(455),p=function(e){function Menu(t){var a=e.call(this,t)||this;return a.state={isOpen:!1,index:0},a.getMenu=a.getMenu.bind(a),a.onMenuIconClick=a.onMenuIconClick.bind(a),a}return r(Menu,e),Menu.prototype.componentWillReceiveProps=function(e){e.currentMenuId!=this.props.id&&this.setState({isOpen:!1});if(5==this.props.tourIndex&&"ready"==this.props.tourLifecycle&&5!==this.state.index&&"Menu_AP_sushapar"==this.props.id){(0,this.props.onMenuItemClick)({data:{currentRouteIndex:0,currentRouteLevelIndex:0,direction:"ACROSS",targetRouteIndex:1,targetRouteLevelIndex:0}}),this.setState({index:this.props.tourIndex})}if(4==this.props.tourIndex&&"tooltip"==this.props.tourLifecycle&&4!==this.state.index&&(this.onMenuIconClick("Menu_AP_sushapar"),this.setState({index:this.props.tourIndex})),3==this.props.tourIndex&&"ready"==this.props.tourLifecycle){-1===this.props.id.indexOf("AP")&&this.onMenuIconClick(this.props.id);var t=this.props.onMenuItemClick;setTimeout(function(){t({data:{routeLevelIndex:0,routeIndex:0}})},2e3)}},Menu.prototype.onMenuIconClick=function(e){var t=!this.state.isOpen;this.setState({isOpen:t}),this.props.dispatch(c.toggleMenuVisibility(t,e))},Menu.prototype.getMenu=function(){var e=this,t=[];return this.props.menuItems?(this.props.menuItems.map(function(a,r){a.header?t.push(n.createElement("li",{key:r,className:"grp"},n.createElement("strong",null,a.text))):t.push(n.createElement("li",{key:r,className:"mnu",id:"group"},n.createElement("a",{className:"l1",id:"group-link",href:"javascript:void(0)",onClick:function(){e.props.onMenuItemClick(a)}},a.text)))}),n.createElement("ul",null,t)):null},Menu.prototype.render=function(){var e=this,t=this.props,a=t.menuItems,r=t.enabled,o=t.containerClassName,c=t.containerStyle,p=t.icon,u=t.isAdded,d=null;this.state.isOpen&&(d=n.createElement(i,{isOpened:!0},n.createElement(s.Popper,{className:"popper",modifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0}}},n.createElement("div",{className:"cardContext"},this.getMenu()))));var m=null;if(null!=a&&a.length>0&&r){var f=this.state.isOpen?n.createElement(l.Icon,{name:"treeview-collapse"}):u?"Move":"Add";m=n.createElement(s.Manager,null,n.createElement(s.Target,null,n.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.onMenuIconClick(e.props.id)}},"UP_DOWN"==p&&n.createElement("span",null," ",n.createElement(l.Icon,{name:"caret-up-filled"}),n.createElement("span",{className:"menuCaretDownContainer"},n.createElement(l.Icon,{name:"caret-down-filled"}))),"ADD"===p?n.createElement("span",null,f):null)),d)}var E=null!=a&&a.length>0&&r&&n.createElement("div",{className:"cardMenu "+o,style:c},m);return n.createElement("div",{className:"contextmenuouter"},E,this.props.children)},Menu}(n.Component);t.default=o.connect(mapStateToProps)(p)},30:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1197),n=function(){function MetricPageLatencyTimer(){this.METRIC_PUBLISHER_TIMEOUT=3e3,this._hasPublished=!1,this._startTime=this.getCurrentTime()}return MetricPageLatencyTimer.prototype.publishPageLatency=function(e){if(!this._hasPublished){this._hasPublished=!0;var t=this.getTimeSinceStart();setTimeout(function(){r.MetricsPublisher.publishMetricTimer({methodName:e,metricValue:t,metricName:"PageLatency"})},this.METRIC_PUBLISHER_TIMEOUT)}},MetricPageLatencyTimer.prototype.getTimeSinceStart=function(){return this.getCurrentTime()-this._startTime},MetricPageLatencyTimer.prototype.getCurrentTime=function(){return performance.now()},MetricPageLatencyTimer}();t.MetricPageLatencyTimer=n},300:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(13),o=a(4),s=a(6),l=a(301),c=(a(1),function(e){function PersonComponent(t){var a=e.call(this,t)||this;return a.state={employee:t.employee},a.onDelete=a.onDelete.bind(a),a}return r(PersonComponent,e),PersonComponent.prototype.onDelete=function(){this.props.onDelete(this.state.employee)},PersonComponent.prototype.actionPerformed=function(){var e=this.props,t=e.status,a=e.actionBy;return null!=t&&a&&a.alias&&!a.alias.startsWith(s.SYSTEM_USER_PREFIX)&&(t==i.ActorAssignmentStatus.APPROVER_APPROVED||t==i.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION||t==i.ActorAssignmentStatus.APPROVER_REJECTED||t==i.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_APPROVAL||t==i.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_REJECTION)},PersonComponent.prototype.render=function(){var e=this.props,t=e.actionBy,a=e.delegate,r=e.finalApprover,i=e.menu,s=e.showDelete,c=e.status,p=e.escalatedTo,u=e.escalatedAt,d=e.approvalStatus,m=null==a?this.props.employee:a,f=!0,E=null;return this.actionPerformed()&&(m=t,f=this.props.employee.alias!=t.alias),E=null==m.firstName&&null==m.firstName?m.alias:m.firstName+" "+m.lastName,n.createElement(l.default,{actionBy:t,actor:m,approverStatFlag:null,delegatedBy:this.props.employee,departmentName:m.departmentName,displayName:E,finalApprover:r,headerLink:m.alias&&o.ServiceEndPoints.phoneToolLink+m.alias,headerTitle:E,jobLevel:m.jobLevel,keyValue:"card"+m.alias,menu:i,onDelete:this.onDelete,profilePic:""+o.ServiceEndPoints.phoneToolImage+(m.alias||"0"),showDelegatee:null!=a&&f,showDelete:s,status:c,title:m.title,escalatedTo:p,escalatedAt:u,approvalStatus:d})},PersonComponent}(n.Component));t.default=c},301:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(4),l=a(13),c=a(52),p=a(299),u=a(1),d=a(151),m=function(e){function ActorTile(){return null!==e&&e.apply(this,arguments)||this}return r(ActorTile,e),ActorTile.prototype.shouldShowStatus=function(){var e=this.props.status;return null!=e&&(e==l.ActorAssignmentStatus.APPROVER_APPROVED||e==l.ActorAssignmentStatus.APPROVER_PENDING||e==l.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION||e==l.ActorAssignmentStatus.APPROVER_REJECTED||e==l.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_APPROVAL||e==l.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_REJECTION)},ActorTile.prototype.render=function(){var e=this.props,t=e.actionBy,a=e.actor,r=e.decisionMadeOn,l=e.delegatedBy,m=e.departmentName,f=e.displayName,E=e.finalApprover,h=e.headerLink,v=e.headerTitle,A=e.jobLevel,g=e.keyValue,T=e.menu,y=e.onDelete,_=e.profilePic,N=e.showDelegatee,R=e.showDelete,S=e.status,P=e.title,b=e.escalatedTo,C=e.escalatedAt,O=e.approvalStatus,I=i.createElement("h5",n({title:v},a.isBeingSaved,{className:"userName"}),f),D="userCard userCard-"+S+" "+(this.shouldShowStatus()?"userCardWithStatus":""),L=b?"Manager ("+b+")":"Manager";return h&&"javascript:void(0)"!==h&&(I=i.createElement("a",{href:h,target:"blank"},I)),i.createElement(p.default,n({},null==T||a.isBeingSaved?{enabled:!1}:T.props),i.createElement("div",{className:D,key:g,style:{position:"relative"}},i.createElement("div",{style:{position:"relative"}},!a.isError&&!!a.isBeingSaved&&i.createElement(o.Spinner,{className:"itemStatusSpinner"}),!!a.isError&&i.createElement("div",{className:"itemStatusSpinner"},i.createElement("i",{className:"fa fa-exclamation-triangle  fntError","aria-hidden":"true"}),i.createElement("div",{className:"errorPopup"},i.createElement("span",null,a.errorMessage))),i.createElement("div",{className:"graphic-container"},i.createElement("div",{className:"pic"},i.createElement("img",{className:"circular",src:_,alt:""}))),i.createElement("div",{className:"text"},i.createElement("div",{className:"nameContainer"},I),P&&i.createElement("p",{className:"title",title:P},R,P),i.createElement("span",{className:"awsui-util-clearfix"}),m&&i.createElement("p",{className:"department"},m),i.createElement("span",{className:"awsui-util-clearfix"}),this.shouldShowStatus()&&i.createElement("div",null,i.createElement("span",{className:"awsui-util-clearfix"}),i.createElement("div",{className:"userCardStatus-"+S},d.getDisplayAssignmentStatusText(S,O)),null!=r&&i.createElement("div",null,i.createElement("p",{className:"subtext"},i.createElement("b",null,"On ",u(r).format("MM-DD-YYYY hh:mm a"))))),C&&i.createElement("p",{className:"escalation"},L," notified on ",u(C).format("MM-DD-YYYY hh:mm a")),E&&i.createElement("div",{className:"finalApprover",style:{float:"left",width:"100%",fontStyle:"italic"}},"final approver")),R&&i.createElement("div",{className:"closeContainer",onClick:y}),null!=A&&i.createElement("div",{className:"levelTab"},"L",A),i.createElement("div",{className:"awsui-util-clearfix"})),i.createElement("div",{className:"awsui-util-clearfix"}),N&&i.createElement("div",{className:"delegateInfoContainer"},i.createElement("span",null,"Delegated by"," ",i.createElement("a",{href:s.ServiceEndPoints.phoneToolLink+l.alias,target:"blank"},l.firstName," ",l.lastName))),this.shouldShowStatus()&&t&&t.displayName&&i.createElement("div",{className:"delegateInfoContainer"},i.createElement("span",null,"Action performed by"," ",i.createElement("a",{href:c.getActorLink(t),target:"blank"},t.displayName)))),i.createElement("div",{className:"awsui-util-clearfix"}))},ActorTile}(i.Component);t.default=m},306:function(e,t,a){"use strict";function hasValidIssueFolder(e){return!!e&&"1"!==e}function getLastApprovers(e,t){var a=t.approvers;return a.length?e.concat([a[a.length-1]]):e}function mapStateToProps(e){var t={};return null!=e.approvalRequest.approvalPlanVersion&&(t.approvalPlanVersion=e.approvalRequest.approvalPlanVersion,t.routesByLevel=e.approvalRequest.routesByLevel),null!=e.templatePlan.version&&(t.templatePlanVersion=e.templatePlan.version,t.templatePlan=e.templatePlan.plan,t.templateRecommended=e.templateBasics.approvalRecommended,t.templateRecommendedForSwimlane=e.templateBasics.approvalRecommendedForSwimlane),t.saveDeferredPlan=e.approvalRequest.saveDeferredPlan,t}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(307),l=a(78),c=a(8),p=a(4),u=a(299),d=a(1389),m=a(5),f=a(118),E=a(1391),h=a(158),v=a(7),A=a(61),g=a(717),T=a(41),y=(f.newContext(),a(1408)),_=a(159),N=a(6),R=a(10),S=a(37),P=a(1494),b=a(221),C=a(101),O=a(52),I=a(99),D=a(13),L=a(747),w=function(e){return{background:"none",border:e?"dashed 1px black":"solid 1px transparent"}},M=T.default.div(k||(k=r(["\n    .creator{\n        i {\n            font-size: 49px;\n        }\n    }\n    .finalApproverItem {\n        cursor: pointer;\n    }\n    .finalApproverButton {\n        float: right;\n        margin-bottom: -30px;\n        button{\n            z-index: 1;\n        }\n    }\n"],["\n    .creator{\n        i {\n            font-size: 49px;\n        }\n    }\n    .finalApproverItem {\n        cursor: pointer;\n    }\n    .finalApproverButton {\n        float: right;\n        margin-bottom: -30px;\n        button{\n            z-index: 1;\n        }\n    }\n"]))),U=function(e){function ApprovalSequence(t){var a=e.call(this,t)||this;return a.reorder=function(e,t,a){var r=Array.from(e),n=r.splice(t,1)[0];return r.splice(a,0,n),r},a.getNewGroupName=function(e,t){return"Group "+a.idOf(e).toUpperCase()+"-"+t},a.moveApproverInSameRoute=function(e,t,r,n){var i=a.state.routesByLevel,o=i[e][t],s={source:{droppableId:e+"_"+t+"|"+o.route.id,index:r},destination:{droppableId:e+"_"+t+"|"+o.route.id,index:"UP"==n?r-1:r+1}};a.onDragEnd(s)},a.moveApproverAcrossRoutes=function(e,t,r,n,i){for(var o=a.state.routesByLevel,s=o[e][t],l=o[n][i],c=0,p=0;p<l.approvers.length;p++)0==l.approvers[p].changeable&&c++;var u={source:{droppableId:e+"_"+t+"|"+s.route.id,index:r},destination:{droppableId:n+"_"+i+"|"+l.route.id,index:l.approvers.length-c}};a.onDragEnd(u)},a.moveApproverFromPeopleSearch=function(e,t,r,n){void 0===n&&(n="peopleSearch");var i=a.state.routesByLevel,o=i[e][t],s={source:{droppableId:n,index:r},destination:{droppableId:e+"_"+t+"|"+o.route.id,index:o.approvers.length}};a.onDragEnd(s)},a.getDroppableContent=function(){},a.getStaticContent=function(){},a.getPeopleSearchMenu=function(){var e=(a.state.routesByLevel,[]);return a.state.routesByLevel.map(function(t,r){t.map(function(t,n){e.push(o.createElement("li",{key:t.route.id,className:"mnu l1",onClick:function(){a.moveApproverFromPeopleSearch(r,n)}},"L"+(r+1)+" - ",t.route.name))})}),o.createElement("ul",null,e)},a.state={approvalPlan:null,componentLoaded:!1,readOnly:t.readOnly,approvalRequestId:t.approvalRequestId,approvalStatus:t.approvalStatus,approvalPlanVersion:t.approvalPlanVersion,currentUser:t.currentUser,query:"",searchResult:[],expandPlan:!1,isSearching:!1,searchDirtyFlag:!1,routesByLevel:s.clone(t.templateId?t.templatePlan:t.routesByLevel)||[],deferredSave:t.approvalStatus==D.ApprovalStatus.PENDING||t.approvalStatus==D.ApprovalStatus.ON_HOLD,isCardContextOpen:!1,selectFinalApprover:null,modalError:null,retryingCreateSim:!1,peopleSearchResults:[],checkLargeGroup:null,onLargeGroupAccept:null},a.toggleExpandApprovalPlan=a.toggleExpandApprovalPlan.bind(a),a.onDragEnd=a.onDragEnd.bind(a),a.saveRoute=a.saveRoute.bind(a),a.saveActor=a.saveActor.bind(a),a.saveDeferredPlan=a.saveDeferredPlan.bind(a),a.setFinalApprover=a.setFinalApprover.bind(a),a.getFinalApproverAndList=a.getFinalApproverAndList.bind(a),a.onRouteMenuItemClick=a.onRouteMenuItemClick.bind(a),a.getTileSelector=a.getTileSelector.bind(a),a.reorderRoutes=a.reorderRoutes.bind(a),a}return n(ApprovalSequence,e),ApprovalSequence.prototype.componentDidMount=function(){null!=this.state.approvalRequestId&&this.approvalPlanChanged(),this.isFinalPlan()&&this.validatePlan()},ApprovalSequence.prototype.componentWillReceiveProps=function(e){var t=this;e.readOnly!=this.props.readOnly&&this.setState({readOnly:e.readOnly}),null==e.approvalPlanVersion||this.props.tourRunning&&7!=this.props.tourIndex||(this.setState({routesByLevel:s.clone(e.routesByLevel)}),e.approvalPlanVersion!=this.props.approvalPlanVersion&&this.setState({approvalPlanVersion:e.approvalPlanVersion})),null!=e.templatePlanVersion&&e.templatePlanVersion!=this.props.templatePlanVersion&&(this.setState({templatePlanVersion:e.templatePlanVersion}),this.setState({routesByLevel:s.clone(e.templatePlan)})),e.saveDeferredPlan!=this.props.saveDeferredPlan&&1==e.saveDeferredPlan&&(this.setState({saveDeferredPlan:e.saveDeferredPlan}),this.saveDeferredPlan()),e.readOnly!=this.props.readOnly&&this.setState({readOnly:e.readOnly}),this.props.tourRunning&&4==this.props.tourIndex&&"ready"==this.props.tourLifecycle&&this.addParallelRoute(0,"Slider0"),4==this.props.tourIndex&&"prev"==this.props.tourAction&&"complete"==this.props.tourLifecycle&&(this.moveApproverAcrossRoutes(0,1,0,"0","0"),setTimeout(function(){t.deleteRoute(0,1),t.deleteRoute(0,2)},500)),1==this.props.tourIndex&&"prev"==this.props.tourAction&&"init"==this.props.tourLifecycle&&this.deleteTourTile(0,0)},ApprovalSequence.prototype.componentDidUpdate=function(e,t){this.selectFinalApprover&&(this.props.templateId&&!this.props.templateRecommended&&!this.props.tempalteRecommendedForSwimlane||!this.props.approvalRecommended&&!this.props.approvalRecommendedForSwimlane)&&this.setState({selectFinalApprover:!1}),(!s.equals(t.routesByLevel,this.state.routesByLevel)||this.props.templateRecommended&&!e.templateRecommended||this.props.templateRecommendedForSwimlane&&!e.templateRecommendedForSwimlane||this.props.approvalRecommended&&!e.approvalRecommended||this.props.templateRecommendedForSwimlane&&!e.approvalRecommendedForSwimlane)&&!this.isValidPlan()&&this.validatePlan(),s.equals(t.routesByLevel,this.state.routesByLevel)||!this.isValidPlan()||this.state.deferredSave||t.isBeingSaved&&!this.state.isBeingSaved||this.props.templateId&&this.state.isBeingSaved||this.saveDeferredPlan()},ApprovalSequence.prototype.isFinalPlan=function(){return this.props.templateId&&this.props.templateRecommended&&!this.props.templateRecommendedForSwimlane||!this.props.templateId&&this.props.approvalRecommended&&!this.props.approvalRecommendedForSwimlane},ApprovalSequence.prototype.setFinalApprover=function(e){var t=s.clone(this.state.routesByLevel);D.getApproversFrom(t).forEach(function(t){t.finalApprover=t.id===e}),this.setState({routesByLevel:t})},ApprovalSequence.prototype.getFinalApproverAndList=function(){if(!this.isFinalPlan())return{lastApproverList:[]};var e=this.state.routesByLevel,t=e.reduceRight(function(e,t){return e.length?e:t.reduce(getLastApprovers,[]).map(function(e){return e[0]})},[]),a=t.find(function(e){return e.finalApprover});return{lastApproverList:t,finalApproverId:a&&a.id}},ApprovalSequence.prototype.getFinalApproverButton=function(){var e=this;return this.props.readOnly?null:this.isFinalPlan()?this.getFinalApproverAndList().lastApproverList.length<2?null:o.createElement(m.Button,{className:"finalApproverButton",text:"Update final approver",variant:"primary",onClick:function(){e.setState({selectFinalApprover:!0})}}):null},ApprovalSequence.prototype.getFinalApproverSelection=function(){var e=this,t=this.state,a=t.modalError,r=(t.routesByLevel,t.selectFinalApprover),n=this.getFinalApproverAndList(),s=n.finalApproverId,l=n.lastApproverList;return r&&l.length?o.createElement(m.Modal,{header:"Final approver selection",onDismiss:function(){e.rollbackPlan(),e.setState({modalError:null,selectFinalApprover:!1})},footer:o.createElement("div",null,o.createElement("span",{className:"awsui-util-f-r"},o.createElement(m.Button,{variant:"link",onClick:function(){e.rollbackPlan(),e.setState({modalError:null,selectFinalApprover:!1})}},"Cancel"),o.createElement(m.Button,{variant:"primary",onClick:function(){if(!s)return void e.setState({modalError:"Please select a final approver"});e.setState({modalError:null,selectFinalApprover:!1},e.saveDeferredPlan)}},"Ok")),a&&o.createElement("p",{className:"error"},a)),visible:!0},o.createElement("div",null,o.createElement("p",null,"Please specify the assignee who will take the final approval action."),o.createElement("br",null),o.createElement("div",null,l.map(function(t,a){return o.createElement("div",{key:"ApprovalFinalApprover_"+a,onClick:function(a){a.preventDefault(),t.id||(t.id="LOCAL_"+Math.random()),e.setFinalApprover(t.id)},className:"awsui-util-pr-m finalApproverItem "+(t.id===s?"selectedItem":"")},o.createElement("div",null,o.createElement(I.default,{actor:i({},t.actor,{isBeingSaved:!1}),internalProps:{showDelete:!1}}),o.createElement(m.Checkbox,{className:"selectFinalApprover",checked:t.id===s})))})))):null},ApprovalSequence.prototype.rollbackPlan=function(){console.log("rolling back"),this.setState({isBeingSaved:!1,routesByLevel:s.clone(this.props.templateId?this.props.templatePlan:this.props.routesByLevel)})},ApprovalSequence.prototype.isValidPlan=function(){return!this.isFinalPlan()||!!this.getFinalApproverAndList().finalApproverId},ApprovalSequence.prototype.validatePlan=function(){var e=this.getFinalApproverAndList(),t=e.lastApproverList,a=e.finalApproverId;1!==t.length||a||(t[0].id=t[0].id||"LOCAL_"+Math.random(),a=t[0].id,this.setFinalApprover(a)),!a&&t.length>1&&this.setState({selectFinalApprover:!0})},ApprovalSequence.prototype.onDragEnd=function(e){var t=this,a=this.peopleSearch&&this.peopleSearch.getSearchResult()[e.source.index],r=this.props.requester;if(e.destination){if("peopleSearch"==e.source.droppableId&&r&&(r.alias&&a.alias===r.alias||r.groupName&&a.groupName===r.groupName))return void this.props.dispatch(R.updateNotification({value:{id:"ApprovalPlan-AddApprover",content:"You can't be added as approver to your request.",type:"alert",status:"error",duration:3e3}}));if("peopleSearch"==e.source.droppableId&&0==this.validateDrop(a))return void this.props.dispatch(R.updateNotification({value:{id:"ApprovalPlan-AddApprover",content:"User you are trying to add is already an approver.",type:"alert",status:"error",duration:3e3}}));var n=s.clone(this.state.routesByLevel);if("peopleSearch"===e.source.droppableId&&Object.keys(D.GroupType).includes(a.type)){var i=D.groupFrom(a);return void this.setState({checkLargeGroup:i,onLargeGroupAccept:function(){return t.reorderRoutes(n,e.source,e.destination)}})}this.reorderRoutes(n,e.source,e.destination)}},ApprovalSequence.prototype.reorderRoutes=function(e,t,a){var r,n,i,o,s=t.droppableId,l=a.droppableId,c=l.split("|")[0].split("_")[0],p=l.split("|")[0].split("_")[1],u=l.split("|")[1],d=0,m=0,f="peopleSearch"!==s&&"dynamicTiles"!==s;if(f&&(o=s.split("|")[0]),f)for(var E=0;E<e.length;E++)if(e[E].level==o){e[E].routes;break}n=e[c][p].approvers;for(var E=0;E<n.length;E++)n[E][0].changeable||d++;if(a.index=a.index+d,f){var h=s.split("|")[0].split("_")[0],v=s.split("|")[0].split("_")[1];s.split("|")[1];r=e[h][v].approvers;for(var E=0;E<r.length;E++)0==r[E][0].changeable&&m++;if(t.index=t.index+m,i=r[t.index],s==l){var A=this.reorder(r,t.index,a.index);e[h][v].approvers=A}else r.splice(t.index,1),n.splice(a.index,0,i),e[h][v].approvers=r,e[c][p].approvers=n;var g=new _.ApproverOutput;i[0].actor.isBeingSaved=!0,g.actor=i[0].actor,g.id=i[0].id,g.assignmentOrder=a.index+1,g.routeId=u,i[0].isBeingSaved=!0;var T=this;this.saveActor(g,e[c][p].route,function(t,a,r){i[0].actor.isBeingSaved=!1,i[0].isBeingSaved=!1,i[0].actor.isError=""!=a,i[0].actor.errorMessage=a,T.setState({routesByLevel:e,approvalPlanVersion:r})})}else{var y="peopleSearch"===s?this.peopleSearch:this.dynamicTiles,N=y.getSearchResult()[t.index];if(null!=N){y.afterSelect({source:{index:t.index}});var R=new _.ApproverOutput;N.isBeingSaved=!0,R.actor=N,R.id="",R.assignmentOrder=a.index+1,R.routeId=u,R.changeable=!0,n.splice(a.index,0,[R]),e[c][p].approvers=n;var T=this;e[c][p].route.id.startsWith("Temp_")?this.saveRoute(e[c][p].route,function(t){T.saveActor(R,e[c][p].route,function(t,r,n){N.isBeingSaved=!1,""==r?(e[c][p].approvers[a.index][0].id=t,e[c][p].approvers[a.index][0].isError=!1,e[c][p].approvers[a.index][0].errorMessage=""):(e[c][p].approvers[a.index][0].isError=!0,e[c][p].approvers[a.index][0].errorMessage=r),T.setState({routesByLevel:e,approvalPlanVersion:n})})}):T.saveActor(R,e[c][p].route,function(t,r,n){N.isBeingSaved=!1,""==r?(e[c][p].approvers[a.index][0].id=t,e[c][p].approvers[a.index][0].actor.isError=!1,e[c][p].approvers[a.index][0].actor.errorMessage=""):(e[c][p].approvers[a.index][0].actor.isError=!0,e[c][p].approvers[a.index][0].actor.errorMessage=r),T.setState({routesByLevel:e,approvalPlanVersion:n})})}}this.setState({routesByLevel:e})},ApprovalSequence.prototype.saveDeferredPlan=function(){var e=this;if(!this.isValidPlan())return void this.setState({selectFinalApprover:null,isBeingSaved:!0});this.setState({isBeingSaved:!0});var t=s.clone(this.state.routesByLevel),a=this.getFinalApproverAndList().finalApproverId;if(t.forEach(function(e){e.forEach(function(e){e.approvers.forEach(function(e){e.forEach(function(e){e.id.startsWith("LOCAL")&&(e.id=null)})})})}),this.props.templateId)S.default({method:"UPDATE_TEMPLATE_PLAN",payload:JSON.stringify({templateId:this.props.templateId,templatePlanVersion:this.props.templatePlanVersion,templatePlanInput:t.map(function(e){return(e||[]).map(function(e){return P.toRouteFullInput(e)})})})}).then(function(t){var r=t.templatePlan;D.getApproversFrom(r).filter(function(e){return"DYNAMIC_ACTOR"===e.actor.type}).forEach(function(e){return e.actor.displayName=p.DynamicTile[e.actor.displayName]}),r.forEach(function(t){t.forEach(function(t){t.approvers.forEach(function(t){t.forEach(function(t){t.changeable=!0,t.id!==a||t.finalApprover||(e.props.dispatch(R.updateNotification({value:{id:e.notificationId,content:"Final approver was not successfully saved, please update the approval plan.",type:"alert",status:"error",duration:1e4}})),t.finalApprover=t.id===a)})})})}),e.setState({isBeingSaved:!1,routesByLevel:r,templatePlanVersion:t.templatePlanVersion}),e.props.dispatch(b.templateUpdatePlan({value:{version:t.templatePlanVersion,plan:r}}))}).catch(function(t){console.log(t),e.props.dispatch(R.updateNotification({value:{id:e.notificationId,content:t.message,type:"alert",status:"error",duration:1e4}})),e.rollbackPlan()});else{var r=new URLSearchParams;r.append("approvalId",this.state.approvalRequestId),r.append("version",this.state.approvalPlanVersion),r.append("approvalPlan",JSON.stringify(t)),c.default.post(N.SERVICE_ENDPOINTS+N.API_ROUTES.SAVE_APPROVAL_PLAN,r).then(function(a){var r=a.data;!0===r.isError?(e.props.dispatch(R.updateNotification({value:{id:e.notificationId,content:r.errorMessage,type:"alert",status:"error",duration:1e4}})),e.setState({isBeingSaved:!1,routesByLevel:t})):(e.setState({isBeingSaved:!1,routesByLevel:r.data,approvalPlanVersion:r.version}),e.approvalPlanChanged()),e.props.dispatch(A.saveApprovalPlanCommand({changedAt:new Date,shouldSave:!1,approvalPlanVersion:e.state.approvalPlanVersion}))}).catch(function(t){e.props.dispatch(R.updateNotification({value:{content:t.message,type:"alert",loading:!1,status:"error"}})),e.rollbackPlan()})}},ApprovalSequence.prototype.saveActor=function(e,t,a){if(1==this.state.deferredSave)return void a(e.id,"",this.state.approvalPlanVersion)},ApprovalSequence.prototype.validateDrop=function(e){for(var t=this.state.routesByLevel,a=0;a<t.length;a++)for(var r=0;r<t[a].length;r++)for(var n=t[a][r].approvers,i=0;i<n.length;i++)if(n[i][0].actor.alias==e.alias&&n[i][0].actor.groupName===e.groupName&&n[i][0].actor.type===e.type)return!1;return!0},ApprovalSequence.prototype.idOf=function(e){return(e>=26?this.idOf((e/26>>0)-1):"")+"abcdefghijklmnopqrstuvwxyz"[e%26>>0]},ApprovalSequence.prototype.addParallelRoute=function(e,t){var a=this.state.routesByLevel,r=new _.RouteFullOutput,n=new _.RouteOutput;n.name=this.getNewGroupName(e,this.state.routesByLevel[e].length+1),n.unsavedName=this.getNewGroupName(e,this.state.routesByLevel[e].length+1),n.id="Temp_"+this.getRandomInt()+"_"+(this.state.routesByLevel[e].length+1),n.editRouteName=!1,n.sequence=a[e][0].route.sequence,n.isBeingSaved=!0,r.route=n,r.approvers=[],a[e].push(r),this.setState({routesByLevel:a});try{this.refs[t].slickGoTo(a[e].length)}catch(e){}var i=this;this.saveRoute(n,function(e,t){n.isBeingSaved=!1,i.setState({routesByLevel:a})})},ApprovalSequence.prototype.getRandomInt=function(){return Math.floor(2e4*Math.random())+0},ApprovalSequence.prototype.addSequenceRoute=function(){var e=this.state.routesByLevel,t=new _.RouteFullOutput,a=new _.RouteOutput,r=1;e.length>0&&(r=e[e.length-1][0].route.sequence+1),a.name=this.getNewGroupName(this.state.routesByLevel.length,1),a.unsavedName=this.getNewGroupName(this.state.routesByLevel.length,1),a.id="Temp_"+this.getRandomInt()+"_1",a.editRouteName=!1,a.sequence=r,t.route=a,t.approvers=[],e.push([t]),this.setState(e);var n=this;this.saveRoute(a,function(t,r){a.isBeingSaved=!1,n.setState(e)})},ApprovalSequence.prototype.deleteRoute=function(e,t){var a=s.clone(this.state.routesByLevel),r=a[e].splice(t,1)[0];return this.setState({routesByLevel:a}),r},ApprovalSequence.prototype.toggleExpandApprovalPlan=function(e){var t=this.state.expandPlan;this.setState({expandPlan:!t})},ApprovalSequence.prototype.saveRoute=function(e,t){if(1==this.state.deferredSave)return void t(e.id,this.state.approvalPlanVersion);this.saveDeferredPlan()},ApprovalSequence.prototype.deleteApprover=function(e,t,a){var r=s.clone(this.state.routesByLevel);r[e][t].approvers[a][0];r[e][t].approvers.splice(a,1),this.setState({routesByLevel:r})},ApprovalSequence.prototype.deleteTourTile=function(e,t){var a=s.clone(this.state.routesByLevel);a[e][t].approvers=a[0][0].approvers.filter(function(e){return"sushapar"!==e[0].actor.alias}),this.setState({routesByLevel:a})},ApprovalSequence.prototype.approvalPlanChanged=function(){this.props.dispatch(A.approvalPlanChange({changedAt:new Date,routesByLevel:this.state.routesByLevel,approvalPlanVersion:this.state.approvalPlanVersion}))},ApprovalSequence.prototype.afterSearch=function(e){},ApprovalSequence.prototype.getRoute=function(e,t,a){var r=this,n=0,i="",s=C.getDisplayRuleNames(e.route.ruleIds);0!=this.props.showRulesInfo&&null!=s&&(i=o.createElement("div",{className:"routeRule awsui-util-p-xs awsui-util-t-c"}," Route managed by rule(s) ",s));var c=function(e,t){return e.minNumApprovalsEnabled&&t>0?o.createElement("div",{className:"orBadge"},o.createElement(m.Badge,{color:"grey"},"Or")):null};return o.createElement("div",null," ",o.createElement("div",{className:"approvalLevelContentInner",key:t+"_"+a+"_"+e.route.id},o.createElement("div",{className:"container"+(""!=i?" ruleBasedRoute":"")},o.createElement("div",{className:"addedApprover ",style:{minHeight:"250px"}},o.createElement("div",null,function(e){var t=r.state.routesByLevel;return e.editRouteName&&0==r.state.readOnly?o.createElement("div",{className:"routeNameHeader"},o.createElement("form",{onSubmit:function(e){e.preventDefault()},method:"POST"},o.createElement(m.Input,{controlId:"routeNameInput_"+e.id,autofocus:!0,className:"routeNameInput",value:null==e.unsavedName?e.name:e.unsavedName,onChange:function(a){e.unsavedName=a.detail.value,r.setState({routesByLevel:t})}}),o.createElement(m.Button,{variant:"icon",icon:"status-positive",className:"routeInputSave",onClick:function(a){a.preventDefault(),e.name=null==e.unsavedName?e.name:e.unsavedName,e.editRouteName=!1,r.setState({routesByLevel:t}),r.saveRoute(e,function(e){})}}),o.createElement(m.Button,{variant:"icon",icon:"status-negative",className:"routeInputCancel",onClick:function(a){a.preventDefault(),e.unsavedName=e.name,e.editRouteName=!1,r.setState({routesByLevel:t})}})),o.createElement("div",{className:"awsui-util-mt-s"})):o.createElement("div",null,o.createElement("h5",{className:"headerText","data-testid":"detail-page__approval-plan-group-name-header"},e.name,0==r.state.readOnly?o.createElement("a",{href:"javascript:void(0)",className:"fa fa-pencil awsui-util-ml-s","aria-hidden":"true",onClick:function(a){e.editRouteName=!0,r.setState(t,function(){var t=document.getElementById("routeNameInput_"+e.id);null!=t&&(t.focus(),t.select())})}}):null))}(e.route),o.createElement("span",{className:"awsui-util-clearfix"}),function(e){return 1==e.isBeingSaved?o.createElement(m.Spinner,{className:"itemStatusSpinner"}):null}(e.route),function(e,t){var a=r.state.routesByLevel;return!1===r.state.readOnly?o.createElement("div",{className:"minNumApprovalsToggle"},o.createElement(m.Toggle,{className:"minNumApprovalsToggleLabel",label:o.createElement("div",null,o.createElement("span",null,"Only require one approval from "+e.name),o.createElement(m.Tooltip,{size:"large",text:"If enabled, only one approval from this group is required to satisfy it. This feature cannot be enabled if any entity in the group is managed by a rule.",position:"right"},o.createElement("i",{style:{marginLeft:"5px"},className:"fa fa-info-circle","aria-hidden":"true"}))),disabled:t,checked:!0===e.minNumApprovalsEnabled,onChange:function(t){e.minNumApprovalsEnabled=t.detail.checked,r.setState({routesByLevel:a}),r.saveRoute(e,function(e){})}})):null}(e.route,this.isMinNumApprovalsDisabled(e.approvers))),o.createElement("div",null,e.approvers.map(function(i,s){return i.map(function(i,l){var p=null,u=C.getDisplayRuleNames(i.ruleIds);if(0!=r.props.showRulesInfo&&null!=u&&(p=o.createElement("div",{className:"approverRule awsui-util-p-xs awsui-util-t-c"}," Approver is managed by rule(s) ",u)),!r.state.readOnly&&i.changeable||(n+=1),r.state.readOnly||!i.changeable)return o.createElement("div",{className:null!=p?" ruleBasedApprover awsui-util-mb-s":"",key:t+"_"+a+"|"+s+"|"+i.id},c(e.route,s),o.createElement(I.default,{actor:i.actor,delegate:i.delegateAssignee,internalProps:{finalApprover:i.finalApprover,showDelete:!1,status:i.assignmentStatus,decisionMadeOn:i.decisionMadeOn,actionBy:i.actionBy,contextMenu:r.props.contextMenu,context:r.props.context,escalatedTo:i.escalatedTo,escalatedAt:i.escalatedAt,approvalStatus:r.props.approvalStatus}}),p)})})),0==this.state.readOnly&&o.createElement(u.default,{icon:"UP_DOWN",containerClassName:"routeIconContainer",enabled:!0,onMenuItemClick:function(e){r.onRouteMenuItemClick(e)},containerStyle:{},menuItems:d.getRouteMenu(t,a,this.state.routesByLevel),id:"Menu_"+e.route.id},o.createElement(l.Droppable,{droppableId:t+"_"+a+"|"+e.route.id,ignoreContainerClipping:!0,isDropDisabled:1==this.state.readOnly||e.route.isBeingSaved,type:"actor"},function(i,s){return o.createElement("div",{ref:i.innerRef,style:w(s.isDraggingOver),className:"laneContainer"},1==r.state.readOnly?o.createElement("div",null):o.createElement("div",{className:"closeContainer",onClick:function(e){r.deleteRoute(t,a)}}),o.createElement("div",{style:{minHeight:200-78*n+"px"}},e.approvers.map(function(i,s){return i.map(function(i,p){var m=null,f=C.getDisplayRuleNames(i.ruleIds);if(0!=r.props.showRulesInfo&&null!=f&&(m=o.createElement("div",{className:"approverRule awsui-util-p-xs awsui-util-t-c"}," Approver is managed by rule(s) ",f)),i.changeable)return o.createElement(l.Draggable,{key:t+"_"+a+"|"+s+"|"+i.id,draggableId:t+"_"+a+"|"+s+"|"+i.id,type:"actor",isDragDisabled:r.state.readOnly||!i.changeable,index:s-n},function(l,p){return o.createElement("div",{style:{position:"relative"},className:null!=m?"  ruleBasedApprover awsui-util-mb-s":""},c(e.route,s),o.createElement(g.default,{finalApprover:i.finalApprover,menu:o.createElement(u.default,{icon:"ADD",isAdded:!0,containerClassName:"",enabled:0==p.isDragging,onMenuItemClick:function(e){"UP"==e.data.direction?r.moveApproverInSameRoute(t,a,s-n,"UP"):"DOWN"==e.data.direction?r.moveApproverInSameRoute(t,a,s-n,"DOWN"):"ACROSS"==e.data.direction&&r.moveApproverAcrossRoutes(t,a,s-n,e.data.targetRouteLevelIndex,e.data.targetRouteIndex)},containerStyle:{paddingTop:"5px",paddingRight:"5px"},menuItems:d.getApprovalPlanActorMenuItems(t,a,s-n,r.state.routesByLevel),id:"Menu_AP_"+(i.actor.type==N.ActorType.PRINCIPAL?i.actor.alias:i.actor.groupName),tourIndex:r.props.tourIndex,tourLifecycle:r.props.tourLifecycle}),actorDetails:i.actor,delegateDetails:i.delegateAssignee,readOnly:r.state.readOnly||!i.changeable,snapshot:p,provided:l,status:i.assignmentStatus,onDelete:function(e){r.deleteApprover(t,a,s)}}),m,o.createElement("div",{className:"awsui-util-clearfix"}))})})})))})),1==this.state.readOnly?null:o.createElement("div",{className:"routeFooter awsui-util-t-c"},"Add Approvers ",o.createElement("br",null),"(Drag & drop users)")),i)))},ApprovalSequence.prototype.isMinNumApprovalsDisabled=function(e){if(e.length<=1||this.props.approvalStatus===D.ApprovalStatus.PENDING)return!0;for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++)if(null!=e[t][a].ruleIds&&e[t][a].ruleIds.length>0)return!0;return!1},ApprovalSequence.prototype.onRouteMenuItemClick=function(e){var t=d.moveRoute(e.data.routeLevelIndex,e.data.routeIndex,e.data.direction,this.state.routesByLevel);this.setState({routesByLevel:t}),this.state.deferredSave},ApprovalSequence.prototype.getTileSelector=function(){var e=this;return o.createElement("div",{className:"searchSectionOuter","data-testid":"detail-page__approval-plan-search-section-container"},o.createElement(h.default,{enableDynamicTiles:!this.state.approvalRequestId,onActorMenuItemClick:function(t,a,r){e.moveApproverFromPeopleSearch(t.data.routeLevelIndex,t.data.routeIndex,a,r)},actorMenuItems:d.getPeopleSearchRouteMenuItems(this.state.routesByLevel),className:"peopleSearch",subHeaderText:"Drag & drop users to group(s) on the right.",afterSearch:this.afterSearch,searchResults:this.state.peopleSearchResults,setSearchResults:function(t){return e.setState({peopleSearchResults:t})},onRef:function(t){Object.keys(t).forEach(function(a){return e[a]=t[a]})},tourIndex:this.props.tourIndex,tourLifecycle:this.props.tourLifecycle}))},ApprovalSequence.prototype.render=function(){var e=this,t=function(e,t){var a=0;return e>1&&(a=Math.floor(e/2)),{dots:!0,infinite:!1,speed:500,slidesToScroll:1,initialSlide:a,variableWidth:!0,centerMode:!0}},a=["APPROVED","APPROVED_WITH_CONDITION"],r=this.props,n=r.approvalRequestId,s=r.approvalTemplateId,u=r.approvalStatus,d=r.canEdit,f=r.dispatch,h=r.issueFolder,v=r.templateId,A=r.updateIssueFolder,g=d&&hasValidIssueFolder(this.props.issueFolder)&&a.includes(u)?{actionButtonText:"Retry create issue",actionButtonProps:{disabled:this.state.retryingCreateSim},takeAction:function(){var t=new URLSearchParams;t.append("approvalId",n),t.append("templateId",s),c.default.post(p.ServiceEndPoints.retryCreateIssue,t).then(function(t){var a=t.data,r=a.errorMessage;if(r)return f(R.updateNotification({value:{id:"ApprovalPlan-RetryCreateIssue",content:o.createElement(o.Fragment,null,r.substring(0,r.indexOf(")")+1)," ",o.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/Issues%20Integration/",target:"_blank"},"Please check the wiki for more information.")),type:"alert",status:"error"}})),void e.setState({retryingCreateSim:!1});var n=a.data.issueId;f(R.updateNotification({value:{id:"ApprovalPlan-RetryCreateIssue",content:"Created issue, "+n,type:"alert",status:"info",duration:3e3}})),setTimeout(function(){window.location.reload(!0)},1e3)}),e.setState({retryingCreateSim:!0})}}:{},T=i({},g,{buttonProps:{className:"add-sim-folder-button",icon:"add-plus",variant:"normal"},buttonText:"Issues Integration",className:"add-sim-folder-input container addedApprover awsui-util-pt-m",editable:!this.state.readOnly&&!!v,updateValue:function(e){return A(e?e:"1")},placeholder:"Paste issue folder guid",title:o.createElement("h5",null,"SIM Integration"),footer:o.createElement("p",{className:"routeFooter"},"Create issue in SIM after approvals created from this template are approved. See our ",o.createElement("a",{target:"_blank",href:"https://w.amazon.com/bin/view/AmazonApprovals/Issues Integration/"},"issues integration documentation")," on the wiki, for more information.")}),_=this.state,N=_.checkLargeGroup,S=_.onLargeGroupAccept,P=this.props,b=P.groupMembers,C=P.getGroupMembers,I=P.threshold;return o.createElement(M,{className:1==this.state.expandPlan?"fullscreen":""},this.getFinalApproverSelection(),o.createElement(D.LargeGroupWarning,{group:N,onAccept:S,groupMembers:b,getGroupMembers:C,threshold:I,setNotification:function(e){return f(R.updateNotification({value:e}))}}),o.createElement("div",{className:"awsui-util-clearfix"}),this.getFinalApproverButton(),o.createElement(l.DragDropContext,{onDragEnd:this.onDragEnd},o.createElement("div",{className:"awsui-util-m-n approval-plan-container"},o.createElement("div",{className:"approvalPlanStatus"+(this.state.isBeingSaved?"-Saving":"")},o.createElement("div",{className:"outerContainer"},o.createElement("span",{className:"messageContainer"},o.createElement(m.Spinner,null)," Saving approval plan..."))),o.createElement("div",{id:"approval-plan",className:"awsui-util-no-gutters approvalSequenceGrid approvalPlanTable"},o.createElement("div",{className:"approvalPlanRow"},1==this.state.readOnly?o.createElement("div",null):o.createElement("div",{className:"peopleSearchContainer2"},this.props.tourRunning&&this.getTileSelector(),!this.props.tourRunning&&o.createElement(y,{top:function(){return document.getElementById("endApprovalHeader").getBoundingClientRect().y}(),bottomBoundary:"#approvalPlanBottom"},this.getTileSelector())),o.createElement("div",{className:"approvalPlanSequenceColumn "+(1==this.state.readOnly?"approvalPlanSequenceColumnReadOnly":"")},o.createElement("div",{className:"approvalLane"+(1==this.state.readOnly?"-readOnly":" awsui-util-pl-m")+"  slider  awsui-util-p-n  "},o.createElement("div",{className:"creator laneRow"},this.props.templateId?o.createElement("i",{className:"fa fa-user"}):o.createElement("a",{target:"_blank",href:O.getActorLink(this.props.requester)}," ",o.createElement("img",{className:"circularHeader",src:O.getActorImageLink(this.props.requester),alt:"Requestor"}))),this.state.routesByLevel.map(function(a,r){return o.createElement("div",{className:"approvalLevelRow",key:a+"-"+r},o.createElement("div",{className:"awsui-util-clearfix awsui-util-mt-s"}),o.createElement("div",{className:"laneRow"},o.createElement("div",{className:"vertHR"})),o.createElement("div",{className:"approvalLevelRowInner",key:"L"+r},1==e.state.readOnly&&a.length<=3||0==e.state.readOnly&&a.length<=2?o.createElement("div",{className:"unslicked awsui-util-pt-m"},a.map(function(t,a){return o.createElement("div",{key:r+"-"+a+"-Route",className:"awsui-util-mh-s"},e.getRoute(t,r,a))})):o.createElement(E.default,i({},t(a.length),{className:a.length%2==0?"evenNumberedSlider sliderContainer":"",ref:"Slider"+r}),a.map(function(t,a){return o.createElement("div",{key:r+"-"+a+"-Route",className:"awsui-util-pt-m awsui-util-mh-s"},e.getRoute(t,r,a))}))),1==e.state.readOnly?o.createElement("div",null):o.createElement("div",{className:"addParallelGroup awsui-util-t-c",key:"btnParallel"+r},o.createElement(m.Button,{icon:"add-plus",text:"Add parallel group",variant:"normal","data-testid":"detail-page__approval-plan-add-parallel-group-button",onClick:function(t){e.addParallelRoute(r,"Slider"+r)}})),o.createElement("div",{className:"awsui-util-clearfix"}))}),o.createElement("div",{className:"awsui-util-clearfix"}),!this.state.readOnly&&o.createElement("div",null,o.createElement("div",{className:"laneRow"},o.createElement("div",{className:"vertHR"})),o.createElement("div",{className:"awsui-util-mv-m laneRow"},o.createElement("div",{className:"addSequentialGroup"},o.createElement(m.Button,{icon:"add-plus",text:"Add next level group",variant:"normal","data-testid":"detail-page__approval-plan-add-next-level-group-button",onClick:function(t){e.addSequenceRoute()}})))),(!this.state.readOnly&&!!this.props.templateId||hasValidIssueFolder(this.props.issueFolder))&&o.createElement("div",null,o.createElement("div",{className:"laneRow"},o.createElement("div",{className:"vertHR"})),o.createElement("div",{className:"awsui-util-mv-m laneRow"},o.createElement(D.LinkableRouteOption,i({},T),hasValidIssueFolder(h)&&o.createElement("p",null,o.createElement("a",{href:""+L.SIM_FOLDER_BASE_URL+h,target:"_blank"},h))))))))),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("a",{id:"approvalPlanBottom"}))))},ApprovalSequence}(o.Component);t.default=v.connect(mapStateToProps)(U);var k},319:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(8),l=a(300),c=a(159),p=a(5),u=a(10),d=a(6),m=a(7),f=a(61),E=function(e){function LegalCounsel(t){var a=e.call(this,t)||this;return a.state={templateRequestId:t.templateRequestId,approvalRequestId:t.approvalRequestId,showLegalCounselModel:!1,legalCounsel:t.legalCounsel,readOnly:t.readOnly,searchResult:[],isSearching:!1,searchDirtyFlag:!1,isValidatingLegalCounsel:!1,selectedActorIsLegalCounsel:!0},a.peopleSearch=a.peopleSearch.bind(a),a.saveLegalCounsel=a.saveLegalCounsel.bind(a),a.saveActor=a.saveActor.bind(a),a.isValidLegalCounselSelection=a.isValidLegalCounselSelection.bind(a),a}return r(LegalCounsel,e),LegalCounsel.prototype.componentDidMount=function(){this.legalCounselChanged()},LegalCounsel.prototype.isValidLegalCounselSelection=function(e){var t=this;this.setState({isValidatingLegalCounsel:!0}),s.default.get(d.SERVICE_ENDPOINTS+d.API_ROUTES.IS_LEGAL_COUNSEL+"?alias="+e.alias).then(function(a){if(t.setState({isValidatingLegalCounsel:!1}),0==a.data.data)return t.setState({selectedActorIsLegalCounsel:!1}),!1;t.setState({selectedActorIsLegalCounsel:!0}),t.props.dispatch(u.deleteNotification({value:"INVALID_LEGAL_COUNSEL"})),t.saveLegalCounsel(e),t.setState({showLegalCounselModel:!1})}).catch(function(e){t.setState({isValidatingLegalCounsel:!1}),t.props.dispatch(u.deleteNotification({value:"INVALID_LEGAL_COUNSEL"})),t.props.dispatch(u.updateNotification({value:{id:"INVALID_LEGAL_COUNSEL",content:"Error while validating your legal counsel section.",type:"alert",status:"error",duration:5e3}}))})},LegalCounsel.prototype.peopleSearch=function(e){var t=this;if(e.preventDefault(),!this.state.query)return!1;this.setState({isSearching:!0,searchDirtyFlag:!0,selectedActorIsLegalCounsel:!0}),s.default.get(d.SERVICE_ENDPOINTS+d.API_ROUTES.PEOPLE_SEARCH+"?query="+encodeURI(this.state.query)).then(function(e){var a=e.data;t.setState({searchResult:a.data||[],isSearching:!1})})},LegalCounsel.prototype.selectLegalCounsel=function(e,t){var a=this.state.searchResult;a.map(function(e){e.selected=!1}),a[t].selected=!0,this.setState({searchResult:a})},LegalCounsel.prototype.saveLegalCounsel=function(e){var t=this.state.legalCounsel;null==this.state.legalCounsel&&(t=new c.LegalCounselOutput,t.id=""),t.actor=e,this.setState({legalCounsel:t});var a=this;this.saveActor(e,function(e){t.id=e,a.setState({legalCounsel:t})})},LegalCounsel.prototype.deleteLegalCounsel=function(e){return n(this,void 0,void 0,function(){var e,t,a,r,r;return i(this,function(n){e=this.state.legalCounsel,t=Math.random();try{this.props.dispatch(u.createNotification({value:{id:t,content:"Deleting legal counsel",loading:!0,type:"alert",status:"info"}})),a=null,this.state.approvalRequestId?(r=new URLSearchParams,r.append("approvalId",this.state.approvalRequestId),r.append("legalCounselId",e.id),s.default.post(d.SERVICE_ENDPOINTS+d.API_ROUTES.DELETE_LEGAL_COUNSEL,r).then(function(e){e.data}).catch(function(e){console.log(e)})):this.state.templateRequestId&&(r=new URLSearchParams,r.append("templateId",this.state.templateRequestId),r.append("legalCounselId",this.state.legalCounsel.id),s.default.post(d.SERVICE_ENDPOINTS+d.API_ROUTES.DELETE_LEGAL_COUNSEL_TEMPLATE,r).then(function(e){e.data}).catch(function(e){console.log(e)})),this.setState({legalCounsel:null}),this.props.dispatch(u.updateNotification({value:{id:t,duration:3e3,content:"Successfully deleted legal counsel. PLEASE NOTE: By removing Legal Counsel, the approval may not be considered Legally Privileged.",type:"alert",loading:!1,status:"success"}}))}catch(e){console.error(e),this.props.dispatch(u.updateNotification({value:{id:t,content:e.message,type:"alert",loading:!1,status:"error"}}))}return this.setState({savingLegalCounsel:!1}),[2]})})},LegalCounsel.prototype.saveActor=function(e,t){var a=this;this.setState({isBeingSaved:!0});var r=new URLSearchParams;r.append("itemId",this.state.legalCounsel.id),r.append("actorId",e.type==d.ActorType.PRINCIPAL?e.alias:e.groupName),r.append("type",e.type),this.state.approvalRequestId?(r.append("approvalId",this.state.approvalRequestId),s.default.post(d.SERVICE_ENDPOINTS+d.API_ROUTES.SAVE_LEGAL_COUNSEL,r).then(function(e){var r=e.data;t(r.id),a.legalCounselChanged()}).catch(function(e){console.log(e)})):this.state.templateRequestId&&(r.append("templateId",this.state.templateRequestId),s.default.post(d.SERVICE_ENDPOINTS+d.API_ROUTES.SAVE_LEGAL_COUNSEL_TEMPLATE,r).then(function(e){var r=e.data;t(r.id),a.legalCounselChanged()}).catch(function(e){console.log(e)}))},LegalCounsel.prototype.legalCounselChanged=function(){this.props.dispatch(f.legalCounselChange({changedAt:new Date,legalCounsel:this.state.legalCounsel}))},LegalCounsel.prototype.render=function(){var e,t=this;null!=this.state.legalCounsel&&(e=o.createElement("div",{className:"selectedLegalCounsel awsui-util-mr-l"},o.createElement(l.default,{employee:this.state.legalCounsel.actor,showDelete:!1})));var a;return!1===this.state.searchDirtyFlag?a=o.createElement("span",{className:"awsui-util-t-c awsui-text-secondary"},"Please search above to see results here!"):this.state.isSearching?a=o.createElement("div",{className:"awsui-util-t-c awsui-text-secondary"},o.createElement(p.Spinner,null)," ",o.createElement("span",null,"Searching...")):0===this.state.searchResult.length&&(a=o.createElement("span",{className:"awsui-util-t-c awsui-text-secondary"},"No matches found for your search. Please revise your search and try again.")),o.createElement("div",{className:"legalCounselPanel awsui-util-mt-s"},o.createElement("b",null,"Please select the attorney who will be responsible for any legally privileged communication or approval. If no lawyer is selected, the approval may not be considered privileged."),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("div",{className:" awsui-util-mt-m awsui-util-f-l"},e),o.createElement("div",{style:{marginTop:"2rem"}},o.createElement(p.Button,{text:(null!=this.state.legalCounsel?"Change":"Select")+" legal counsel",disabled:this.props.readOnly,variant:"normal",onClick:function(e){t.setState({showLegalCounselModel:!0})}})),o.createElement("div",{style:{marginTop:"1rem",display:null==this.state.legalCounsel?"none":""}},!this.props.readOnly&&o.createElement(p.Button,{className:"legalCounseButton",text:"Delete legal counsel  ",variant:"normal",onClick:function(e){t.deleteLegalCounsel(t.state.legalCounsel)}})),o.createElement(p.Modal,{content:o.createElement("div",{className:"legalCounselSearchResultModalContainer modal-search-container"},o.createElement("div",null,o.createElement("form",{onSubmit:this.peopleSearch},o.createElement(p.FormField,{hintText:"Top 25 results are being shown. You can narrow your search by adding other criteria such as alias, first & last name, department, title or level (numeric only eg: '8')"},o.createElement("div",{className:"searchText"},o.createElement(p.Input,{className:"searchText",autocomplete:!1,onChange:function(e){t.setState({query:e.detail.value})}}),o.createElement("button",{className:"searchButton",onClick:this.peopleSearch}))))),o.createElement("div",{className:"awsui-util-mt-l legalCounselResults"},a,o.createElement(p.ColumnLayout,{columns:2},o.createElement("div",{"data-awsui-column-layout-root":"true",className:"awsui-util-pt-m "},this.state.searchResult.map(function(e,a){return o.createElement("div",{key:"ApprovalLegalCounsel_"+a,onClick:function(r){t.selectLegalCounsel(e,a)},className:"awsui-util-pr-m viewerItem "},o.createElement("div",null,o.createElement("div",{className:"userCard",style:{border:!0===e.selected?"solid 1px blue":"none"},key:"card"+e.alias},o.createElement("div",{className:"graphic-container"},o.createElement("div",{className:"pic"},o.createElement("img",{className:"circular",src:"https://internal-cdn.amazon.com/badgephotos.amazon.com/phone-image.pl?uid="+e.alias,alt:""}))),o.createElement("div",{className:"text"},o.createElement("div",{className:"nameContainer"},o.createElement("a",{href:"https://phonetool.amazon.com/users/"+e.alias,target:"blank",className:"name"},e.firstName," ",e.lastName)),o.createElement("p",{className:"title"},e.title),o.createElement("div",{className:"awsui-util-clearfix"}),o.createElement("p",{className:"department"},e.departmentName,o.createElement("span",{className:"deptID"},"(",e.departmentId,")"))),o.createElement(p.Checkbox,{className:"selectLegalCounsel",checked:1==e.selected,onChange:function(r){t.selectLegalCounsel(e,a)}}),o.createElement("div",{className:"levelTab"},"L",e.jobLevel))))}))))),visible:this.state.showLegalCounselModel,header:"Select Legal Counsel",onDismiss:function(e){0==t.state.isValidatingLegalCounsel&&t.setState({showLegalCounselModel:!1})},footer:o.createElement("div",{className:"awsui-grid"},o.createElement("div",{className:"awsui-row"},o.createElement("div",{className:"col-m-8"},!this.state.selectedActorIsLegalCounsel&&o.createElement("span",{className:"fntError"},"This user is not an attorney and cannot be selected as a legal counsel")),o.createElement("div",{className:"col-m-4"},o.createElement(p.Button,{id:"btnLegalCounselCancel",loading:this.state.isValidatingLegalCounsel,variant:"link",onClick:function(e){return t.setState({showLegalCounselModel:!1})}},"Cancel"),o.createElement(p.Button,{id:"btnLegalCounselOk",variant:"primary",loading:this.state.isValidatingLegalCounsel,text:"Ok",onClick:function(e){for(var a=0;a<t.state.searchResult.length;a++)if(!0===t.state.searchResult[a].selected){t.isValidLegalCounselSelection(t.state.searchResult[a]);break}}}))))}))},LegalCounsel}(o.Component);t.default=m.connect()(E)},329:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},i=this;Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),s=a(10),l=a(4),c='{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_PENDING\\"] match:{ status: \\"PENDING\\"} datetimeRange:{neededOnDate: {lt: \\"'+(new Date).toISOString()+'\\"}} ) {total} }';t.UPDATE_APPROVAL_COUNTS="UPDATE_APPROVAL_COUNTS";var p=function(e){return new Promise(function(t,a){var r=new URLSearchParams;return r.append("query",e),o.default.post(l.baseUrl+l.ServiceEndPoints.getAllApprovals,r).then(function(e){t(e.data.data.ApprovalSearch.total)}).catch(a)})};t.approvalCounts=function(){return function(e){return r(i,void 0,void 0,function(){var a,r,i,o,l,u,d,m,f,E,h;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,9,,10]),a={pendingNowCount:null,pendingSoonCount:null,sharedWithMeCount:null,approvedByMeCount:null,myRequestCount:null,onHoldCount:null,overdue:null,allCount:null},r=a,[4,p('{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_PENDING\\"] match:{ status: \\"PENDING\\"} ) {total} }')];case 1:return r.pendingNowCount=n.sent(),i=a,[4,p('{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_PENDING_IN_FUTURE\\"] match:{ status: \\"PENDING\\"} ) {total} }')];case 2:return i.pendingSoonCount=n.sent(),o=a,[4,p('{ApprovalSearch(from:0 size:0 roleList:[\\"VIEWER\\",\\"LEGAL_COUNSEL\\"] matchAnyInList :{ status: [\\"PENDING\\" , \\"CANCELLED\\", \\"APPROVED_WITH_CONDITION\\",\\"REJECTED\\",\\"APPROVED\\" ] } ) {total} }')];case 3:return o.sharedWithMeCount=n.sent(),l=a,[4,p('{ApprovalSearch(from:0 size:0 roleList:[\\"APPROVER\\"] assignmentStatusList:[\\"APPROVER_APPROVED\\", \\"APPROVER_APPROVED_WITH_CONDITION\\",\\"APPROVER_RECOMMEND\\",\\"APPROVER_REJECTED\\" ,\\"APPROVER_RECOMMEND_FOR_APPROVAL\\" , \\"APPROVER_RECOMMEND_FOR_REJECTION\\" ,  \\"APPROVER_DECISION_MADE_BY_PARALLEL_APPROVER\\"] matchAnyInList:{ status: [\\"PENDING\\" , \\"CANCELLED\\", \\"APPROVED_WITH_CONDITION\\",\\"REJECTED\\",\\"APPROVED\\"]} ) {total} }')];case 4:return l.approvedByMeCount=n.sent(),u=a,[4,p('{ApprovalSearch(from:0 size:0 roleList:[\\"REQUESTER\\"] ) {total} }')];case 5:return u.myRequestCount=n.sent(),d=a,[4,p('{ApprovalSearch(from:0 size:0 roleList:[\\"REQUESTER\\",\\"APPROVER\\",\\"APPROVAL_ADMIN\\"] match:{ status: \\"ON_HOLD\\"} ) {total} }')];case 6:return d.onHoldCount=n.sent(),m=a,[4,p(c)];case 7:return m.overdue=n.sent(),f=a,[4,p("{ApprovalSearch(from:0 size:0 roleList:[] assignmentStatusList:[] ) {total} }")];case 8:return f.allCount=n.sent(),e({type:t.UPDATE_APPROVAL_COUNTS,payload:a}),[3,10];case 9:return E=n.sent(),h=Math.random(),e(s.updateNotification({value:{id:h,content:"Could not load approval counts. Please reload the page. "+E.message,type:"alert",loading:!1,status:"error"}})),[3,10];case 10:return[2]}})})}}},336:function(e,t,a){"use strict";function templateRulesReducer(e,t){if(void 0===e&&(e=i),null==t)return e;var a=r({},e);switch(t.type){case n.SET_RULE_ENTITY:return a.entityId=t.value.entityId,a.entityType=t.value.entityType,a;case n.LOAD_RULES:return a.rules=r({},t.value.rules),a;case n.UPSERT_RULE:return a.rules[t.value.ruleId]=r({},a.rules[t.value.ruleId],t.value.rule),a;case n.DELETE_RULE:var o=t.value;return delete a.rules[o],a;default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(138),i={};t.default=templateRulesReducer},337:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_LOAD_APPROVAL_VIEWERS="TEMPLATE_LOAD_APPROVAL_VIEWERS",t.TEMPLATE_UPSERT_APPROVAL_VIEWER="TEMPLATE_UPSERT_APPROVAL_VIEWER",t.TEMPLATE_DELETE_APPROVAL_VIEWER="TEMPLATE_DELETE_APPROVAL_VIEWER",t.templateLoadApprovalViewers=function(e){return{type:t.TEMPLATE_LOAD_APPROVAL_VIEWERS,value:e.value}},t.templateUpsertApprovalViewer=function(e){return{type:t.TEMPLATE_UPSERT_APPROVAL_VIEWER,value:e.value}},t.templateDeleteApprovalViewer=function(e){return{type:t.TEMPLATE_DELETE_APPROVAL_VIEWER,value:e.value}}},338:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEMPLATE_UPDATE_SELECT_OPTIONS="TEMPLATE_UPDATE_SELECT_OPTIONS",t.templateUpdateAttributeSelectOptions=function(e){return{type:t.TEMPLATE_UPDATE_SELECT_OPTIONS,value:e.value}}},37:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},i=this;Object.defineProperty(t,"__esModule",{value:!0});var o=a(8),s=a(6);t.default=function(e){return r(i,void 0,void 0,function(){var t,a,r,i;return n(this,function(n){switch(n.label){case 0:t=new URLSearchParams,Object.keys(e).forEach(function(a){t.append(a,e[a])}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,o.default.post(s.SERVICE_ENDPOINTS+s.API_ROUTES.PROXY,t)];case 2:if(a=n.sent().data,a.isError){r=void 0;try{r=JSON.parse(a.errorMessage.replace(/\(Service: execute-api.*\)/,"")).message}catch(e){r=a.errorMessage}if(a.errorMessage.includes("Unable to marshall request to json"))throw console.error(r),new Error("An internal error has occurred. Please contact the Approvals team for more information.");throw new Error(r)}return[2,a.data];case 3:throw i=n.sent(),console.log(i),i;case 4:return[2]}})})}},4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=document.getElementById("serviceBasePath");t.baseUrl=null==r?"":r.value,t.ServiceEndPoints={accessRequest:t.baseUrl+"/api/ApprovalRequest/AccessRequest",correspondence:t.baseUrl+"/api/ApprovalRequest/Correspondence?",phoneToolImage:"https://internal-cdn.amazon.com/badgephotos.amazon.com/phone-image.pl?uid=",getApprovalFull:t.baseUrl+"/api/ApprovalRequest/getApprovalRequestFull?approvalId=",getApproval:t.baseUrl+"/api/ApprovalRequest/getApprovalRequest?approvalId=",getApprovalPlan:t.baseUrl+"/api/ApprovalRequest/getApprovalPlan?approvalId=",saveApprovalBasics:t.baseUrl+"/api/approvalrequest/updatebasics?",onHoldApprovalRequester:t.baseUrl+"/api/approvalrequest/onHoldApprovalRequester",onHoldApprovalApprover:t.baseUrl+"/api/approvalrequest/onHoldApprovalApprover",resumeApprovalRequester:t.baseUrl+"/api/approvalrequest/resumeApprovalRequester",resumeApprovalApprover:t.baseUrl+"/api/approvalrequest/resumeApprovalApprover",document:t.baseUrl+"/api/ApprovalRequest/Document",downloadAttachment:t.baseUrl+"/api/ApprovalRequest/downloadAttachment",getPublicUrl:t.baseUrl+"/api/ApprovalRequest/getPublicUrl",getUserAlias:t.baseUrl+"/api/User/Alias",approverAction:t.baseUrl+"/api/ApprovalRequest/ApprovalAction",requestorAction:t.baseUrl+"/api/ApprovalRequest/RequestorAction",phoneToolLink:"https://phonetool.amazon.com/users/",systemWikiLink:"https://w.amazon.com/bin/view/Daenerys/Onboard_Systems/#H",cloneApproval:t.baseUrl+"/api/approvalrequest/clone?",generatePDF:t.baseUrl+"/api/generatePdf?approvalId=",delegation:t.baseUrl+"/api/UserPreference/Delegation",delegationAll:t.baseUrl+"/api/UserPreference/DelegateAll",getPendingApprovalsForDelegation:t.baseUrl+"/api/UserPreference/getPendingApprovals",getApprovalAttributeHistory:t.baseUrl+"/api/approvalrequest/attribute_history?id=",transferApprovalRequest:t.baseUrl+"/api/UserPreference/transferCurrentApprover",getTransferHistory:t.baseUrl+"/api/UserPreference/getTransferHistory",getTransferApprovals:t.baseUrl+"/api/UserPreference/getTransferApprovals?",postBulkTransfer:t.baseUrl+"/api/UserPreference/bulkTransfer",getTransferTemplates:t.baseUrl+"/api/UserPreference/getTransferTemplates?",transferAllApprovals:t.baseUrl+"/api/UserPreference/transferAllApprovals?",transferAllTemplates:t.baseUrl+"/api/UserPreference/transferAllTemplates?",getEmailSettings:t.baseUrl+"/api/UserPreference/emailSettings",updateEmailSettings:t.baseUrl+"/api/UserPreference/updateEmailSettings?",getHistory:t.baseUrl+"/api/approvalrequest/history?id=",updateQuickLinks:t.baseUrl+"/api/UserPreference/updateQuickLinks",updateNotificationSettings:t.baseUrl+"/api/UserPreference/updateNotificationSettings",getQuickLinks:t.baseUrl+"/api/UserPreference/getQuickLinks",getNotificationSettings:t.baseUrl+"/api/UserPreference/getNotificationSettings",multiDelegation:t.baseUrl+"/api/UserPreference/DelegateMultipleRequests",performReassign:t.baseUrl+"/api/approvalrequest/performReassign",reminders:t.baseUrl+"/api/reminders",getAllApprovals:"/api/homepage/container/post",postFeedback:t.baseUrl+"/api/feedback",createApprovalRelation:t.baseUrl+"/api/approvalRelation/create",deleteApprovalRelation:t.baseUrl+"/api/approvalRelation/delete",getApprovalRelations:t.baseUrl+"/api/approvalRelations?approvalId=",getFavoriteTemplates:t.baseUrl+"/api/UserPreference/getFavoriteTemplates",updateFavoriteTemplates:t.baseUrl+"/api/UserPreference/updateFavoriteTemplates",createTag:t.baseUrl+"/api/tag/add",deleteTag:t.baseUrl+"/api/tag/remove",getTags:t.baseUrl+"/api/tags?approvalId=",getUnreadCorrespondence:t.baseUrl+"/api/correspondenceCount?approvalId=",getGenericExportsPreferencesList:t.baseUrl+"/api/genericExports/getPreferencesList",createGenericExportsPreference:t.baseUrl+"/api/genericExports/createPreference",deleteGenericExportsPreference:t.baseUrl+"/api/genericExports/deletePreference",checkGenericExportsPreferencePermissions:t.baseUrl+"/api/permissions/genericExportsPermissions",getAccessPermissions:t.baseUrl+"/api/permissions/getAccessPermissions",getStage:t.baseUrl+"/api/getStage",retryCreateIssue:t.baseUrl+"/api/approvalrequest/retrycreateissue",escalations:t.baseUrl+"/api/escalationService/manualEscalations",addTemplateTag:t.baseUrl+"/api/template/tag/add",deleteTemplateTag:t.baseUrl+"/api/template/tag/delete",getTemplateTagList:t.baseUrl+"/api/templates/tagList?templateId=",attachment:t.baseUrl+"/api/template/attachment",downloadTemplateAttachment:t.baseUrl+"/api/template/downloadAttachment",getTemplateAttachmentPublicUrl:t.baseUrl+"/api/template/getPublicUrl",createTask:t.baseUrl+"/api/task/create",getTask:t.baseUrl+"/api/task/get",getTasks:t.baseUrl+"/api/task/getall",updateTask:t.baseUrl+"/api/task/update",createTaskConfig:t.baseUrl+"/api/taskconfig/create",getTaskConfig:t.baseUrl+"/api/taskconfig/get",getTaskConfigs:t.baseUrl+"/api/taskconfig/getall",updateTaskConfig:t.baseUrl+"/api/taskconfig/update",deleteTaskConfig:t.baseUrl+"/api/taskconfig/delete",getParticipantsFromConfigs:t.baseUrl+"/api/taskconfig/get-participants",getFeatureFlag:t.baseUrl+"/api/featureFlag/get"};!function(e){e.ROUTE_DRAFT="ROUTE_DRAFT",e.ROUTE_PENDING="ROUTE_PENDING",e.ROUTE_TEMPLATE="ROUTE_TEMPLATE",e.ROUTE_COMPLETED="ROUTE_COMPLETED",e.ROUTE_PENDING_IN_FUTURE="ROUTE_PENDING_IN_FUTURE"}(t.RouteStatus||(t.RouteStatus={}));!function(e){e.BASIC_DETAILS="Basic Details",e.KEY_DETAILS="Key Details",e.APPROVAL_PLAN="Approval Plan",e.CORRESPONDENCE="Correspondence",e.VIEWER="General viewer",e.PRIVATE_VIEWER="Private viewer",e.LEGAL_COUNSEL="Legal counsel",e.TEMPLATE_ADMIN="Template admin",e.TEMPLATE_VIEWER="Template viewer",e.ATTACHMENT="Attachment",e.QUESTIONNAIRE="Questionnaire",e.REQUESTER="Requester",e.EMPTY="EMPTY",e.RELATED="Related Approvals",e.TAGS="Tags",e.ANY="Any Category",e.ESCALATIONS="Escalations",e.APPROVAL_ADMIN="Admin",e.TEMPLATE_OWNER="Template owner",e.RULE="Rule"}(t.AuditLogCategory||(t.AuditLogCategory={}));!function(e){e.APPROVER="Approver",e.LEGAL_COUNSEL="Legal Counsel",e.REQUESTER="Requester",e.VIEWER="General Viewer",e.PRIVATE_VIEWER="Private Viewer",e.APPROVAL_ADMIN="Approval Admin",e.TEMPLATE_VIEWER="Template Viewer",e.TEMPLATE_ADMIN="Template admin",e.TEMPLATE_OWNER="Template owner",e.UNKNOWN="Unknown"}(t.ActorRoleDisplay||(t.ActorRoleDisplay={}));!function(e){e.TEMPLATE_ID="templateid",e.EXTERNAL_ID="externalid",e.STATUS="status",e.REQUESTER="requester",e.TITLE="title",e.EXACT_TITLE="titleexactmatch",e.TAG="tag",e.PRIORITY="priority",e.MY_ROLE="myrole"}(t.AdvancedSearchVar||(t.AdvancedSearchVar={}));var n;!function(e){e.ApprovalStatus="status",e.ApprovalTitleExactMatch="titleexactmatch",e.ApprovalTitle="title",e.Requester="requester",e.TemplateId="templateid",e.ExternalId="externalid",e.Tag="tags",e.Priority="priority",e.MyRole="myrole"}(n=t.AdvancedSearchMetrics||(t.AdvancedSearchMetrics={})),t.getMetricName=function(e){return Object.keys(n).find(function(t){return n[t]===e})};!function(e){e.APPROVER_REJECTED="Rejected",e.APPROVER_RECOMMEND_FOR_REJECTION="Recommend for rejection",e.APPROVER_RECOMMEND_FOR_APPROVAL="Recommend for approval",e.APPROVER_APPROVED_WITH_CONDITION="Approved with condition",e.APPROVER_APPROVED="Approved",e.APPROVER_DRAFT="Draft",e.APPROVER_PENDING="Pending",e.APPROVER_PENDING_IN_FUTURE="Pending in future",e.APPROVER_DECISION_MADE_BY_PARALLEL_APPROVER="Decision made be parallel approver",e.UNKNOWN="Unknown"}(t.ApproverStatusDisplay||(t.ApproverStatusDisplay={}));!function(e){e.APPROVE="APPROVE",e.APPROVE_WITH_CONDITION="APPROVE_WITH_CONDITION",e.RECOMMEND_FOR_APPROVAL="RECOMMEND_FOR_APPROVAL",e.RECOMMEND_FOR_REJECTION="RECOMMEND_FOR_REJECTION",e.REJECT="REJECT",e.TRANSFER="TRANSFER",e.RESTART_APPROVAL="RESTART_APPROVAL",e.INVALIDATE_APPROVAL="INVALIDATE_APPROVAL",e.BULK_ACTION="BULK_ACTION",e.ON_HOLD="ON_HOLD",e.RESUME="RESUME"}(t.ApproverAction||(t.ApproverAction={}));!function(e){e.CANCEL="CANCEL_APPROVAL",e.RESTART_APPROVAL="RESTART_APPROVAL",e.INVALIDATE_APPROVAL="INVALIDATE_APPROVAL",e.ON_HOLD_APPROVAL="ON_HOLD_APPROVAL",e.RESUME_APPROVAL="RESUME_APPROVAL"}(t.RequestorAction||(t.RequestorAction={}));!function(e){e.NONE="NONE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(t.PriorityType||(t.PriorityType={}));!function(e){e.GENERAL="GENERAL",e.INCLUDESPRIVATEINFO="INCLUDESPRIVATEINFO"}(t.PrivacyType||(t.PrivacyType={}));!function(e){e.APPROVED="Approval Comments",e.REJECTED="Reject request",e.APPROVED_WITH_CONDITION="Approval Conditions",e.RECOMMEND_FOR_APPROVAL="Recommend For Approve",e.RECOMMEND_FOR_REJECTION="Recommend For Reject",e.CANCEL="CANCEL_APPROVAL",e.RESTART_APPROVAL="Restart Approval",e.INVALIDATE_APPROVAL="Invalidate Approval"}(t.DisplayApprovalAction||(t.DisplayApprovalAction={}));!function(e){e.NONE="None",e.LOW="Low",e.MEDIUM="Medium",e.HIGH="High",e.UNKNOWN="Unknown"}(t.DisplayPriority||(t.DisplayPriority={}));!function(e){e.CREATE="CREATE",e.APPROVE="APPROVE",e.MYREQUESTS="MYREQUESTS",e.TEMPLATES="TEMPLATES",e.REPORTING="REPORTING"}(t.LeftNavTab||(t.LeftNavTab={}));!function(e){e.ACTOR="ACTOR",e.APPROVAL="APPROVAL",e.ATTACHMENT="ATTACHMENT",e.ATTRIBUTE="ATTRIBUTE",e.CORRESPONDENCE="CORRESPONDENCE",e.DOCUMENT="DOCUMENT",e.ROUTE="ROUTE",e.RULE="RULE",e.RELATION="RELATION",e.TAG="TAG",e.TEMPLATE="TEMPLATE"}(t.HistoryChangedSection||(t.HistoryChangedSection={}));!function(e){e.SIMPLE_TEXT="SIMPLE_TEXT",e.NUMERIC="NUMERIC",e.CURRENCY="CURRENCY",e.CALENDAR="CALENDAR",e.SINGLE_DROPDOWN="SINGLE_DROPDOWN",e.MULTI_DROPDOWN="MULTI_DROPDOWN",e.PHONE_NUMBER="PHONE_NUMBER",e.UNIQUE_IDENTIFIER="UNIQUE_IDENTIFIER"}(t.ATTRIBUTE_TYPE||(t.ATTRIBUTE_TYPE={}));!function(e){e.APPROVAL_ADMIN="APPROVAL_ADMIN",e.APPROVER="APPROVER",e.REQUESTER="REQUESTER",e.LEGAL_COUNSEL="LEGAL_COUNSEL",e.VIEWER="VIEWER",e.PRIVATE_VIEWER="PRIVATE_VIEWER"}(t.UserRole||(t.UserRole={}));!function(e){e.DAENERYS_API="DAENERYS_API",e.DAENERYS_EMAIL="DAENERYS_EMAIL",e.DAENERYS_WEB="DAENERYS_WEB"}(t.ActionPortal||(t.ActionPortal={}));!function(e){e.NO_EMAIL="NO_EMAIL"}(t.ActorRestrictedPermission||(t.ActorRestrictedPermission={}));!function(e){e.OWNER="TEMPLATE_OWNER",e.ADMIN="TEMPLATE_ADMIN",e.VIEWER="TEMPLATE_VIEWER"}(t.TemplateUserRole||(t.TemplateUserRole={}));!function(e){e.VIEWERS="Modify Viewers",e.APPROVAL_ADMINS="Modify Approval Admins",e.RULES="Modify Rules",e.APPROVAL_PLAN="Modify Approval Plan",e.APPROVAL_SETTINGS="Modify Approval Settings",e.TEMPLATE_VIEWERS="Modify Template Viewers",e.TEMPLATE_ADMINS="Modify Template Admins",e.TEMPLATE_REPORTING_PERMISSIONS="Modify Permissions",e.TEMPLATE_TAGS="Modify Template Tags",e.TEMPLATE_ATTACHMENTS="Modify Template Attachments"}(t.TemplateToolTip||(t.TemplateToolTip={}));!function(e){e.VIEWERS="Viewers",e.APPROVAL_ADMINS="Approval Admins",e.RULES="Rules",e.APPROVAL_PLAN="Approval Plan",e.APPROVAL_SETTINGS="Approval Settings",e.TEMPLATE_VIEWERS="Template Viewers",e.TEMPLATE_ADMINS="Template Admins",e.TEMPLATE_REPORTING_PERMISSIONS="Template Reporting Permissions",e.TEMPLATE_TAGS="Template Tags",e.BULK_CREATE_APPROVALS="Bulk Create Approvals",e.TEMPLATE_ATTACHMENTS="Template Attachments"}(t.TemplateSectionName||(t.TemplateSectionName={}));!function(e){e.PRINCIPAL="PRINCIPAL",e.ANT_GROUP="ANT_GROUP",e.LDAP_GROUP="LDAP_GROUP",e.POSIX_GROUP="POSIX_GROUP",e.DYNAMIC_ACTOR="DYNAMIC_ACTOR"}(t.ActoryType||(t.ActoryType={}));!function(e){e.APPROVAL_REQUEST="APPROVAL_REQUEST",e.ALL="ALL"}(t.DelegationType||(t.DelegationType={}));!function(e){e.REQUESTERS_MANAGER="Requester's Manager",e.REQUESTERS_SKIP_LEVEL_MANAGER="Requester's Skip Level Manager"}(t.DynamicTile||(t.DynamicTile={}));!function(e){e.CREATE_APPROVAL_FROM_TEMPLATE="CREATE_APPROVAL_FROM_TEMPLATE",e.CREATE_APPROVAL="CREATE_APPROVAL",e.UPDATE_APPROVAL="UPDATE_APPROVAL",e.PERFORM_REQUESTER_ACTION="PERFORM_REQUESTER_ACTION",e.CLONE_APPROVAL="CLONE_APPROVAL",e.UPDATE_APPROVAL_PLAN="UPDATE_APPROVAL_PLAN",e.CREATE_APPROVAL_FULL="CREATE_APPROVAL_FULL",e.UPDATE_APPROVAL_FULL="UPDATE_APPROVAL_FULL",e.PERFORM_APPROVER_ACTION="PERFORM_APPROVER_ACTION",e.PERFORM_EMAIL_ACTION="PERFORM_EMAIL_ACTION",e.UPDATE_DELEGATEE="UPDATE_DELEGATEE",e.DELETE_DELEGATEE="DELETE_DELEGATEE",e.CREATE_LEGAL_COUNSEL="CREATE_LEGAL_COUNSEL",e.UPDATE_LEGAL_COUNSEL="UPDATE_LEGAL_COUNSEL",e.DELETE_LEGAL_COUNSEL="DELETE_LEGAL_COUNSEL",e.CREATE_VIEWER="CREATE_VIEWER",e.UPDATE_VIEWER="UPDATE_VIEWER",e.DELETE_VIEWER="DELETE_VIEWER",e.CREATE_ATTRIBUTE="CREATE_ATTRIBUTE",e.UPDATE_ATTRIBUTE="UPDATE_ATTRIBUTE",e.DELETE_ATTRIBUTE="DELETE_ATTRIBUTE",e.CREATE_CORRESPONDENCE="CREATE_CORRESPONDENCE",e.CREATE_DOCUMENT="CREATE_DOCUMENT",e.UPDATE_DOCUMENT="UPDATE_DOCUMENT",e.DELETE_DOCUMENT="DELETE_DOCUMENT",e.CREATE_ROUTE="CREATE_ROUTE",e.UPDATE_ROUTE="UPDATE_ROUTE",e.DELETE_ROUTE="DELETE_ROUTE",e.CREATE_AND_START_APPROVAL_FROM_TEMPLATE="CREATE_AND_START_APPROVAL_FROM_TEMPLATE",e.CREATE_AND_START_APPROVAL_FULL="CREATE_AND_START_APPROVAL_FULL",e.RETRY_CREATE_ISSUE="RETRY_CREATE_ISSUE",e.UPDATE_APPROVAL_FOR_ESCALATION_SENT="UPDATE_APPROVAL_FOR_ESCALATION_SENT",e.CREATE_APPROVAL_ADMIN="CREATE_APPROVAL_ADMIN",e.DELETE_APPROVAL_ADMIN="DELETE_APPROVAL_ADMIN"}(t.ApprovalHistoryAction||(t.ApprovalHistoryAction={}));!function(e){e.APPROVAL_REQUEST="Approval Request",e.APPROVAL_TEMPLATES="Approval Templates"}(t.TransferType||(t.TransferType={}));!function(e){e.REQUESTER="Requester",e.CURRENT_APPROVER="Current Approver",e.FUTURE_APPROVER="Future Approver",e.LEGAL_COUNSEL="Legal Counsel",e.VIEWER="Viewer",e.ANY_ROLE="Any Role"}(t.TransferApprovalRoleType||(t.TransferApprovalRoleType={}));!function(e){e.DRAFT="In-Drafting",e.PENDING="Pending",e.APPROVED="Approved",e.REJECTED="Rejected",e.CANCELLED="Cancelled",e.APPROVED_WITH_CONDITION="Approved with Conditions",e.ANY_STATUS="Any Status"}(t.TransferApprovalStatus||(t.TransferApprovalStatus={}));!function(e){e.TEMPLATE_OWNER="Template Owner",e.TEMPLATE_ADMIN="Template Admin",e.TEMPLATE_VIEWER="Template Viewer"}(t.TransferTemplateRole||(t.TransferTemplateRole={}));!function(e){e.REQUESTER="REQUESTER",e.CURRENT_APPROVER="CURRENT_APPROVER",e.FUTURE_APPROVER="FUTURE_APPROVER",e.LEGALCOUNSEL="LEGALCOUNSEL",e.VIEWER="VIEWER",e.TEMPLATE_OWNER="TEMPLATE_OWNER",e.TEMPLATE_ADMIN="TEMPLATE_ADMIN",e.TEMPLATE_VIEWER="TEMPLATE_VIEWER"}(t.BulkTransferOptionType||(t.BulkTransferOptionType={}));!function(e){e[e.SPECIFIC_APPROVALREQUEST=0]="SPECIFIC_APPROVALREQUEST",e[e.SPECIFIC_TEMPLATE=1]="SPECIFIC_TEMPLATE",e[e.APPROVALREQUESTS_ROLE_BASED=2]="APPROVALREQUESTS_ROLE_BASED",e[e.TEMPLATES_ROLE_BASED=3]="TEMPLATES_ROLE_BASED",e[e.ALL_APPROVALREQUESTS=4]="ALL_APPROVALREQUESTS",e[e.ALL_TEMPLATES=5]="ALL_TEMPLATES"}(t.TransferRequestType||(t.TransferRequestType={}));!function(e){e.DIGEST_FREQUENCY="DIGEST_FREQUENCY",e.NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED="NOTIFY_REQUESTER_WHENCORRESPONDENCEADDED",e.NOTIFY_REQUESTER_WHENDECISIONMADE="NOTIFY_REQUESTER_WHENDECISIONMADE",e.APPROVER_REMINDERNOTIFICATION="APPROVER_REMINDERNOTIFICATION",e.NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED="NOTIFY_PASTAPPROVER_WHENCORRESPONDENCEADDED",e.NOTIFY_PASTAPPROVER_WHENDECISIONMADE="NOTIFY_PASTAPPROVER_WHENDECISIONMADE",e.NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED="NOTIFY_CURRENTAPPROVER_WHENCORRESPONDENCEADDED",e.NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE="NOTIFY_CURRENTAPPROVER_WHENDECISIONMADE",e.NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED="NOTIFY_FUTUREAPPROVER_WHENCORRESPONDENCEADDED",e.NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE="NOTIFY_FUTUREAPPROVER_WHENDECISIONMADE",e.NOTIFY_VIEWER="NOTIFY_VIEWER",e.NOTIFY_VIEWER_WHENAPPROVALCOMPLETED="NOTIFY_VIEWER_WHENAPPROVALCOMPLETED",e.NOTIFY_VIEWER_WHENAPPROVALCREATED="NOTIFY_VIEWER_WHENAPPROVALCREATED",e.USER_FAVOURITES="USER_FAVOURITES",e.TEMPLATE_FAVOURITES="TEMPLATE_FAVOURITES",e.NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE="NOTIFY_CURRENTAPPROVER_WHENCONDITIONSDECISIONMADE",e.NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE="NOTIFY_PASTAPPROVER_WHENCONDITIONSDECISIONMADE",e.NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE="NOTIFY_FUTUREAPPROVER_WHENCONDITIONSDECISIONMADE",e.NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE="NOTIFY_VIEWER_WHENCONDITIONSDECISIONMADE",e.NOTIFY_VIEWER_WHENDECISIONMADE="NOTIFY_VIEWER_WHENDECISIONMADE",e.NOTIFY_REQUESTER_WHENDOCUMENTCHANGED="NOTIFY_REQUESTER_WHENDOCUMENTCHANGED",e.NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED="NOTIFY_PASTAPPROVER_WHENDOCUMENTCHANGED",e.NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED="NOTIFY_CURRENTAPPROVER_WHENDOCUMENTCHANGED",e.NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED="NOTIFY_FUTUREAPPROVER_WHENDOCUMENTCHANGED",e.NOTIFY_VIEWER_WHENDOCUMENTCHANGED="NOTIFY_VIEWER_WHENDOCUMENTCHANGED"}(t.UserPreferenceType||(t.UserPreferenceType={}));!function(e){e[e.REQUESTER=0]="REQUESTER",e[e.CURRENT_APPROVER=1]="CURRENT_APPROVER",e[e.PAST_APPROVER=2]="PAST_APPROVER",e[e.FUTURE_APPROVER=3]="FUTURE_APPROVER",e[e.VIEWER=4]="VIEWER",e[e.PRIVATE_VIEWER=5]="PRIVATE_VIEWER"}(t.ApprovalUserType||(t.ApprovalUserType={}));!function(e){e.REQUESTER="REQUESTER",e.CURRENT_APPROVER="CURRENT_APPROVER",e.PAST_APPROVER="PAST_APPROVER",e.FUTURE_APPROVER="FUTURE_APPROVER",e.GENERAL_VIEWER="GENERAL_VIEWER",e.PRIVATE_VIEWER="PRIVATE_VIEWER",e.ADMIN="APPROVAL_ADMIN"}(t.ApprovalUserRoleType||(t.ApprovalUserRoleType={}));!function(e){e[e.DOCUMENTCHANGED=0]="DOCUMENTCHANGED",e[e.DECISIONMADE=1]="DECISIONMADE",e[e.CONDITIONSDECISIONMADE=2]="CONDITIONSDECISIONMADE",e[e.APPROVALCREATED=3]="APPROVALCREATED",e[e.APPROVALCOMPLETED=4]="APPROVALCOMPLETED",e[e.CORRESPONDENCEADDED=5]="CORRESPONDENCEADDED"}(t.ApprovalUpdateType||(t.ApprovalUpdateType={}));!function(e){e.TERMINATED_EMPLOYEE="TerminatedEmployee",e.ADVANCED_SEARCH_APPROVAL="AdvancedSearchApproval",e.MOBILE_DEVICE_BLOCK_BUTTON="mobileDeviceBlockButton",e.TOUR="tour"}(t.MetricCategory||(t.MetricCategory={}));!function(e){e.STRING="STRING",e.STRING_ARRAY_LIST="STRING_ARRAY_LIST",e.NUMBER="NUMBER",e.DATE="DATE"}(t.FactType||(t.FactType={}));!function(e){e.SIMPLE_TEXT="STRING",e.NUMERIC="NUMBER",e.CURRENCY="STRING",e.CALENDAR="DATE",e.SINGLE_DROPDOWN="STRING",e.MULTI_DROPDOWN="STRING_ARRAY_LIST",e.PHONE_NUMBER="STRING",e.UNIQUE_IDENTIFIER="STRING"}(t.AttributeTypeFactType||(t.AttributeTypeFactType={}));!function(e){e.Template="TEMPLATE",e.Request="REQUEST",e.Issue="ISSUE"}(t.RuleEntityType||(t.RuleEntityType={}));!function(e){e.DYNAMIC_APPROVAL_PLAN="DYNAMIC_APPROVAL_PLAN",e.DYNAMIC_APPROVAL_VIEWERS="DYNAMIC_APPROVAL_VIEWERS",e.DYNAMIC_NEEDED_ON_DATE="DYNAMIC_NEEDED_ON_DATE",e.DYNAMIC_QUESTIONNAIRE_100M="DYNAMIC_QUESTIONNAIRE_100M"}(t.RuleActionType||(t.RuleActionType={}));!function(e){e.DYNAMIC_APPROVAL_PLAN="Dynamic approval plan",e.DYNAMIC_APPROVAL_VIEWERS="Dynamic viewers"}(t.RuleActionTypeDisplayText||(t.RuleActionTypeDisplayText={}));!function(e){e.GROUP="GROUP",e.APPROVER="APPROVER",e.VIEWER="VIEWER",e.LEVEL="LEVEL"}(t.ActionParameterType||(t.ActionParameterType={}));!function(e){e.GROUP="Group",e.APPROVER="Approver",e.VIEWER="Viewer",e.LEVEL="Level"}(t.ActionParameterTypeDisplayText||(t.ActionParameterTypeDisplayText={}));!function(e){e.PASS="PASS",e.PASS_HENCE_ENABLED="PASS_HENCE_ENABLED",e.PASS_HENCE_DISABLED="PASS_HENCE_DISABLED",e.FAIL="FAIL",e.FAIL_HENCE_ENABLED="FAIL_HENCE_ENABLED",e.FAIL_HENCE_DISABLED="FAIL_HENCE_DISABLED",e.FAIL_BUT_OVERRIDDEN="FAIL_BUT_OVERRIDDEN",e.PASS_BUT_OVERRIDDEN="PASS_BUT_OVERRIDDEN",e.BEING_EVALUATED="BEING_EVALUATED"}(t.RuleStatus||(t.RuleStatus={}));!function(e){e.TERMINATED_EMPLOYEE="TERMINATED_EMPLOYEE"}(t.CorrespondenceType||(t.CorrespondenceType={}));!function(e){e.ENABLE="ENABLE",e.DISABLE="DISABLE"}(t.ActionParameterTargetState||(t.ActionParameterTargetState={}));!function(e){e.ENABLE="Keep",e.DISABLE="Remove"}(t.ActionParameterTargetStateDisplayText||(t.ActionParameterTargetStateDisplayText={}));!function(e){e.AND="AND",e.OR="OR"}(t.LogicalOperator||(t.LogicalOperator={}));!function(e){e.EQUAL="EQUAL",e.NOT_EQUAL="NOT_EQUAL",e.LESS_THAN="LESS_THAN",e.GREATER_THAN="GREATER_THAN",e.LESS_THAN_EQUAL="LESS_THAN_EQUAL",e.GREATER_THAN_EQUAL="GREATER_THAN_EQUAL",e.CONTAINS="CONTAINS",e.STARTS_WITH="STARTS_WITH",e.ENDS_WITH="ENDS_WITH"}(t.RelationalOperator||(t.RelationalOperator={}));!function(e){e.EQUAL="is equal to",e.NOT_EQUAL="is not equal to",e.LESS_THAN="is less than",e.GREATER_THAN="is greater than",e.LESS_THAN_EQUAL="is less than or equals to",e.GREATER_THAN_EQUAL="is greater than or equals to",e.CONTAINS="contains",e.STARTS_WITH="starts with",e.ENDS_WITH="ends with",e.CONTAINS_ANY="contains any",e.CONTAINS_ALL="contains all"}(t.RelationalOperatorDisplayText||(t.RelationalOperatorDisplayText={}));!function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(t.LoadingState||(t.LoadingState={}));!function(e){e.APPROVAL="APPROVAL",e.ISSUE="ISSUE"}(t.EntityType||(t.EntityType={}));!function(e){e.GetGenericExportsList_Succeeded="GetGenericExportsList_Succeeded",e.GetGenericExportsList_Failed="GetGenericExportsList_Failed",e.GetGenericExportsList_Pending="GetGenericExportsList_Pending",e.CreateGenericExportsList_Succeeded="CreateGenericExportsList_Succeeded",e.CreateGenericExportsList_Failed="CreateGenericExportsList_Failed",e.CreateGenericExportsList_Pending="CreateGenericExportsList_Pending",e.DeleteGenericExportsList_Succeeded="DeleteGenericExportsList_Succeeded",e.DeleteGenericExportsList_Failed="DeleteGenericExportsList_Failed",e.DeleteGenericExportsList_Pending="DeleteGenericExportsList_Pending"}(t.GenericExportsActionType||(t.GenericExportsActionType={}))},454:function(e,t,a){"use strict";function getEmailSettings(){return function(e){e(i.updateNotification({value:{id:o,content:"Loading your email preferences ....",loading:!0,type:"alert",status:"info"}})),r.default.get(n.ServiceEndPoints.getEmailSettings).then(function(t){var a=t.data;e(i.deleteNotification({value:o})),a.isError?(e(getEmailSettings_Failed()),e(i.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to load your email preferences.",type:"alert",status:"error"}}))):e(getEmailSettings_Succeeded(a.data))}).catch(function(t){e(i.deleteNotification({value:o})),e(getEmailSettings_Failed()),e(i.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to load your email preferences.",type:"alert",status:"error"}}))})}}function postEmailSettings(e,t){return function(a){var o=new URLSearchParams;o.append("userPreferenceType",e),o.append("userPreferenceValue",t),r.default.post(n.ServiceEndPoints.updateEmailSettings,o).then(function(e){var t=e.data;if(t.isError)throw new Error(t.errorMessage)}).catch(function(e){a(getEmailSettings_Failed()),a(i.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to save your email preference. Please refresh the page and try again.",type:"alert",status:"error"}}))})}}function getEmailSettings_Succeeded(e){return{type:t.GetEmailSettings_Succeeded,payload:e}}function getEmailSettings_Failed(){return{type:t.GetEmailSettings_Failed,payload:!0}}function getEmailSettings_Pending(){return{type:t.GetEmailSettings_Pending,payload:!0}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10);t.GetEmailSettings_Succeeded="GetEmailSettings_Succeeded",t.GetEmailSettings_Failed="GetEmailSettings_Failed",t.GetEmailSettings_Pending="GetEmailSettings_Pending";var o=Math.random();t.getEmailSettings=getEmailSettings,t.postEmailSettings=postEmailSettings,t.getEmailSettings_Succeeded=getEmailSettings_Succeeded,t.getEmailSettings_Failed=getEmailSettings_Failed,t.getEmailSettings_Pending=getEmailSettings_Pending},455:function(e,t,a){"use strict";function toggleMenuVisibility(e,a){return{type:e?t.SHOW_MENU:t.HIDE_MENU,payload:{visibility:e,currentMenuId:a}}}Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_MENU="SHOW_MENU",t.HIDE_MENU="HIDE_MENU",t.toggleMenuVisibility=toggleMenuVisibility},456:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(169),i=a(835),o=a(4),s=a(608),l=a(937);t.AUDIT_LOG_SELECTED_USER_ANY="Any User";var c={rawHistoryList:[],totalRawHistory:0,status:"loaded",historyList:[],processedHistoryList:[],selectedCategory:o.AuditLogCategory.ANY,selectedUser:t.AUDIT_LOG_SELECTED_USER_ANY,filteringText:"",errorMessage:"",displayHistory:null},p=function(e,a){var r=e.selectedCategory,n=e.selectedUser,i=e.filteringText;return a.filter(function(e){return(r===o.AuditLogCategory.ANY||r===e.category)&&((n===t.AUDIT_LOG_SELECTED_USER_ANY||n===e.user)&&!(s.isNotEmpty(i)&&l.getHistorySearchString(e).toLowerCase().indexOf(i.toLowerCase())<0))})},u=function(e){try{var t=e.historyList;e.processedHistoryList=p(e,t)}catch(t){console.error(t),e.errorMessage=t.toString(),e.status="error"}};t.auditLogReducer=function(e,t){void 0===e&&(e=c);var a=t.type,o=t.payload,s=r({},e);switch(a){case n.AUDIT_LOG_LOAD_HISTORY:var l=o.total,p=o.histories,d=o.actorList,m=o.attributeList,f=o.lookupIndex;s.rawHistoryList=e.rawHistoryList.concat(p),s.totalRawHistory=l;try{s.historyList=i.generateHistoryList(s.rawHistoryList,d,m,f)}catch(e){return console.error(e),s.errorMessage=e.toString(),s.status="error",s}return u(s),s;case n.AUDIT_LOG_RESET:return r({},c);case n.AUDIT_LOG_UPDATE_STATUS:return s.status=o,s;case n.AUDIT_LOG_SELECT_CATEGORY:return s.selectedCategory=o,u(s),s;case n.AUDIT_LOG_SELECT_USER:return s.selectedUser=o,u(s),s;case n.AUDIT_LOG_UPDATE_DISPLAY_HISTORY:return s.displayHistory=o,s;case n.AUDIT_LOG_UPDATE_FILTERING_TEXT:return s.filteringText=o,u(s),s;case n.AUDIT_LOG_UPDATE_ERROR_MESSAGE:return s.errorMessage=o,s}return e}},46:function(e,t,a){"use strict";function queryPeopleSearch(e,t){return function(a){i&&i.cancel("New key stroke"),i=r.default.CancelToken.source(),console.log(i.token);var o={cancelToken:i.token};a(peopleSearchPending());var s=void 0;return s=t?n.SERVICE_ENDPOINTS+n.API_ROUTES.ACTOR_SEARCH+"?people=1&group=0&query="+encodeURI(e):n.SERVICE_ENDPOINTS+n.API_ROUTES.ACTOR_SEARCH+"?people=1&group=1&query="+encodeURI(e),r.default.get(s,o).then(function(e){i=void 0,a(peopleSearchSucceeded(e.data))}).catch(function(e){r.default.isCancel(e)?console.log("Request canceled",e):console.log(e),a(peopleSearchFailed(e))})}}function clearPeopleResults(){return{type:t.CLEAR_PEOPLE_SEARCH,payload:[]}}function peopleSearchSucceeded(e){return{type:t.PEOPLE_SEARCH_SUCCESS,payload:e}}function peopleSearchFailed(e){return{type:t.PEOPLE_SEARCH_FAILED,payload:e}}function peopleSearchPending(){return{type:t.PEOPLE_SEARCH_PENDING,payload:!0}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(6);t.PEOPLE_SEARCH="PEOPLE_SEARCH",t.PEOPLE_SEARCH_SUCCESS="PEOPLE_SEARCH_SUCCESS",t.PEOPLE_SEARCH_FAILED="PEOPLE_SEARCH_FAILED",t.PEOPLE_SEARCH_PENDING="PEOPLE_SEARCH_PENDING",t.CLEAR_PEOPLE_SEARCH="CLEAR_PEOPLE_SEARCH";var i;t.queryPeopleSearch=queryPeopleSearch,t.clearPeopleResults=clearPeopleResults,t.peopleSearchSucceeded=peopleSearchSucceeded,t.peopleSearchFailed=peopleSearchFailed,t.peopleSearchPending=peopleSearchPending},51:function(e,t,a){"use strict";function getGroupDisplayName(e){return e==n.ActoryType.ANT_GROUP?"ANT Group":e==n.ActoryType.LDAP_GROUP?"LDAP Group":e==n.ActoryType.POSIX_GROUP?"POSIX Group":"Security Group"}function getGroupDetailsLink(e){var t=(r={},r[n.ActoryType.ANT_GROUP]="ant",r[n.ActoryType.LDAP_GROUP]="ldap",r[n.ActoryType.POSIX_GROUP]="posix",r);if(!e||!e.groupName.trim()||!t[e.type])return"javascript:void(0)";var a=new URLSearchParams;return a.append("group",e.groupName.trim()),a.append("group_type",t[e.type]),"https://permissions.amazon.com/group.mhtml?"+a.toString();var r}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(4);t.getDraggableCardStyle=function(e,t){return r({cursor:"move",transform:"none !important"},e)},t.getGroupDisplayName=getGroupDisplayName,t.getGroupDetailsLink=getGroupDetailsLink},52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(51),n=a(4),i=a(6);t.getActorLink=function(e){return e?e.alias&&"PRINCIPAL"==e.type?e.alias.startsWith(i.SYSTEM_USER_PREFIX)?n.ServiceEndPoints.systemWikiLink+"System"+e.alias.match(/SYSTEM_(\d+)_/)[1]:n.ServiceEndPoints.phoneToolLink+e.alias:e.active||e.alias?r.getGroupDetailsLink(e):null:null},t.getActorImageLink=function(e){return e?"PRINCIPAL"===e.type?n.ServiceEndPoints.phoneToolImage+e.alias:"/assets/images/GroupImage.png":null},t.getActorLinkByAlias=function(e){return t.getActorLink({type:"PRINCIPAL",alias:e})}},57:function(e,t,a){"use strict";function createTab(e,t){return{id:e,labelProps:t}}function getFilterEnabledTableItems(e){var t={};return e.map(function(e){return t[e.filterColumn]=getFilter(e)}),t}function getFilter(e){switch(e.filterType){case"TextColumnFilter":return i.createElement(o.TextColumnFilter,r({},e,{placeholder:"Filter... ",className:"awsui-input home-filter-input"}));case"DateColumnFilter":return i.createElement(o.DateColumnFilter,r({},e,{delimiter:s.DELIMITER,unfilteredContent:i.createElement("span",null,"Filter"),filteredContent:i.createElement("span",{className:"filtered"},"Filtered")}));case"OptionColumnFilter":return i.createElement("div",{id:e.className},i.createElement(o.OptionColumnFilter,r({},e,{content:function(e){var t=e.className,a=e.text;return i.createElement("span",{className:t},a.substring(0,3),"...")}})));case"PeopleSearchColumnFilter":return i.createElement(o.PeopleSearchColumnFilter,r({},e));case"TotalApprovalTimeFilter":return i.createElement("div",{className:"total-approval-time"},i.createElement(o.TotalApprovalTimeFilter,r({},e,{unfilteredContent:i.createElement("span",null,"Filter"),filteredContent:i.createElement("span",{style:{color:"#1e8900"}},"Filtered")})));default:return i.createElement("div",null)}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n,i=a(0),o=a(13),s=a(6);!function(e){e.active="MY_ACTIVE_TEMPLATES",e.admin="ADMIN_BY_ME",e.all="ALL",e.createdbyme="MY_REQUESTS",e.future="PENDING_SOON",e.inactive="MY_INACTIVE_TEMPLATES",e.pending="PENDING_NOW",e.previous="APPROVED_BY_ME",e.public="PUBLIC_TEMPLATES",e.favoriteTemplates="FAVORITE_TEMPLATES",e.search="SEARCH_RESULT",e.shared="SHARED_WITH_ME",e.onHold="ON_HOLD"}(n=t.TabId||(t.TabId={})),t.tabPath=(l={},l[n.active]="active",l[n.admin]="admin",l[n.all]="all",l[n.createdbyme]="createdbyme",l[n.future]="future",l[n.inactive]="inactive",l[n.pending]="pending",l[n.previous]="previous",l[n.public]="public",l[n.search]="search",l[n.shared]="shared",l[n.onHold]="onhold",l[n.favoriteTemplates]="favorites",l);!function(e){e.CHANGED="changedAt",e.COMPLETED_ON="endedAt",e.CREATED_AT="createdAt",e.CREATED_BY="createdBy",e.ID="id",e.NEEDED_ON="neededOnDate",e.OWNER="owner",e.STATUS="status",e.TITLE="title",e.REQUESTER="requester",e.PRIVACY_TYPE="isPrivate",e.CURRENT_APPROVERS="pendingapprovers",e.TAGS="tags",e.PRIORITY="priority",e.TOTAL_APPROVAL_TIME="totalApprovalTime"}(t.ColumnId||(t.ColumnId={}));!function(e){e.COLUMN="columnSort",e.RELEVANCE="relevanceSort"}(t.SortOptionId||(t.SortOptionId={})),t.createTab=createTab,t.STATUS_FILTER_DROPDOWN=[{text:"Any",id:"ANY",className:null},{text:"Pending",id:"PENDING",className:"home-status-pending"},{text:"Approved",id:"APPROVED",className:"home-status-approved"},{text:"Rejected",id:"REJECTED",className:"home-status-rejected"},{text:"Approved with conditions",id:"APPROVED_WITH_CONDITION",className:"home-status-approved"},{text:"Draft",id:"DRAFT",className:"home-status-draft"},{text:"On hold",id:"ON_HOLD",className:"home-status-on-hold"},{text:"Cancelled",id:"CANCELLED",className:"home-status-cancelled"},{text:"Invalidated",id:"INVALIDATED",className:"home-status-invalidated"}],t.PRIVACYTYPE_FILTER_DROPDOWN=[{text:"All",id:"ALL"},{text:"General",id:"GENERAL"},{text:"Includes private info",id:"INCLUDESPRIVATEINFO"}],t.PRIORITY_FILTER_DROPDOWN=[{text:"All",id:"ALL"},{text:"High",id:"HIGH"},{text:"Medium",id:"MEDIUM"},{text:"Low",id:"LOW"},{text:"None",id:"NONE"}],t.getFilterEnabledTableItems=getFilterEnabledTableItems;var l},6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(0),i=a(8);t.MAX_LENGTH=50,t.PERMISSIONED_CONTENT_LIMIT=1e3,t.BULK_CORRESPONDENCE_LIMIT=500,t.AUDIT_LOG_CATEGORY_OPTIONS_FOR_APPROVAL=[{label:r.AuditLogCategory.ANY,id:r.AuditLogCategory.ANY},{label:r.AuditLogCategory.APPROVAL_ADMIN,id:r.AuditLogCategory.APPROVAL_ADMIN},{label:r.AuditLogCategory.APPROVAL_PLAN,id:r.AuditLogCategory.APPROVAL_PLAN},{label:r.AuditLogCategory.ATTACHMENT,id:r.AuditLogCategory.ATTACHMENT},{label:r.AuditLogCategory.BASIC_DETAILS,id:r.AuditLogCategory.BASIC_DETAILS},{label:r.AuditLogCategory.CORRESPONDENCE,id:r.AuditLogCategory.CORRESPONDENCE},{label:r.AuditLogCategory.ESCALATIONS,id:r.AuditLogCategory.ESCALATIONS},{label:r.AuditLogCategory.KEY_DETAILS,id:r.AuditLogCategory.KEY_DETAILS},{label:r.AuditLogCategory.LEGAL_COUNSEL,id:r.AuditLogCategory.LEGAL_COUNSEL},{label:r.AuditLogCategory.QUESTIONNAIRE,id:r.AuditLogCategory.QUESTIONNAIRE},{label:r.AuditLogCategory.RELATED,id:r.AuditLogCategory.RELATED},{label:r.AuditLogCategory.REQUESTER,id:r.AuditLogCategory.REQUESTER},{label:r.AuditLogCategory.TAGS,id:r.AuditLogCategory.TAGS},{label:r.AuditLogCategory.VIEWER,id:r.AuditLogCategory.VIEWER}],t.AUDIT_LOG_CATEGORY_OPTIONS_FOR_TEMPLATE=[{label:r.AuditLogCategory.ANY,id:r.AuditLogCategory.ANY},{label:r.AuditLogCategory.APPROVAL_ADMIN,id:r.AuditLogCategory.APPROVAL_ADMIN},{label:r.AuditLogCategory.APPROVAL_PLAN,id:r.AuditLogCategory.APPROVAL_PLAN},{label:r.AuditLogCategory.ATTACHMENT,id:r.AuditLogCategory.ATTACHMENT},{label:r.AuditLogCategory.BASIC_DETAILS,id:r.AuditLogCategory.BASIC_DETAILS},{label:r.AuditLogCategory.ESCALATIONS,id:r.AuditLogCategory.ESCALATIONS},{label:r.AuditLogCategory.KEY_DETAILS,id:r.AuditLogCategory.KEY_DETAILS},{label:r.AuditLogCategory.LEGAL_COUNSEL,id:r.AuditLogCategory.LEGAL_COUNSEL},{label:r.AuditLogCategory.QUESTIONNAIRE,id:r.AuditLogCategory.QUESTIONNAIRE},{label:r.AuditLogCategory.RULE,id:r.AuditLogCategory.RULE},{label:r.AuditLogCategory.TAGS,id:r.AuditLogCategory.TAGS},{label:r.AuditLogCategory.TEMPLATE_ADMIN,id:r.AuditLogCategory.TEMPLATE_ADMIN},{label:r.AuditLogCategory.TEMPLATE_OWNER,id:r.AuditLogCategory.TEMPLATE_OWNER},{label:r.AuditLogCategory.TEMPLATE_VIEWER,id:r.AuditLogCategory.TEMPLATE_VIEWER},{label:r.AuditLogCategory.VIEWER,id:r.AuditLogCategory.VIEWER}],t.KEY_DETAILS_TYPE_OPTIONS=[{label:"Simple Text",id:"SIMPLE_TEXT"},{label:"Numeric",id:"NUMERIC"},{label:"Currency",id:"CURRENCY"},{label:"Calendar",id:"CALENDAR"},{label:"Single Dropdown",id:"SINGLE_DROPDOWN"},{label:"Multi Dropdown",id:"MULTI_DROPDOWN"},{label:"Phone Number",id:"PHONE_NUMBER"},{label:"SNS Notification",id:"AWS_NOTIFICATION"},{label:"Unique Identifier",id:"UNIQUE_IDENTIFIER"}],t.PRIORITY_TYPE_OPTIONS=[{label:"None",id:"NONE"},{label:"Low",id:"LOW"},{label:"Medium",id:"MEDIUM"},{label:"High",id:"HIGH"}],t.SYSTEM_USER_PREFIX="SYSTEM_",t.SYSTEM_ADMIN="SYSTEM_ADMIN",t.SYSTEM_0_ADMIN="SYSTEM_0_ADMIN",t.CUSTOM_REPORTS_CONSTANTS={DATE_FORMAT:"MM-DD-YYYY HH:mm:ss",DATE_FORMAT_NO_SEC:"MM/DD/YYYY hh:mm a",ROUTE_NAME:"ROUTE_NAME",ALL_ACTOR_ALIAS:"ALL_ACTOR_ALIAS",APPROVER_ACTION:"APPROVER_ACTION",ALL_ACTOR:"ALL_ACTOR",TEMPLATEID:"TEMPLATEID",ORIGINAL_COSTCENTER:"ORIGINAL_COSTCENTER",REQUESTER:"REQUESTER",REQUESTER_ALIAS:"REQUESTER_ALIAS",STATUS:"STATUS",ENDED_AT:"ENDED_AT",CREATED_AT:"CREATED_AT",STARTED_AT:"STARTED_AT",APPROVAL_TITLE:"APPROVAL_TITLE",APPROVAL_ID:"APPROVAL_ID",EXTERNAL_ID:"EXTERNAL_ID",KEYDETAILS:"KEYDETAILS",DOCUMENTS_EXIST:"DOCUMENTS_EXIST",ROLE:"ROLE",INVALIDATED_AT:"INVALIDATED_AT",INVALIDATED_BY:"INVALIDATED_BY",CANCELLED_AT:"CANCELLED_AT",CANCELLED_BY:"CANCELLED_BY",APPROVAL_NEED_BY:"APPROVAL_NEED_BY",DECISION_NEEDED_ON:"DECISION_NEEDED_ON",DECISION_MADE_ON:"DECISION_MADE_ON",PRIORITY:"PRIORITY",TAGS:"TAGS",PRIVACY_TYPE:"PRIVACY_TYPE"},t.ActorType={PRINCIPAL:"PRINCIPAL",ANT_GROUP:"ANT_GROUP",LDAP_GROUP:"LDAP_GROUP",POSIX_GROUP:"POSIX_GROUP",DYNAMIC_ACTOR:"DYNAMIC_ACTOR"};var o=document.getElementById("serviceBasePath");t.SERVICE_ENDPOINTS=null==o?"":o.value,t.API_ROUTES={GET_APPROVAL_REQUEST_BASICS:"/api/approvalrequest/basics",GET_APPROVAL_REQUEST_FULL:"/api/approvalrequest/full",GET_ALL_KEY_DETAILS:"/api/approvalrequest/getallkeydetails",UPDATE_BASICS:"/api/approvalrequest/updatebasics",CREATE_DRAFT:"/api/approvalrequest/createdraft",GET_APPROVAL_PLAN:"/api/approvalrequest/getapprovalplan",SAVE_APPROVAL_PROPERTIES:"/api/approvalrequest/saveapprovalproperties",SAVE_ESCALATION_DETAILS:"/api/approvalrequest/saveEscalationDetails",GET_ALL_VIEWERS:"/api/approvalrequest/getallviewers",GET_ALL_LEGAL_COUNSELS:"/api/approvalrequest/getalllegalcounsels",SAVE_KEY_DETAIL:"/api/approvalrequest/savekeydetail",DELETE_ITEM:"/api/approvalrequest/deleteitem",SAVE_VIEWER:"/api/approvalrequest/saveviewer",SAVE_LEGAL_COUNSEL:"/api/approvalrequest/savelegalcounsel",DELETE_LEGAL_COUNSEL:"/api/approvalrequest/deletelegalcounsel",SAVE_LEGAL_COUNSEL_TEMPLATE:"/api/templaterequest/savelegalcounsel",DELETE_LEGAL_COUNSEL_TEMPLATE:"/api/templaterequest/deletelegalcounsel",PEOPLE_SEARCH:"/api/people/search",GROUP_SEARCH:"/api/group/search",ACTOR_SEARCH:"/api/actor/search",GROUP_MEMBERS:"/api/group/members",SUBMIT_APPROVAL:"/api/approvalrequest/submitapproval",SET_FINAL_APPROVER:"/api/approvalrequest/setfinalapprover",GET_BETA_TESTING_UPDATES:"/api/common/BetaTestingUpdatesContent",IS_LEGAL_COUNSEL:"/api/User/isLegalCounsel",PROXY:"/api/proxy",SAVE_APPROVAL_PLAN:"/api/approvalrequest/saveapprovalplan",GET_HISTORY:"/api/approvalrequest/history",PUBLISH_METRICS:"/api/approvalrequest/publishmetrics",GET_PERMISSION_BASED_SECTION:"/api/approvalrequest/getPermissionBasedSection",SAVE_PERMISSION_BASED_SECTION:"/api/approvalrequest/createUpdatePermissionBasedSection",CLONE_TEMPLATE:"/api/proxy",CREATE_AND_START_APPROVAL_FROM_TEMPLATE:"/api/approvalrequest/createAndStartApprovalFromTemplate",CREATE_APPROVAL_FROM_TEMPLATE:"/api/approvalrequest/createApprovalFromTemplate",ADD_APPROVAL_ADMIN:"/api/approvalrequest/createadmin",DELETE_APPROVAL_ADMIN:"/api/approvalrequest/deleteadmin",GET_APPROVAL_ADMINS:"/api/approvalrequest/getalladmins",ADD_TEMPLATE_APPROVAL_ADMIN:"/api/templaterequest/createapprovaladmin",DELETE_TEMPLATE_APPROVAL_ADMIN:"/api/templaterequest/deleteapprovaladmin",GET_ACTORS_BY_ROLE:"/api/role/getactorsbyrole",REMOVE_ACTOR_FROM_ROLE:"/api/role/removeactorfromrole",ADD_ACTOR_TO_ROLE:"/api/role/addactortorole",GET_TEMPLATE_APPROVAL_ADMINS:"/api/templaterequest/getallapprovaladmins",GET_TEMPLATE_ATTACHMENTS:"/api/template/attachment"},t.service={post:i.default.post,get:i.default.get,baseUrl:t.SERVICE_ENDPOINTS,API_ROUTES:t.API_ROUTES},t.ATTRIBUTE_TYPE={SIMPLE_TEXT:"SIMPLE_TEXT",NUMERIC:"NUMERIC",CURRENCY:"CURRENCY",CALENDAR:"CALENDAR",SINGLE_DROPDOWN:"SINGLE_DROPDOWN",MULTI_DROPDOWN:"MULTI_DROPDOWN",PHONE_NUMBER:"PHONE_NUMBER",UNIQUE_IDENTIFIER:"UNIQUE_IDENTIFIER"},t.ATTRIBUTE_TYPE_OPTIONS=[{label:"Simple Text",id:"SIMPLE_TEXT"},{label:"Numeric",id:"NUMERIC"},{label:"Currency",id:"CURRENCY"},{label:"Calendar",id:"CALENDAR"},{label:"Single Dropdown",id:"SINGLE_DROPDOWN"},{label:"Multi Dropdown",id:"MULTI_DROPDOWN"},{label:"Phone Number",id:"PHONE_NUMBER"},{label:"Unique Identifier",id:"UNIQUE_IDENTIFIER"}],t.ATTRIBUTE_PARAMETER_CURRENCY=[{label:"USD",id:"CURRENCY_USD"},{label:"EUR",id:"CURRENCY_EUR"},{label:"JPY",id:"CURRENCY_JPY"},{label:"GBP",id:"CURRENCY_GBP"},{label:"AED",id:"CURRENCY_AED"},{label:"AUD",id:"CURRENCY_AUD"},{label:"CAD",id:"CURRENCY_CAD"},{label:"CHF",id:"CURRENCY_CHF"},{label:"CNY",id:"CURRENCY_CNY"},{label:"SEK",id:"CURRENCY_SEK"},{label:"MXN",id:"CURRENCY_MXN"},{label:"NZD",id:"CURRENCY_NZD"},{label:"SGD",id:"CURRENCY_SGD"},{label:"HKD",id:"CURRENCY_HKD"},{label:"NOK",id:"CURRENCY_NOK"},{label:"KRW",id:"CURRENCY_KRW"},{label:"TRY",id:"CURRENCY_TRY"},{label:"INR",id:"CURRENCY_INR"},{label:"RUB",id:"CURRENCY_RUB"},{label:"BRL",id:"CURRENCY_BRL"},{label:"ZAR",id:"CURRENCY_ZAR"},{label:"ALL",id:"CURRENCY_ALL"},{label:"AMD",id:"CURRENCY_AMD"},{label:"ARS",id:"CURRENCY_ARS"},{label:"BHD",id:"CURRENCY_BHD"},{label:"BDT",id:"CURRENCY_BDT"},{label:"BGN",id:"CURRENCY_BGN"},{label:"KHR",id:"CURRENCY_KHR"},{label:"CLP",id:"CURRENCY_CLP"},{label:"COP",id:"CURRENCY_COP"},{label:"CRC",id:"CURRENCY_CRC"},{label:"CZK",id:"CURRENCY_CZK"},{label:"DKK",id:"CURRENCY_DKK"},{label:"EGP",id:"CURRENCY_EGP"},{label:"FJD",id:"CURRENCY_FJD"},{label:"GHS",id:"CURRENCY_GHS"},{label:"HUF",id:"CURRENCY_HUF"},{label:"ISK",id:"CURRENCY_ISK"},{label:"IDR",id:"CURRENCY_IDR"},{label:"ILS",id:"CURRENCY_ILS"},{label:"JOD",id:"CURRENCY_JOD"},{label:"KES",id:"CURRENCY_KES"},{label:"KWD",id:"CURRENCY_KWD"},{label:"LVL",id:"CURRENCY_LVL"},{label:"LBP",id:"CURRENCY_LBP"},{label:"MYR",id:"CURRENCY_MYR"},{label:"MAD",id:"CURRENCY_MAD"},{label:"TWD",id:"CURRENCY_TWD"},{label:"NGN",id:"CURRENCY_NGN"},{label:"OMR",id:"CURRENCY_OMR"},{label:"PKR",id:"CURRENCY_PKR"},{label:"PEN",id:"CURRENCY_PEN"},{label:"PHP",id:"CURRENCY_PHP"},{label:"PLN",id:"CURRENCY_PLN"},{label:"QAR",id:"CURRENCY_QAR"},{label:"RON",id:"CURRENCY_RON"},{label:"SAR",id:"CURRENCY_SAR"},{label:"RSD",id:"CURRENCY_RSD"},{label:"SKK",id:"CURRENCY_SKK"},{label:"LKR",id:"CURRENCY_LKR"},{label:"THB",id:"CURRENCY_THB"},{label:"UAH",id:"CURRENCY_UAH"},{label:"VND",id:"CURRENCY_VND"}],t.ATTRIBUTE_PARAMETER_PHONE_COUNTRY_CODE=[{label:" +93",description:"Afghanistan (â€«Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†â€¬â€Ž)",id:"PHONE_AF_COUNTRY_CODE"},{label:" +355",description:"Albania (ShqipÃ«ri)",id:"PHONE_AL_COUNTRY_CODE"},{label:" +213",description:"Algeria (â€«Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±â€¬â€Ž)",id:"PHONE_DZ_COUNTRY_CODE"},{label:" +1684",description:"American Samoa",id:"PHONE_AS_COUNTRY_CODE"},{label:" +376",description:"Andorra",id:"PHONE_AD_COUNTRY_CODE"},{label:" +244",description:"Angola",id:"PHONE_AO_COUNTRY_CODE"},{label:" +1264",description:"Anguilla",id:"PHONE_AI_COUNTRY_CODE"},{label:" +1268",description:"Antigua and Barbuda",id:"PHONE_AG_COUNTRY_CODE"},{label:" +54",description:"Argentina",id:"PHONE_AR_COUNTRY_CODE"},{label:" +374",description:"Armenia (Õ€Õ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)",id:"PHONE_AM_COUNTRY_CODE"},{label:" +297",description:"Aruba",id:"PHONE_AW_COUNTRY_CODE"},{label:" +61",description:"Australia",id:"PHONE_AU_COUNTRY_CODE"},{label:" +43",description:"Austria (Ã–sterreich)",id:"PHONE_AT_COUNTRY_CODE"},{label:" +994",description:"Azerbaijan (AzÉ™rbaycan)",id:"PHONE_AZ_COUNTRY_CODE"},{label:" +1242",description:"Bahamas",id:"PHONE_BS_COUNTRY_CODE"},{label:" +973",description:"Bahrain (â€«Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†â€¬â€Ž)",id:"PHONE_BH_COUNTRY_CODE"},{label:" +880",description:"Bangladesh (à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶)",id:"PHONE_BD_COUNTRY_CODE"},{label:" +1246",description:"Barbados",id:"PHONE_BB_COUNTRY_CODE"},{label:" +375",description:"Belarus (Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÑŒ)",id:"PHONE_BY_COUNTRY_CODE"},{label:" +32",description:"Belgium (BelgiÃ«)",id:"PHONE_BE_COUNTRY_CODE"},{label:" +501",description:"Belize",id:"PHONE_BZ_COUNTRY_CODE"},{label:" +229",description:"Benin (BÃ©nin)",id:"PHONE_BJ_COUNTRY_CODE"},{label:" +1441",description:"Bermuda",id:"PHONE_BM_COUNTRY_CODE"},{label:" +975",description:"Bhutan (à½ à½–à¾²à½´à½‚)",id:"PHONE_BT_COUNTRY_CODE"},{label:" +591",description:"Bolivia",id:"PHONE_BO_COUNTRY_CODE"},{label:" +387",description:"Bosnia and Herzegovina (Ð‘Ð¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑ€Ñ†ÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)",id:"PHONE_BA_COUNTRY_CODE"},{label:" +267",description:"Botswana",id:"PHONE_BW_COUNTRY_CODE"},{label:" +55",description:"Brazil (Brasil)",id:"PHONE_BR_COUNTRY_CODE"},{label:" +246",description:"British Indian Ocean Territory",id:"PHONE_IO_COUNTRY_CODE"},{label:" +1284",description:"British Virgin Islands",id:"PHONE_VG_COUNTRY_CODE"},{label:" +673",description:"Brunei",id:"PHONE_BN_COUNTRY_CODE"},{label:" +359",description:"Bulgaria (Ð‘ÑŠÐ»Ð³Ð°Ñ€Ð¸Ñ)",id:"PHONE_BG_COUNTRY_CODE"},{label:" +226",description:"Burkina Faso",id:"PHONE_BF_COUNTRY_CODE"},{label:" +257",description:"Burundi (Uburundi)",id:"PHONE_BI_COUNTRY_CODE"},{label:" +855",description:"Cambodia (áž€áž˜áŸ’áž–áž»áž‡áž¶)",id:"PHONE_KH_COUNTRY_CODE"},{label:" +237",description:"Cameroon (Cameroun)",id:"PHONE_CM_COUNTRY_CODE"},{label:" +1",description:"Canada",id:"PHONE_CA_COUNTRY_CODE"},{label:" +238",description:"Cape Verde (Kabu Verdi)",id:"PHONE_CV_COUNTRY_CODE"},{label:" +599",description:"Caribbean Netherlands",id:"PHONE_BQ_COUNTRY_CODE"},{label:" +1345",description:"Cayman Islands",id:"PHONE_KY_COUNTRY_CODE"},{label:" +236",description:"Central African Republic (RÃ©publique centrafricaine)",id:"PHONE_CF_COUNTRY_CODE"},{label:" +235",description:"Chad (Tchad)",id:"PHONE_TD_COUNTRY_CODE"},{label:" +56",description:"Chile",id:"PHONE_CL_COUNTRY_CODE"},{label:" +86",description:"China (ä¸­å›½)",id:"PHONE_CN_COUNTRY_CODE"},{label:" +61",description:"Christmas Island",id:"PHONE_CX_COUNTRY_CODE"},{label:" +61",description:"Cocos (Keeling) Islands",id:"PHONE_CC_COUNTRY_CODE"},{label:" +57",description:"Colombia",id:"PHONE_CO_COUNTRY_CODE"},{label:" +269",description:"Comoros (â€«Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±â€¬â€Ž)",id:"PHONE_KM_COUNTRY_CODE"},{label:" +243",description:"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)",id:"PHONE_CD_COUNTRY_CODE"},{label:" +242",description:"Congo (Republic) (Congo-Brazzaville)",id:"PHONE_CG_COUNTRY_CODE"},{label:" +682",description:"Cook Islands",id:"PHONE_CK_COUNTRY_CODE"},{label:" +506",description:"Costa Rica",id:"PHONE_CR_COUNTRY_CODE"},{label:" +225",description:"CÃ´te dâ€™Ivoire",id:"PHONE_CI_COUNTRY_CODE"},{label:" +385",description:"Croatia (Hrvatska)",id:"PHONE_HR_COUNTRY_CODE"},{label:" +53",description:"Cuba",id:"PHONE_CU_COUNTRY_CODE"},{label:" +599",description:"CuraÃ§ao",id:"PHONE_CW_COUNTRY_CODE"},{label:" +357",description:"Cyprus (ÎšÏÏ€ÏÎ¿Ï‚)",id:"PHONE_CY_COUNTRY_CODE"},{label:" +420",description:"Czech Republic (ÄŒeskÃ¡ republika)",id:"PHONE_CZ_COUNTRY_CODE"},{label:" +45",description:"Denmark (Danmark)",id:"PHONE_DK_COUNTRY_CODE"},{label:" +253",description:"Djibouti",id:"PHONE_DJ_COUNTRY_CODE"},{label:" +1767",description:"Dominica",id:"PHONE_DM_COUNTRY_CODE"},{label:" +1",description:"Dominican Republic (RepÃºblica Dominicana)",id:"PHONE_DO_COUNTRY_CODE"},{label:" +593",description:"Ecuador",id:"PHONE_EC_COUNTRY_CODE"},{label:" +20",description:"Egypt (â€«Ù…ØµØ±â€¬â€Ž)",id:"PHONE_EG_COUNTRY_CODE"},{label:" +503",description:"El Salvador",id:"PHONE_SV_COUNTRY_CODE"},{label:" +240",description:"Equatorial Guinea (Guinea Ecuatorial)",id:"PHONE_GQ_COUNTRY_CODE"},{label:" +291",description:"Eritrea",id:"PHONE_ER_COUNTRY_CODE"},{label:" +372",description:"Estonia (Eesti)",id:"PHONE_EE_COUNTRY_CODE"},{label:" +251",description:"Ethiopia",id:"PHONE_ET_COUNTRY_CODE"},{label:" +500",description:"Falkland Islands (Islas Malvinas)",id:"PHONE_FK_COUNTRY_CODE"},{label:" +298",description:"Faroe Islands (FÃ¸royar)",id:"PHONE_FO_COUNTRY_CODE"},{label:" +679",description:"Fiji",id:"PHONE_FJ_COUNTRY_CODE"},{label:" +358",description:"Finland (Suomi)",id:"PHONE_FI_COUNTRY_CODE"},{label:" +33",description:"France",id:"PHONE_FR_COUNTRY_CODE"},{label:" +594",description:"French Guiana (Guyane franÃ§aise)",id:"PHONE_GF_COUNTRY_CODE"},{label:" +689",description:"French Polynesia (PolynÃ©sie franÃ§aise)",id:"PHONE_PF_COUNTRY_CODE"},{label:" +241",description:"Gabon",id:"PHONE_GA_COUNTRY_CODE"},{label:" +220",description:"Gambia",id:"PHONE_GM_COUNTRY_CODE"},{label:" +995",description:"Georgia (áƒ¡áƒáƒ¥áƒáƒ áƒ—áƒ•áƒ”áƒšáƒ)",id:"PHONE_GE_COUNTRY_CODE"},{label:" +49",description:"Germany (Deutschland)",id:"PHONE_DE_COUNTRY_CODE"},{label:" +233",description:"Ghana (Gaana)",id:"PHONE_GH_COUNTRY_CODE"},{label:" +350",description:"Gibraltar",id:"PHONE_GI_COUNTRY_CODE"},{label:" +30",description:"Greece (Î•Î»Î»Î¬Î´Î±)",id:"PHONE_GR_COUNTRY_CODE"},{label:" +299",description:"Greenland (Kalaallit Nunaat)",id:"PHONE_GL_COUNTRY_CODE"},{label:" +1473",description:"Grenada",id:"PHONE_GD_COUNTRY_CODE"},{label:" +590",description:"Guadeloupe",id:"PHONE_GP_COUNTRY_CODE"},{label:" +1671",description:"Guam",id:"PHONE_GU_COUNTRY_CODE"},{label:" +502",description:"Guatemala",id:"PHONE_GT_COUNTRY_CODE"},{label:" +44",description:"Guernsey",id:"PHONE_GG_COUNTRY_CODE"},{label:" +224",description:"Guinea (GuinÃ©e)",id:"PHONE_GN_COUNTRY_CODE"},{label:" +245",description:"Guinea-Bissau (GuinÃ© Bissau)",id:"PHONE_GW_COUNTRY_CODE"},{label:" +592",description:"Guyana",id:"PHONE_GY_COUNTRY_CODE"},{label:" +509",description:"Haiti",id:"PHONE_HT_COUNTRY_CODE"},{label:" +504",description:"Honduras",id:"PHONE_HN_COUNTRY_CODE"},{label:" +852",description:"Hong Kong (é¦™æ¸¯)",id:"PHONE_HK_COUNTRY_CODE"},{label:" +36",description:"Hungary (MagyarorszÃ¡g)",id:"PHONE_HU_COUNTRY_CODE"},{label:" +354",description:"Iceland (Ãsland)",id:"PHONE_IS_COUNTRY_CODE"},{label:" +91",description:"India (à¤­à¤¾à¤°à¤¤)",id:"PHONE_IN_COUNTRY_CODE"},{label:" +62",description:"Indonesia",id:"PHONE_ID_COUNTRY_CODE"},{label:" +98",description:"Iran (â€«Ø§ÛŒØ±Ø§Ù†â€¬â€Ž)",id:"PHONE_IR_COUNTRY_CODE"},{label:" +964",description:"Iraq (â€«Ø§Ù„Ø¹Ø±Ø§Ù‚â€¬â€Ž)",id:"PHONE_IQ_COUNTRY_CODE"},{label:" +353",description:"Ireland",id:"PHONE_IE_COUNTRY_CODE"},{label:" +44",description:"Isle of Man",id:"PHONE_IM_COUNTRY_CODE"},{label:" +972",description:"Israel (â€«×™×©×¨××œâ€¬â€Ž)",id:"PHONE_IL_COUNTRY_CODE"},{label:" +39",description:"Italy (Italia)",id:"PHONE_IT_COUNTRY_CODE"},{label:" +1876",description:"Jamaica",id:"PHONE_JM_COUNTRY_CODE"},{label:" +81",description:"Japan (æ—¥æœ¬)",id:"PHONE_JP_COUNTRY_CODE"},{label:" +44",description:"Jersey",id:"PHONE_JE_COUNTRY_CODE"},{label:" +962",description:"Jordan (â€«Ø§Ù„Ø£Ø±Ø¯Ù†â€¬â€Ž)",id:"PHONE_JO_COUNTRY_CODE"},{label:" +7",description:"Kazakhstan (ÐšÐ°Ð·Ð°Ñ…ÑÑ‚Ð°Ð½)",id:"PHONE_KZ_COUNTRY_CODE"},{label:" +254",description:"Kenya",id:"PHONE_KE_COUNTRY_CODE"},{label:" +686",description:"Kiribati",id:"PHONE_KI_COUNTRY_CODE"},{label:" +383",description:"Kosovo",id:"PHONE_XK_COUNTRY_CODE"},{label:" +965",description:"Kuwait (â€«Ø§Ù„ÙƒÙˆÙŠØªâ€¬â€Ž)",id:"PHONE_KW_COUNTRY_CODE"},{label:" +996",description:"Kyrgyzstan (ÐšÑ‹Ñ€Ð³Ñ‹Ð·ÑÑ‚Ð°Ð½)",id:"PHONE_KG_COUNTRY_CODE"},{label:" +856",description:"Laos (àº¥àº²àº§)",id:"PHONE_LA_COUNTRY_CODE"},{label:" +371",description:"Latvia (Latvija)",id:"PHONE_LV_COUNTRY_CODE"},{label:" +961",description:"Lebanon (â€«Ù„Ø¨Ù†Ø§Ù†â€¬â€Ž)",id:"PHONE_LB_COUNTRY_CODE"},{label:" +266",description:"Lesotho",id:"PHONE_LS_COUNTRY_CODE"},{label:" +231",description:"Liberia",id:"PHONE_LR_COUNTRY_CODE"},{label:" +218",description:"Libya (â€«Ù„ÙŠØ¨ÙŠØ§â€¬â€Ž)",id:"PHONE_LY_COUNTRY_CODE"},{label:" +423",description:"Liechtenstein",id:"PHONE_LI_COUNTRY_CODE"},{label:" +370",description:"Lithuania (Lietuva)",id:"PHONE_LT_COUNTRY_CODE"},{label:" +352",description:"Luxembourg",id:"PHONE_LU_COUNTRY_CODE"},{label:" +853",description:"Macau (æ¾³é–€)",id:"PHONE_MO_COUNTRY_CODE"},{label:" +389",description:"Macedonia (FYROM) (ÐœÐ°ÐºÐµÐ´Ð¾Ð½Ð¸Ñ˜Ð°)",id:"PHONE_MK_COUNTRY_CODE"},{label:" +261",description:"Madagascar (Madagasikara)",id:"PHONE_MG_COUNTRY_CODE"},{label:" +265",description:"Malawi",id:"PHONE_MW_COUNTRY_CODE"},{label:" +60",description:"Malaysia",id:"PHONE_MY_COUNTRY_CODE"},{label:" +960",description:"Maldives",id:"PHONE_MV_COUNTRY_CODE"},{label:" +223",description:"Mali",id:"PHONE_ML_COUNTRY_CODE"},{label:" +356",description:"Malta",id:"PHONE_MT_COUNTRY_CODE"},{label:" +692",description:"Marshall Islands",id:"PHONE_MH_COUNTRY_CODE"},{label:" +596",description:"Martinique",id:"PHONE_MQ_COUNTRY_CODE"},{label:" +222",description:"Mauritania (â€«Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§â€¬â€Ž)",id:"PHONE_MR_COUNTRY_CODE"},{label:" +230",description:"Mauritius (Moris)",id:"PHONE_MU_COUNTRY_CODE"},{label:" +262",description:"Mayotte",id:"PHONE_YT_COUNTRY_CODE"},{label:" +52",description:"Mexico (MÃ©xico)",id:"PHONE_MX_COUNTRY_CODE"},{label:" +691",description:"Micronesia",id:"PHONE_FM_COUNTRY_CODE"},{label:" +373",description:"Moldova (Republica Moldova)",id:"PHONE_MD_COUNTRY_CODE"},{label:" +377",description:"Monaco",id:"PHONE_MC_COUNTRY_CODE"},{label:" +976",description:"Mongolia (ÐœÐ¾Ð½Ð³Ð¾Ð»)",id:"PHONE_MN_COUNTRY_CODE"},{label:" +382",description:"Montenegro (Crna Gora)",id:"PHONE_ME_COUNTRY_CODE"},{label:" +1664",description:"Montserrat",id:"PHONE_MS_COUNTRY_CODE"},{label:" +212",description:"Morocco (â€«Ø§Ù„Ù…ØºØ±Ø¨â€¬â€Ž)",id:"PHONE_MA_COUNTRY_CODE"},{label:" +258",description:"Mozambique (MoÃ§ambique)",id:"PHONE_MZ_COUNTRY_CODE"},{label:" +95",description:"Myanmar (Burma) (á€™á€¼á€”á€ºá€™á€¬)",id:"PHONE_MM_COUNTRY_CODE"},{label:" +264",description:"Namibia (NamibiÃ«)",id:"PHONE_NA_COUNTRY_CODE"},{label:" +674",description:"Nauru",id:"PHONE_NR_COUNTRY_CODE"},{label:" +977",description:"Nepal (à¤¨à¥‡à¤ªà¤¾à¤²)",id:"PHONE_NP_COUNTRY_CODE"},{label:" +31",description:"Netherlands (Nederland)",id:"PHONE_NL_COUNTRY_CODE"},{label:" +687",description:"New Caledonia (Nouvelle-CalÃ©donie)",id:"PHONE_NC_COUNTRY_CODE"},{label:" +64",description:"New Zealand",id:"PHONE_NZ_COUNTRY_CODE"},{label:" +505",description:"Nicaragua",id:"PHONE_NI_COUNTRY_CODE"},{label:" +227",description:"Niger (Nijar)",id:"PHONE_NE_COUNTRY_CODE"},{label:" +234",description:"Nigeria",id:"PHONE_NG_COUNTRY_CODE"},{label:" +683",description:"Niue",id:"PHONE_NU_COUNTRY_CODE"},{label:" +672",description:"Norfolk Island",id:"PHONE_NF_COUNTRY_CODE"},{label:" +850",description:"North Korea (ì¡°ì„  ë¯¼ì£¼ì£¼ì˜ ì¸ë¯¼ ê³µí™”êµ­)",id:"PHONE_KP_COUNTRY_CODE"},{label:" +1670",description:"Northern Mariana Islands",id:"PHONE_MP_COUNTRY_CODE"},{label:" +47",description:"Norway (Norge)",id:"PHONE_NO_COUNTRY_CODE"},{label:" +968",description:"Oman (â€«Ø¹ÙÙ…Ø§Ù†â€¬â€Ž)",id:"PHONE_OM_COUNTRY_CODE"},{label:" +92",description:"Pakistan (â€«Ù¾Ø§Ú©Ø³ØªØ§Ù†â€¬â€Ž)",id:"PHONE_PK_COUNTRY_CODE"},{label:" +680",description:"Palau",id:"PHONE_PW_COUNTRY_CODE"},{label:" +970",description:"Palestine (â€«ÙÙ„Ø³Ø·ÙŠÙ†â€¬â€Ž)",id:"PHONE_PS_COUNTRY_CODE"},{label:" +507",description:"Panama (PanamÃ¡)",id:"PHONE_PA_COUNTRY_CODE"},{label:" +675",description:"Papua New Guinea",id:"PHONE_PG_COUNTRY_CODE"},{label:" +595",description:"Paraguay",id:"PHONE_PY_COUNTRY_CODE"},{label:" +51",description:"Peru (PerÃº)",id:"PHONE_PE_COUNTRY_CODE"},{label:" +63",description:"Philippines",id:"PHONE_PH_COUNTRY_CODE"},{label:" +48",description:"Poland (Polska)",id:"PHONE_PL_COUNTRY_CODE"},{label:" +351",description:"Portugal",id:"PHONE_PT_COUNTRY_CODE"},{label:" +1",description:"Puerto Rico",id:"PHONE_PR_COUNTRY_CODE"},{label:" +974",description:"Qatar (â€«Ù‚Ø·Ø±â€¬â€Ž)",id:"PHONE_QA_COUNTRY_CODE"},{label:" +262",description:"RÃ©union (La RÃ©union)",id:"PHONE_RE_COUNTRY_CODE"},{label:" +40",description:"Romania (RomÃ¢nia)",id:"PHONE_RO_COUNTRY_CODE"},{label:" +7",description:"Russia (Ð Ð¾ÑÑÐ¸Ñ)",id:"PHONE_RU_COUNTRY_CODE"},{label:" +250",description:"Rwanda",id:"PHONE_RW_COUNTRY_CODE"},{label:" +590",description:"Saint BarthÃ©lemy (Saint-BarthÃ©lemy)",id:"PHONE_BL_COUNTRY_CODE"},{label:" +290",description:"Saint Helena",id:"PHONE_SH_COUNTRY_CODE"},{label:" +1869",description:"Saint Kitts and Nevis",id:"PHONE_KN_COUNTRY_CODE"},{label:" +1758",description:"Saint Lucia",id:"PHONE_LC_COUNTRY_CODE"},{label:" +590",description:"Saint Martin (Saint-Martin (partie franÃ§aise))",id:"PHONE_MF_COUNTRY_CODE"},{label:" +508",description:"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)",id:"PHONE_PM_COUNTRY_CODE"},{label:" +1784",description:"Saint Vincent and the Grenadines",id:"PHONE_VC_COUNTRY_CODE"},{label:" +685",description:"Samoa",id:"PHONE_WS_COUNTRY_CODE"},{label:" +378",description:"San Marino",id:"PHONE_SM_COUNTRY_CODE"},{label:" +239",description:"SÃ£o TomÃ© and PrÃ­ncipe (SÃ£o TomÃ© e PrÃ­ncipe)",id:"PHONE_ST_COUNTRY_CODE"},{label:" +966",description:"Saudi Arabia (â€«Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©â€¬â€Ž)",id:"PHONE_SA_COUNTRY_CODE"},{label:" +221",description:"Senegal (SÃ©nÃ©gal)",id:"PHONE_SN_COUNTRY_CODE"},{label:" +381",description:"Serbia (Ð¡Ñ€Ð±Ð¸Ñ˜Ð°)",id:"PHONE_RS_COUNTRY_CODE"},{label:" +248",description:"Seychelles",id:"PHONE_SC_COUNTRY_CODE"},{label:" +232",description:"Sierra Leone",id:"PHONE_SL_COUNTRY_CODE"},{label:" +65",description:"Singapore",id:"PHONE_SG_COUNTRY_CODE"},{label:" +1721",description:"Sint Maarten",id:"PHONE_SX_COUNTRY_CODE"},{label:" +421",description:"Slovakia (Slovensko)",id:"PHONE_SK_COUNTRY_CODE"},{label:" +386",description:"Slovenia (Slovenija)",id:"PHONE_SI_COUNTRY_CODE"},{label:" +677",description:"Solomon Islands",id:"PHONE_SB_COUNTRY_CODE"},{label:" +252",description:"Somalia (Soomaaliya)",id:"PHONE_SO_COUNTRY_CODE"},{label:" +27",description:"South Africa",id:"PHONE_ZA_COUNTRY_CODE"},{label:" +82",description:"South Korea (ëŒ€í•œë¯¼êµ­)",id:"PHONE_KR_COUNTRY_CODE"},{label:" +211",description:"South Sudan (â€«Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†â€¬â€Ž)",id:"PHONE_SS_COUNTRY_CODE"},{label:" +34",description:"Spain (EspaÃ±a)",id:"PHONE_ES_COUNTRY_CODE"},{label:" +94",description:"Sri Lanka (à·à·Šâ€à¶»à·“ à¶½à¶‚à¶šà·à·€)",id:"PHONE_LK_COUNTRY_CODE"},{label:" +249",description:"Sudan (â€«Ø§Ù„Ø³ÙˆØ¯Ø§Ù†â€¬â€Ž)",id:"PHONE_SD_COUNTRY_CODE"},{label:" +597",description:"Suriname",id:"PHONE_SR_COUNTRY_CODE"},{label:" +47",description:"Svalbard and Jan Mayen",id:"PHONE_SJ_COUNTRY_CODE"},{label:" +268",description:"Swaziland",id:"PHONE_SZ_COUNTRY_CODE"},{label:" +46",description:"Sweden (Sverige)",id:"PHONE_SE_COUNTRY_CODE"},{label:" +41",description:"Switzerland (Schweiz)",id:"PHONE_CH_COUNTRY_CODE"},{label:" +963",description:"Syria (â€«Ø³ÙˆØ±ÙŠØ§â€¬â€Ž)",id:"PHONE_SY_COUNTRY_CODE"},{label:" +886",description:"Taiwan (å°ç£)",id:"PHONE_TW_COUNTRY_CODE"},{label:" +992",description:"Tajikistan",id:"PHONE_TJ_COUNTRY_CODE"},{label:" +255",description:"Tanzania",id:"PHONE_TZ_COUNTRY_CODE"},{label:" +66",description:"Thailand (à¹„à¸—à¸¢)",id:"PHONE_TH_COUNTRY_CODE"},{label:" +670",description:"Timor-Leste",id:"PHONE_TL_COUNTRY_CODE"},{label:" +228",description:"Togo",id:"PHONE_TG_COUNTRY_CODE"},{label:" +690",description:"Tokelau",id:"PHONE_TK_COUNTRY_CODE"},{label:" +676",description:"Tonga",id:"PHONE_TO_COUNTRY_CODE"},{label:" +1868",description:"Trinidad and Tobago",id:"PHONE_TT_COUNTRY_CODE"},{label:" +216",description:"Tunisia (â€«ØªÙˆÙ†Ø³â€¬â€Ž)",id:"PHONE_TN_COUNTRY_CODE"},{label:" +90",description:"Turkey (TÃ¼rkiye)",id:"PHONE_TR_COUNTRY_CODE"},{label:" +993",description:"Turkmenistan",id:"PHONE_TM_COUNTRY_CODE"},{label:" +1649",description:"Turks and Caicos Islands",id:"PHONE_TC_COUNTRY_CODE"},{label:" +688",description:"Tuvalu",id:"PHONE_TV_COUNTRY_CODE"},{label:" +1340",description:"U.S. Virgin Islands",id:"PHONE_VI_COUNTRY_CODE"},{label:" +256",description:"Uganda",id:"PHONE_UG_COUNTRY_CODE"},{label:" +380",description:"Ukraine (Ð£ÐºÑ€Ð°Ñ—Ð½Ð°)",id:"PHONE_UA_COUNTRY_CODE"},{label:" +971",description:"United Arab Emirates (â€«Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©â€¬â€Ž)",id:"PHONE_AE_COUNTRY_CODE"},{label:" +44",description:"United Kingdom",id:"PHONE_GB_COUNTRY_CODE"},{label:" +1",description:"United States",id:"PHONE_US_COUNTRY_CODE"},{label:" +598",description:"Uruguay",id:"PHONE_UY_COUNTRY_CODE"},{label:" +998",description:"Uzbekistan (OÊ»zbekiston)",id:"PHONE_UZ_COUNTRY_CODE"},{label:" +678",description:"Vanuatu",id:"PHONE_VU_COUNTRY_CODE"},{label:" +39",description:"Vatican City (CittÃ  del Vaticano)",id:"PHONE_VA_COUNTRY_CODE"},{label:" +58",description:"Venezuela",id:"PHONE_VE_COUNTRY_CODE"},{label:" +84",description:"Vietnam (Viá»‡t Nam)",id:"PHONE_VN_COUNTRY_CODE"},{label:" +681",description:"Wallis and Futuna",id:"PHONE_WF_COUNTRY_CODE"},{label:" +212",description:"Western Sahara (â€«Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ø§Ù„ØºØ±Ø¨ÙŠØ©â€¬â€Ž)",id:"PHONE_EH_COUNTRY_CODE"},{label:" +967",description:"Yemen (â€«Ø§Ù„ÙŠÙ…Ù†â€¬â€Ž)",id:"PHONE_YE_COUNTRY_CODE"},{label:" +260",description:"Zambia",id:"PHONE_ZM_COUNTRY_CODE"},{label:" +263",description:"Zimbabwe",id:"PHONE_ZW_COUNTRY_CODE"},{label:" +358",description:"Ã…land Islands",id:"PHONE_AX_COUNTRY_CODE"}],t.KEY_DETAILS_TYPE={SIMPLE_TEXT:"SIMPLE_TEXT",NUMERIC:"NUMERIC",CURRENCY:"CURRENCY",CALENDAR:"CALENDAR",SINGLE_DROPDOWN:"SINGLE_DROPDOWN",MULTI_DROPDOWN:"MULTI_DROPDOWN",PHONE_NUMBER:"PHONE_NUMBER",SNS_NOTIFICATION:"AWS_NOTIFICATION",UNIQUE_IDENTIFIER:"UNIQUE_IDENTIFIER"},t.APPROVAL_CONTAINER_ITEM_TYPE={ROUTE:0,ACTOR:1,KEY_DETAIL:2,DOCUMENT:3},t.ACTOR_ROLE={REQUESTOR:"1",APPROVER:"2",LEGAL_COUNSEL:"3",VIEWER:"4"},t.KEY_DETAILS_TYPE_OPTIONS_CURRENCY=[,{label:"USD",id:"CURRENCY_USD"},{label:"EUR",id:"CURRENCY_EUR"},{label:"JPY",id:"CURRENCY_JPY"},{label:"GBP",id:"CURRENCY_GBP"},{label:"AED",id:"CURRENCY_AED"},{label:"AUD",id:"CURRENCY_AUD"},{label:"CAD",id:"CURRENCY_CAD"},{label:"CHF",id:"CURRENCY_CHF"},{label:"CNY",id:"CURRENCY_CNY"},{label:"SEK",id:"CURRENCY_SEK"},{label:"MXN",id:"CURRENCY_MXN"},{label:"NZD",id:"CURRENCY_NZD"},{label:"SGD",id:"CURRENCY_SGD"},{label:"HKD",id:"CURRENCY_HKD"},{label:"NOK",id:"CURRENCY_NOK"},{label:"KRW",id:"CURRENCY_KRW"},{label:"TRY",id:"CURRENCY_TRY"},{label:"INR",id:"CURRENCY_INR"},{label:"RUB",id:"CURRENCY_RUB"},{label:"BRL",id:"CURRENCY_BRL"},{label:"ZAR",id:"CURRENCY_ZAR"}],t.DEFAULT_SNS_NOTIFICATION_KEY_TERM_NAME="SNS Topic Name",t.DEFAULT_UNIQUE_IDENTIFIER_KEY_TERM_NAME="Unique Identifier",t.ERROR_MESSAGE="Something went wrong, please try again.",t.RADIO_BUTTON_YES_NO_ITEMS_DISABLED=[{value:"YES",label:"Yes",disabled:!0},{value:"NO",label:"No",disabled:!0}],t.RADIO_BUTTON_YES_NO_ITEMS=[{value:"YES",label:"Yes"},{value:"NO",label:"No"}],t.RADIO_BUTTON_RECOMMEND_ITEMS_DISABLED=[{value:"1",label:"Last Approver in every lane",disabled:!0},{value:"2",label:"Last approver overall",disabled:!0}],t.RADIO_BUTTON_RECOMMEND_ITEMS=[{value:"1",label:"Last Approver in every lane",disabled:!1},{value:"2",label:"Last approver overall",disabled:!1}],t.GOOD_HOURS=168,t.OK_HOURS=336,t.SEARCH_INDEX_LATENCY=1e3,t.APPROVAL_DETAILS_UI_SECTIONS={BASIC_DETAILS:"BASIC_DETAILS",KEY_DETAILS:"KEY_DETAILS"},t.VIEWER_PERMISSIONS={NO_EMAIL:"NO_EMAIL"},t.DELIMITER="~~~",t.CLIENT_METRICS_METHOD_NAMES={HOMEPAGE:"HomePage",CREATE_APPROVAL:"CreateApproval",CREATE_TEMPLATE:"CreateTemplate",EDIT_APPROVAL:"EditApproval",EDIT_TEMPLATES:"EditTemplates",SEARCH_APPROVALS:"SearchApprovals",SEARCH_TEMPLATES:"SearchTemplates",APPROVAL_DETAILS:"ApprovalDetails",TEMPLATE_DETAILS:"TemplateDetails",USER_PREFERENCES:"UserPreferences",DELEGATION_SETTINGS:"DelegationSettings",TRANSFER_SETTINGS:"TransferSettings",QUICK_LINKS_SETTINGS:"QuickLinksSettings",MOBILE_APP_PAGE:"MobileAppPage",FAVORITE_TEMPLATES:"favoriteTemplates",GENERIC_EXPORTS:"genericExports"},t.BETA_HOSTNAME="approvaldev.amazon.com",t.GAMMA_HOSTNAME="approvalstage.amazon.com",t.PROD_HOSTNAME="approvals.amazon.com",t.DEFAULT_APPROVAL_NEEDED_BY_DAYS=1,t.TOUR_STEPS=[{target:".announcements",content:"See new feature launches, system updates, and general news from the Approvals team.",disableBeacon:!0},{target:".my-approvals-main",content:n.createElement("dl",{className:"tourContent"},n.createElement("dt",null,"Overdue:"),n.createElement("dd",null,"Approvals currently pending your decision and has past the need by date."),n.createElement("dt",null,"Pending:"),n.createElement("dd",null,"Approvals that are currently pending your decision."),n.createElement("dt",null,"Future:"),n.createElement("dd",null,"Approval requests that will require your decision in the future.")),disableBeacon:!0},{target:".my-approvals",content:n.createElement("dl",{className:"tourContent"},n.createElement("dt",null,"Requests:"),n.createElement("dd",null,"Approvals requested by you."),n.createElement("dt",null,"Shared:"),n.createElement("dd",null,"Approvals where you are the viewer or Legal Counsel."),n.createElement("dt",null,"Previous:"),n.createElement("dd",null,"Approvals you previously made a decision on. "),n.createElement("dt",null,"All:"),n.createElement("dd",null,"All approvals you have access to."))},{target:".pending-approvals",content:"See your five most recent approvals that need your decision."},{target:".notification-feed",content:"See the latest updates on all of your approvals. Use the filter button to configure your notifications."}],t.TOUR_STEPS_APPROVAL_PLAN=[{target:".approval-plan-header",content:n.createElement("p",null,"Click the  ",n.createElement("i",{className:"fa fa-pencil fa-lg"})," to edit the approval plan."),disableBeacon:!0,placement:"right-start"},{target:".userTileCards",content:"Search for people using alias, name, level, etc. You can also search for ANT, LDAP, and POSIX groups.",disableBeacon:!0,placement:"top"},{target:".searchResultContainer",content:'Click "Add" or drag the tile to add Sushant to the approval plan.',disableBeacon:!0,placement:"right-end"},{target:".addedApprover",content:"Sushant has been added to the approver plan!",disableBeacon:!0,placement:"right"},{target:".approvalLane",content:'Click "Move" to move Sushant to a different group. Groups on the same level are executed in parallel. Groups on different levels are executed sequentially.',disableBeacon:!0},{target:".approvalLane",content:n.createElement("p",null,"You can do this step for as many approvers as you want. For more information on how to design your approval plan check our ",n.createElement("a",{href:"https://w.amazon.com/bin/view/AmazonApprovals/CreateApproval/#HApprovalPlan",target:"_blank"},"wiki"),"."),disableBeacon:!0,placement:"top"},{target:".approval-plan-header",content:n.createElement("div",null,n.createElement("p",null,"Don't forget to click ",n.createElement("i",{className:"fa fa-check fa-lg"})," to save the approval plan! "),n.createElement("p",null,"Click ",n.createElement("i",{className:"fa fa-times fa-lg"})," to delete your changes. ")),disableBeacon:!0,placement:"right-start"}],t.TEMPLATE_CSV_COLUMNS={TEMPLATE_ID:"Template ID",APPROVAL_TITLE:"Approval Title",NEEDED_ON_DATE:"Needed On date: mm/dd/yyyy",PRIORITY:"Priority",SUMMARY:"Summary",STATUS:"Status (Pending/Draft)",TRANSACTION_VALUE:"This is a request to approve a transaction with committed revenue or spend over $100 million in value. (Yes/No)",LOCKED_APPROVERS:"The approval plan on this request is locked for approvers. (Yes/No)",REQUESTER_APPROVE:"The requester is blocked from approving this approval. (Yes/No)",ESCALATIONS:"Escalation emails are enabled for this approval. (This is set by the Requestor, and cannot be changed once the Approval has Started) (Yes/No)",ESCALATION_PERIOD:"Escalation Period in Days (required if escalations are enabled)"}},608:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotEmpty=function(e){return e&&e.trim().length>0}},609:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(4),o=a(141),s=a(101),l=function(e){function SummaryStepComponent(t){var a=e.call(this,t)||this;return a.state=Object.assign({},t.info),a}return r(SummaryStepComponent,e),SummaryStepComponent.prototype.getInfo=function(e){e(this.state,!0)},SummaryStepComponent.prototype.getDisplayTextFromRuleFilter=function(e){var t=this;if(null==e)return"";var a=e.children.map(function(e,a){return n.createElement("span",null,"Key detail ",t.getAttributeName(s.getSelectedAttributeId(e))," ",n.createElement("b",null,i.RelationalOperatorDisplayText[s.getSelectedOperator(e,"-VALUE")])," ",null!=e.condition&&e.children.length>0?n.createElement("span",null,n.createElement("span",{className:"awsui-util-mr-xs"}," ",e.children[0].right.replace("CURRENCY_","").replace("PHONE_","")),n.createElement("span",null,e.children[1].right," ")):o.getDisplayTextFromValue(e.right,t.getAttributeType(e.left)),n.createElement("br",null))});if(null!=e&&null!=e.condition){if(e.condition==i.LogicalOperator.AND)return n.createElement("span",null," ",n.createElement("b",null," ALL")," of below is true",n.createElement("br",null),a);if(e.condition==i.LogicalOperator.OR)return n.createElement("span",null," ",n.createElement("b",null," ANY")," of below is true",n.createElement("br",null),a)}},SummaryStepComponent.prototype.getAttributeName=function(e){for(var t=0;t<this.state.attributeList.length;t++)if(this.state.attributeList[t].id==e)return this.state.attributeList[t].name;return n.createElement("span",null,"Unable to find attribute with id ",e," ")},SummaryStepComponent.prototype.getAttributeType=function(e){for(var t=0;t<this.state.attributeList.length;t++)if(this.state.attributeList[t].id==e)return this.state.attributeList[t].type},SummaryStepComponent.prototype.render=function(){var e=[];for(var t in this.state.rule._checkedApprovers){var a=this.state.rule._checkedApprovers[t].data,r=this.state.rule._checkedApprovers[t].state;e.push(n.createElement("div",null,n.createElement("span",{key:t},n.createElement("b",null,i.ActionParameterTargetStateDisplayText[r]),null!=a.approver?n.createElement("span",null," Approver ",n.createElement("b",null,a.approver.name)," in "):"",null!=a.route?n.createElement("span",null," Group ",n.createElement("b",null,a.route.name)," in "):"",null!=a.level?n.createElement("span",null," Level ",n.createElement("b",null,a.level.name)):""),n.createElement("div",{className:"awsui-util-clearfix"})))}var o=[];for(var t in this.state.rule._checkedViewers){var a=this.state.rule._checkedViewers[t].data,r=this.state.rule._checkedViewers[t].state;o.push(n.createElement("div",null,n.createElement("span",{key:t},n.createElement("b",null,i.ActionParameterTargetStateDisplayText[r]),n.createElement("span",null," Viewer ",n.createElement("b",null,a.name)," ")),n.createElement("div",{className:"awsui-util-clearfix"})))}return n.createElement("div",null,n.createElement("h4",null,this.state.name),n.createElement("span",null,"Execution order: ",n.createElement("b",null,""==this.state.rule.order?n.createElement("i",null,"-"):this.state.rule.order)),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),n.createElement("i",null,n.createElement("b",null,"WHEN")),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),this.getDisplayTextFromRuleFilter(JSON.parse(this.state.rule.filter)),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),n.createElement("i",null,n.createElement("b",null,"THEN")),n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-m"}),n.createElement("div",{className:"awsui-util-clearfix"}),e,n.createElement("div",{className:"awsui-util-clearfix"}),o,this.state.actionDisplay,n.createElement("div",{className:"awsui-util-clearfix awsui-util-mb-l"}))},SummaryStepComponent}(n.Component);t.default=l},61:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APPROVAL_PLAN_CHANGE="APPROVAL_PLAN_CHANGE",t.BASIC_DETAILS_CHANGE="BASIC_DETAILS_CHANGE",t.LEGAL_COUNSEL_CHANGE="LEGAL_COUNSEL_CHANGE",t.FINAL_APPROVER_CHANGE="FINAL_APPROVER_CHANGE",t.APPROVAL_CREATED="APPROVAL_CREATED",t.SAVE_APPROVAL_PLAN_COMMAND="SAVE_APPROVAL_PLAN_COMMAND",t.CARD_CONTEXT_VISIBILITY_COMMAND="CARD_CONTEXT_VISIBILITY_COMMAND",t.MOVE_ACTOR_COMMAND="MOVE_ACTOR_COMMAND",t.RESET_STATE_COMMAND="RESET_STATE_COMMAND",t.resetState=function(e){return{type:t.RESET_STATE_COMMAND}},t.approvalPlanChange=function(e){return{type:t.APPROVAL_PLAN_CHANGE,payload:e.routesByLevel,version:e.approvalPlanVersion}},t.basicDetailsChange=function(e){return{type:t.BASIC_DETAILS_CHANGE,payload:e.basicDetails,version:e.approvalRequestVersion}},t.legalCounselChange=function(e){return{type:t.LEGAL_COUNSEL_CHANGE,payload:e.legalCounsel}},t.approvalCreated=function(e){return{type:t.APPROVAL_CREATED,payload:e.approvalRequestId}},t.finalApproverChange=function(e){return{type:t.FINAL_APPROVER_CHANGE,payload:e.finalApprover}},t.saveApprovalPlanCommand=function(e){return{type:t.SAVE_APPROVAL_PLAN_COMMAND,payload:e.shouldSave,version:e.approvalPlanVersion}},t.moveActorCommand=function(e){return{type:t.MOVE_ACTOR_COMMAND,payload:e.payload}}},610:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},i=this;Object.defineProperty(t,"__esModule",{value:!0});var o=a(231),s=a(8),l=a(4),c=a(10),p=a(0),u=a(611);t.UPDATE_NOTIFICATION_FEED="UPDATE_NOTIFICATION_FEED";t.getNotificationFeed=function(){return function(e){return r(i,void 0,void 0,function(){var a,r,i,o,p,u,E;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,f()];case 1:return a=n.sent(),r=[],i=d(a),o=new URLSearchParams,o.append("query","query NotificationSearch($sortList: [QuerySortType], $matchAnyInList: NotificationSearchMatchAnyInListType) { NotificationSearch(sortList: $sortList, matchAnyInList: $matchAnyInList) { notifications { approvalId, notificationId, approvalTitle, priority, createdBy { alias, firstName, lastName }, notificationType, eventAt } } }"),o.append("variables",JSON.stringify(i)),[4,s.default.post(l.baseUrl+"/api/homepage/notificationfeed",o)];case 2:return p=n.sent(),p.data.data.NotificationSearch.notifications.map(function(e){var t=m(e);r.push({id:e.notificationId,notificationType:e.notificationType,approvalId:e.approvalId,notificationText:t,date:new Date(e.eventAt),approvalTitle:e.approvalTitle,priority:e.priority})}),e({type:t.UPDATE_NOTIFICATION_FEED,feed:r}),[3,4];case 3:return u=n.sent(),E=Math.random(),e(c.updateNotification({value:{id:E,content:"Could not load notification feed. Please reload the page. "+u.message,type:"alert",loading:!1,status:"error"}})),[3,4];case 4:return[2]}})})}};var d=function(e){return{sortList:[{field:"eventAt",order:"desc"}],matchAnyInList:{notificationType:e}}},m=function(e){var t=p.createElement("a",{href:l.ServiceEndPoints.phoneToolLink+e.createdBy.alias,target:"_blank",style:{color:"#007dbc"}},p.createElement("strong",null," ",e.createdBy.firstName," ",e.createdBy.lastName));switch(e.notificationType){case o.NotificationTypes.APPROVAL_CREATED:return p.createElement("div",null,"Request submitted by ",t);case o.NotificationTypes.APPROVAL_REJECTED:return p.createElement("div",null,"Rejected by ",t);case o.NotificationTypes.APPROVAL_INCREMENTAL_APPROVED:return p.createElement("div",null,"Approved by ",t);case o.NotificationTypes.APPROVAL_RECOMMENDED_TO_APPROVE:return p.createElement("div",null,"Recommended approval by ",t);case o.NotificationTypes.APPROVAL_RECOMMENDED_TO_REJECT:return p.createElement("div",null,"Recommended rejection by ",t);case o.NotificationTypes.APPROVAL_FULLY_APPROVED:return p.createElement("div",null,"Fully Approved by ",t);case o.NotificationTypes.APPROVAL_PLAN_CHANGED:return p.createElement("div",null,"Approval plan changed by ",t);case o.NotificationTypes.APPROVAL_CANCELLED_REQUESTOR:return p.createElement("div",null,"Request cancelled by ",t);case o.NotificationTypes.APPROVAL_CORRESPONDENCE_ADDED:return p.createElement("div",null,"Correspondence added by ",t);case o.NotificationTypes.APPROVAL_DOCUMENT_CREATED:return p.createElement("div",null,"Document added by ",t);case o.NotificationTypes.APPROVAL_DOCUMENT_UPDATED:return p.createElement("div",null,"Document updated by ",t);case o.NotificationTypes.APPROVAL_DOCUMENT_DELETED:return p.createElement("div",null,"Document deleted by ",t);case o.NotificationTypes.APPROVAL_ACTION_UPDATE_DELEGATEE:return p.createElement("div",null,t," updated Delagatee");case o.NotificationTypes.APPROVAL_REASSIGN_ACTOR:return p.createElement("div",null,t," reassigned Approver");case o.NotificationTypes.APPROVAL_REASSIGN_REQUESTOR:return p.createElement("div",null,t," reassigned Requester");case o.NotificationTypes.APPROVAL_ON_HOLD:return p.createElement("div",null,t," placed approval on hold");case o.NotificationTypes.APPROVAL_RESUME:return p.createElement("div",null,"Approval resumed by ",t);case o.NotificationTypes.APPROVAL_REVERT_APPROVER_DECISION:return p.createElement("div",null,t," reverted their decision");case o.NotificationTypes.APPROVAL_RESTART:return p.createElement("div",null,"Request restarted by ",t);case o.NotificationTypes.APPROVAL_PRIORITY_UPDATED:return p.createElement("div",null,"Priority changed to ",l.DisplayPriority[e.priority]," by ",t);default:return null}},f=function(){return new Promise(function(e){s.default.get(l.ServiceEndPoints.getNotificationSettings).then(function(t){var a=t.data,r=a.data.userPreferences;if(0===r.length)return void e(Object.keys(o.NotificationTypes));var n=r.map(function(e){return e.keyValue.map(function(e){return JSON.parse(e).name})}),i=Object.keys(o.NotificationTypes),s=i.filter(function(e){return!n[0].includes(e)});return e(s)}).catch(function(t){e(u.getNotificationSettings_Failed("Something went wrong, we are not able to load your notification feed."))})})}},611:function(e,t,a){"use strict";function postNotificationSettings(e){return function(t){t(i.updateNotification({value:{id:o,content:"Updating your Notification Preferences ....",loading:!0,type:"alert",status:"info"}}));var a=new URLSearchParams;a.append("userPreferenceValue",JSON.stringify(e)),r.default.post(n.ServiceEndPoints.updateNotificationSettings,a).then(function(e){var a=e.data;t(i.deleteNotification({value:o}));var r=a.isError,n=a.errorMessage;t(i.updateNotification({value:{id:Math.random(),content:r?n:"Notification preferences successfully updated.",type:"alert",status:r?"error":"success",duration:5e3}}))}).catch(function(e){t(i.deleteNotification({value:o})),t(i.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to update your Notification Preferences.",type:"alert",status:"error"}}))})}}function getNotificationSettings(){return function(e){r.default.get(n.ServiceEndPoints.getNotificationSettings).then(function(t){var a=t.data,r=a.data.userPreferences,n=r.reduce(function(e,t){var a=(e[0],e[1]),r=t.keyValue;return[r,a.concat(r.map(function(e){return JSON.parse(e)}))]},[[],[]]),i=n[0],o=n[1];e(getNotificationSettings_Succeeded(o,i))}).catch(function(t){e(getNotificationSettings_Failed("Something went wrong, we are not able to load your quick links"))})}}function getNotificationSettings_Succeeded(e,t){return{type:"GetNotificationSettings_Succeeded",payload:{notificationSettingsList:e,notificationSettingsString:t}}}function getNotificationSettings_Failed(e){return{type:"GetNotificationSettings_Failed",payload:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10);t.GetQuickLinks_Succeeded="GetQuickLinks_Succeeded",t.GetQuickLinks_Failed="GetQuickLinks_Failed",t.GetQuickLinks_Pending="GetQuickLinks_Pending";var o=Math.random();t.postNotificationSettings=postNotificationSettings,t.getNotificationSettings=getNotificationSettings,t.getNotificationSettings_Succeeded=getNotificationSettings_Succeeded,t.getNotificationSettings_Failed=getNotificationSettings_Failed},612:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},i=this;Object.defineProperty(t,"__esModule",{value:!0});var o=a(10),s=a(4),l=a(8);t.UPDATE_ANNOUNCEMENTS="UPDATE_ANNOUNCEMENTS";t.getAnnouncements=function(){return function(e){return r(i,void 0,void 0,function(){var a,r,i,p,u,d;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),a=[],r=c(),i=new URLSearchParams,i.append("query","query AnnouncementSearch($sortList: [QuerySortType], $datetimeRange: QueryActiveDateType) { AnnouncementSearch(sortList: $sortList, datetimeRange: $datetimeRange) { announcements { id, title, message, urlText, url, priority }}}"),i.append("variables",JSON.stringify(r)),[4,l.default.post(s.baseUrl+"/api/homepage/announcements",i)];case 1:return p=n.sent(),p.data.data.AnnouncementSearch.announcements.map(function(e){a.push({id:e.id,title:e.title,message:e.message,urlText:e.urlText,url:e.url,priority:e.priority})}),e({type:t.UPDATE_ANNOUNCEMENTS,announcements:a}),[3,3];case 2:return u=n.sent(),d=Math.random(),e(o.updateNotification({value:{id:d,content:"Could not load announcements. Please reload the page"+u.message,type:"alert",loading:!1,status:"error"}})),[3,3];case 3:return[2]}})})}};var c=function(){return{sortList:[{field:"priority",order:"asc"},{field:"startDate",order:"asc"}],datetimeRange:{endDate:{gte:(new Date).toISOString()},startDate:{lte:(new Date).toISOString()}}}}},653:function(e,t,a){"use strict";function getRoleForApproval(e,t){var a,r=document.getElementById("userAlias").value.toLowerCase();if(e.requester&&e.requester.actor.alias&&e.requester.actor.alias.toLowerCase()==r&&(a=f.TransferApprovalRoleType.REQUESTER),!a&&e.approverList&&e.approverList.length>0){e.approverList.forEach(function(e){null!=e.actor.alias&&(r==e.actor.alias.toLowerCase()&&e.assignmentStatus==T.ActorAssignmentStatus.APPROVER_PENDING&&(a=f.TransferApprovalRoleType.CURRENT_APPROVER),r==e.actor.alias.toLowerCase()&&e.assignmentStatus==T.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE&&(a=f.TransferApprovalRoleType.FUTURE_APPROVER))})}if(!a&&e.legalCounselList&&e.legalCounselList.length>0){e.legalCounselList.forEach(function(e){var t=e.actor;null!=e.actor.alias&&r==t.alias.toLowerCase()&&(a=f.TransferApprovalRoleType.LEGAL_COUNSEL)})}if(!a&&e.viewerList&&e.viewerList.length>0){e.viewerList.forEach(function(e){var t=e.actor;null!=e.actor.alias&&r==t.alias.toLowerCase()&&(a=f.TransferApprovalRoleType.VIEWER)})}return t?a:getBulkTransferObjectType(a)}function getBulkTransferObjectType(e){switch(e){case f.TransferApprovalRoleType.CURRENT_APPROVER:case T.ActorAssignmentStatus.APPROVER_PENDING:return f.BulkTransferOptionType.CURRENT_APPROVER;case f.TransferApprovalRoleType.FUTURE_APPROVER:case T.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE:return f.BulkTransferOptionType.FUTURE_APPROVER;case f.TransferApprovalRoleType.LEGAL_COUNSEL:case f.UserRole.LEGAL_COUNSEL:return f.BulkTransferOptionType.LEGALCOUNSEL;case f.TransferApprovalRoleType.VIEWER:case f.UserRole.VIEWER:return f.BulkTransferOptionType.VIEWER;case f.TransferApprovalRoleType.REQUESTER:case f.UserRole.REQUESTER:return f.BulkTransferOptionType.REQUESTER;default:return null}}function mapStateToProps(e){return{peopleResults:e.PeopleSearch.peopleResults,isGetTransferApprovalsPending:e.TransferService.isGetTransferApprovalsPending,isGetTransferApprovalsFailed:e.TransferService.isGetTransferApprovalsFailed,isGetTransferApprovalsSucceeded:e.TransferService.isGetTransferApprovalsSucceeded,approvals:e.AllApprovals,transferTemplates:e.TransferService.transferApprovalsList,getTransferApprovalError:e.TransferService.getTransferApprovalError}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(1),l=a(7),c=a(23),p=a(262),u=a(46),d=a(264),m=a(10),f=a(4),E=a(265),h=a(140),v=a(190),A=a(654),g=a(57),T=a(13),y=[{value:10,label:"10 Requests"},{value:20,label:"20 Requests"},{value:30,label:"30 Requests"},{value:50,label:"50 Requests"}];t.getRoleForApproval=getRoleForApproval,t.getBulkTransferObjectType=getBulkTransferObjectType;var _=function(e){function TransferSearchModalComponent(t){var a=e.call(this,t)||this;return a.selectedItems=[],a.pageSize=10,a.selectedApprovalIdList=[],a.selectedUser=null,a.pendingAlertId=Math.random(),a.errorId=Math.random(),a.transferRequestType=null,a.selectedTemplates=[],a.textColumnFilters=[],a.dateColumnFilters=[],a.tableIsLoading=!1,a.sortRows=function(e,t){return e.isFilter||t.isFilter?0:e.title.toLowerCase()>t.title.toLowerCase()?1:-1},a.state={showModal:a.props.showModal,showApprovalRequest:!1,transferTypeValue:"1",transferApprovalStatusValue:f.TransferApprovalStatus.ANY_STATUS,transferApprovalRoleDisplay:f.TransferApprovalRoleType.ANY_ROLE,isTransferApprovalStatusDisabled:!1,transferAllValue:"all",displayTransferConfirmationModel:!1,transferApprovalRoleValue:f.TransferApprovalRoleType.ANY_ROLE,transferTemplateRoleValue:f.BulkTransferOptionType.TEMPLATE_ADMIN,peopleSuggestions:[],peopleSuggestedValue:"",showApprovalOptions:!0,fromDate:"",toDate:"",delegationSelectedVal:""},a.approvalQuery={from:0,to:a.pageSize,filters:{},isTransfer:!0},a.templateRequest={from:0,to:a.pageSize,role:f.BulkTransferOptionType.TEMPLATE_ADMIN},a.getPeopleSuggestions=a.getPeopleSuggestions.bind(a),a.onPeopleInputChange=a.onPeopleInputChange.bind(a),a.clearSuggestions=a.clearSuggestions.bind(a),a.renderSuggestion=a.renderSuggestion.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.getSuggestionValue=a.getSuggestionValue.bind(a),a.onPaginationChange=a.onPaginationChange.bind(a),a.onTransferTypeChange=a.onTransferTypeChange.bind(a),a.onApprovalRoleChange=a.onApprovalRoleChange.bind(a),a.onApprovalStatusChange=a.onApprovalStatusChange.bind(a),a.removeSelectedUser=a.removeSelectedUser.bind(a),a.onTransferClick=a.onTransferClick.bind(a),a.onTemplatePaginationChange=a.onTemplatePaginationChange.bind(a),a.onTemplateSelectionChange=a.onTemplateSelectionChange.bind(a),a.onTransferRoleChange=a.onTransferRoleChange.bind(a),a.onTransferAllChange=a.onTransferAllChange.bind(a),a.proceedTransferRequest=a.proceedTransferRequest.bind(a),a.updateFilters=a.updateFilters.bind(a),a.resetAllFilters=a.resetAllFilters.bind(a),a.addTextCF=function(e){return a.textColumnFilters.push(e)},a.addDateCF=function(e){return a.dateColumnFilters.push(e)},a}return r(TransferSearchModalComponent,e),TransferSearchModalComponent.prototype.onTransferAllChange=function(e){this.setState({transferAllValue:e.detail.value}),this.selectedTemplates=[],this.selectedApprovalIdList=[],"specificApr"==e.detail.value&&("1"==this.state.transferTypeValue?(this.resetAllFilters(),this.props.getTransferApprovals(this.approvalQuery)):this.props.getTransferTemplates(this.templateRequest))},TransferSearchModalComponent.prototype.onTransferClick=function(){if(!this.selectedUser)return void this.props.showNotification({id:this.errorId,content:"Please select the person to whom you want to transfer",type:"alert",status:"info",duration:2500});if("all"!=this.state.transferAllValue)if("1"==this.state.transferTypeValue){if(0==this.selectedApprovalIdList.length)return void this.props.showNotification({id:this.errorId,content:"Please select the requests you want to transfer",type:"alert",status:"info",duration:2500});this.transferRequestType=f.TransferRequestType.SPECIFIC_APPROVALREQUEST}else{if(0==this.selectedTemplates.length)return void this.props.showNotification({id:this.errorId,content:"Please select the requests you want to transfer",type:"alert",status:"info",duration:2500});this.transferRequestType=f.TransferRequestType.SPECIFIC_TEMPLATE}else"1"==this.state.transferTypeValue?"all"!=this.state.transferAllValue?this.transferRequestType=f.TransferRequestType.APPROVALREQUESTS_ROLE_BASED:this.transferRequestType=f.TransferRequestType.ALL_APPROVALREQUESTS:this.transferRequestType=f.TransferRequestType.TEMPLATES_ROLE_BASED;this.setState({displayTransferConfirmationModel:!0})},TransferSearchModalComponent.prototype.proceedTransferRequest=function(){var e=[];switch(this.setState({displayTransferConfirmationModel:!1}),this.transferRequestType){case f.TransferRequestType.SPECIFIC_APPROVALREQUEST:for(var t=0;t<this.selectedApprovalIdList.length;t++){var a={objectId:this.selectedApprovalIdList[t].id,objectTypeId:parseInt(this.state.transferTypeValue),bulkTransferOptionType:this.state.transferApprovalRoleValue==f.TransferApprovalRoleType.ANY_ROLE?getRoleForApproval(this.selectedApprovalIdList[t],!1):getBulkTransferObjectType(this.state.transferApprovalRoleValue)};e.push(a)}this.props.postTransfer(this.selectedUser.alias,e,this.approvalQuery,!1),this.selectedTemplates=[],this.selectedApprovalIdList=[];break;case f.TransferRequestType.SPECIFIC_TEMPLATE:for(var t=0;t<this.selectedTemplates.length;t++){var a={objectId:this.selectedTemplates[t],objectTypeId:parseInt(this.state.transferTypeValue),bulkTransferOptionType:this.state.transferTemplateRoleValue};e.push(a)}this.props.postTransfer(this.selectedUser.alias,e,this.templateRequest,!0),this.selectedTemplates=[],this.selectedApprovalIdList=[];break;case f.TransferRequestType.APPROVALREQUESTS_ROLE_BASED:this.props.transferAllApprovals(this.selectedUser.alias,getBulkTransferObjectType(this.state.transferApprovalRoleValue),this.approvalQuery),this.selectedTemplates=[],this.selectedApprovalIdList=[];break;case f.TransferRequestType.TEMPLATES_ROLE_BASED:this.props.transferAllTemplates(this.selectedUser.alias,this.state.transferTemplateRoleValue),this.selectedTemplates=[],this.selectedApprovalIdList=[];break;case f.TransferRequestType.ALL_APPROVALREQUESTS:this.props.transferAllApprovals(this.selectedUser.alias,null,this.approvalQuery),this.selectedTemplates=[],this.selectedApprovalIdList=[]}},TransferSearchModalComponent.prototype.onTransferRoleChange=function(e){this.setState({transferTemplateRoleValue:e.detail.selectedId}),this.templateRequest.role=e.detail.selectedId,this.selectedTemplates=[],this.selectedApprovalIdList=[],this.props.getTransferTemplates(this.templateRequest)},TransferSearchModalComponent.prototype.onTransferTypeChange=function(e){var t=e.detail.value;this.selectedApprovalIdList=[],this.selectedTemplates=[],2==t?(this.templateRequest.role=f.BulkTransferOptionType.TEMPLATE_ADMIN,this.props.getTransferTemplates(this.templateRequest),this.setState({transferTypeValue:t,showApprovalOptions:!1,transferTemplateRoleValue:f.BulkTransferOptionType.TEMPLATE_ADMIN})):(this.approvalQuery={from:0,to:this.pageSize,isTransfer:!0,filters:{}},this.setState({transferTypeValue:t,isTransferApprovalStatusDisabled:!1,showApprovalOptions:!0,transferApprovalStatusValue:f.TransferApprovalStatus.ANY_STATUS,transferApprovalRoleValue:f.TransferApprovalRoleType.ANY_ROLE})),this.selectedTemplates=[],this.selectedApprovalIdList=[],this.props.getTransferApprovals(this.approvalQuery)},TransferSearchModalComponent.prototype.onApprovalStatusChange=function(e){var t=this;this.resetAllFilters(),this.approvalQuery.from=0,this.approvalQuery.to=this.pageSize,this.setState({transferApprovalStatusValue:e.detail.selectedId}),e.detail.selectedId==f.TransferApprovalStatus.ANY_STATUS?this.approvalQuery.approvalStatus=null:this.approvalQuery.approvalStatus=e.detail.selectedId,this.selectedTemplates=[],this.selectedApprovalIdList=[],this.tableIsLoading=!0,setTimeout(function(){t.props.getTransferApprovals(t.approvalQuery),t.tableIsLoading=!1},3e3)},TransferSearchModalComponent.prototype.onApprovalRoleChange=function(e){var t=this;switch(this.resetAllFilters(),e.detail.selectedId){case T.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE:case T.ActorAssignmentStatus.APPROVER_PENDING:this.setState({transferApprovalStatusValue:T.ApprovalStatus.PENDING,isTransferApprovalStatusDisabled:!0,transferApprovalRoleValue:e.detail.selectedId,transferApprovalRoleDisplay:e.detail.selectedOption.label}),this.approvalQuery.from=0,this.approvalQuery.to=this.pageSize,this.approvalQuery.role=T.ActorRole.APPROVER,this.approvalQuery.assignmentStatus=e.detail.selectedId,this.approvalQuery.approvalStatus=T.ApprovalStatus.PENDING;break;case f.UserRole.REQUESTER:case f.UserRole.VIEWER:case f.UserRole.LEGAL_COUNSEL:this.setState({isTransferApprovalStatusDisabled:!1,transferApprovalRoleValue:e.detail.selectedId,transferApprovalRoleDisplay:e.detail.selectedOption.label}),this.approvalQuery.from=0,this.approvalQuery.to=this.pageSize,this.approvalQuery.role=e.detail.selectedId,this.approvalQuery.assignmentStatus=null,this.state.transferApprovalStatusValue==f.TransferApprovalStatus.ANY_STATUS?this.approvalQuery.approvalStatus=null:this.approvalQuery.approvalStatus=this.state.transferApprovalStatusValue;break;case f.TransferApprovalRoleType.ANY_ROLE:this.setState({isTransferApprovalStatusDisabled:!1,transferApprovalRoleValue:e.detail.selectedId,transferApprovalRoleDisplay:e.detail.selectedOption.label}),this.approvalQuery.to=this.pageSize,this.approvalQuery.role=null,this.approvalQuery.assignmentStatus=null,this.state.transferApprovalStatusValue==f.TransferApprovalStatus.ANY_STATUS?this.approvalQuery.approvalStatus=null:this.approvalQuery.approvalStatus=this.state.transferApprovalStatusValue}this.selectedTemplates=[],this.selectedApprovalIdList=[],this.tableIsLoading=!0,setTimeout(function(){t.props.getTransferApprovals(t.approvalQuery),t.tableIsLoading=!1},3e3)},TransferSearchModalComponent.prototype.onPaginationChange=function(e){this.approvalQuery.to!=e.detail.pageSize?this.approvalQuery.from=0:this.approvalQuery.from=(e.detail.currentPageIndex-1)*e.detail.pageSize,this.approvalQuery.to=e.detail.pageSize,this.selectedTemplates=[],this.selectedApprovalIdList=[],this.props.getTransferApprovals(this.approvalQuery)},TransferSearchModalComponent.prototype.onTemplatePaginationChange=function(e){this.templateRequest.to!=e.detail.pageSize?this.templateRequest.from=0:this.templateRequest.from=(e.detail.currentPageIndex-1)*e.detail.pageSize,this.templateRequest.to=e.detail.pageSize,this.selectedTemplates=[],this.selectedApprovalIdList=[],this.props.getTransferTemplates(this.templateRequest)},TransferSearchModalComponent.prototype.getPeopleSuggestions=function(e){e.value&&e.value.length>=3&&this.props.queryPeopleSearch(e.value)},TransferSearchModalComponent.prototype.onPeopleInputChange=function(e,t){var a=t.newValue;t.method;this.setState({peopleSuggestedValue:a})},TransferSearchModalComponent.prototype.clearSuggestions=function(){this.setState({peopleSuggestions:[]})},TransferSearchModalComponent.prototype.getSuggestionValue=function(e){return e.type,f.ActoryType.PRINCIPAL,this.selectedUser=e,""},TransferSearchModalComponent.prototype.renderSuggestion=function(e){return e.type==f.ActoryType.PRINCIPAL?i.createElement(d.default,{employee:e}):i.createElement(E.default,{group:e})},TransferSearchModalComponent.prototype.onSelectionChange=function(e){e.detail.selectedItems.length>0?this.selectedApprovalIdList=e.detail.selectedItems:this.selectedApprovalIdList=[]},TransferSearchModalComponent.prototype.onTemplateSelectionChange=function(e){if(e.detail.selectedItems.length>0){this.selectedTemplates=[];for(var t=0;t<e.detail.selectedItems.length;t++)this.selectedTemplates.push(e.detail.selectedItems[t].id)}else this.selectedTemplates=[]},TransferSearchModalComponent.prototype.removeSelectedUser=function(){this.selectedUser=null,this.forceUpdate()},TransferSearchModalComponent.prototype.componentWillReceiveProps=function(e){e.showModal&&this.props.showModal!=e.showModal&&(this.selectedItems=[],this.selectedApprovalIdList=[],this.selectedUser=null,this.pendingAlertId=Math.random(),this.errorId=Math.random(),this.approvalQuery={from:0,to:this.pageSize,isTransfer:!0,filters:{}},this.templateRequest={from:0,to:this.pageSize,role:f.BulkTransferOptionType.TEMPLATE_ADMIN},this.selectedTemplates=[],this.state={showModal:this.props.showModal,showApprovalRequest:!1,transferTypeValue:"1",transferApprovalStatusValue:f.TransferApprovalStatus.ANY_STATUS,transferApprovalRoleDisplay:f.TransferApprovalRoleType.ANY_ROLE,isTransferApprovalStatusDisabled:!1,transferAllValue:"all",transferApprovalRoleValue:f.TransferApprovalRoleType.ANY_ROLE,transferTemplateRoleValue:f.BulkTransferOptionType.TEMPLATE_ADMIN,peopleSuggestions:[],peopleSuggestedValue:"",showApprovalOptions:!0,fromDate:"",toDate:"",delegationSelectedVal:""},this.props.getTransferTemplates(this.templateRequest))},TransferSearchModalComponent.prototype.resetAllFilters=function(){this.approvalQuery.filters={},this.textColumnFilters.forEach(function(e){return e&&e.setValue("")}),this.dateColumnFilters.forEach(function(e){return e&&e.resetState()})},TransferSearchModalComponent.prototype.updateFilters=function(e){this.approvalQuery.filters=n({},this.approvalQuery.filters,e),this.approvalQuery.From=0,this.props.getTransferApprovals(this.approvalQuery)},TransferSearchModalComponent.prototype.render=function(){var e,t,a=this,r=[],n=[],l=this.state.peopleSuggestedValue;if(this.props.peopleResults.data&&this.props.peopleResults.data.length>0&&(n=this.props.peopleResults.data),this.props.isGetTransferApprovalsFailed&&!this.props.isGetTransferApprovalsPending&&this.props.showNotification({type:"alert",status:"error",content:"Something went wrong, we are not able to load the requested data."}),1==this.state.transferTypeValue)if(this.props.approvals&&this.props.approvals.data){e=this.props.approvals.data.data.ApprovalSearch.total,r=Array.from(this.props.approvals.data.data.ApprovalSearch.approvals);var c=[{filterColumn:"id",filterType:"TextColumnFilter",id:"approvalId",updateParentText:this.updateFilters,ref:this.addTextCF},{filterColumn:"title",filterType:"TextColumnFilter",id:"title",updateParentText:this.updateFilters,ref:this.addTextCF},{filterColumn:"createdAt",filterType:"DateColumnFilter",id:"createdAt",modalHeader:"Apply filter on approval created on date",ref:this.addDateCF,updateDateFilter:function(e){a.updateFilters({createdAt:e})}},{filterColumn:"startedAt",filterType:"DateColumnFilter",id:"startedAt",modalHeader:"Apply filter on approval started on date",ref:this.addDateCF,updateDateFilter:function(e){a.updateFilters({startedAt:e})}}],u=g.getFilterEnabledTableItems(c);u.isFilter=!0,r.unshift(u)}else r=[];else r=this.props.transferTemplates&&this.props.transferTemplates.templates,t=this.props.transferTemplates.total;var d={placeholder:"Search name, title and/or dept",value:l,onChange:this.onPeopleInputChange},m=[{id:"title",header:"Title",cell:function(e){if(e.isFilter)return e.title;var t=document.createElement("textarea");return t.innerHTML=e.title,i.createElement("div",null,i.createElement("a",{className:"wordBreakAll",href:"/Approval"+("DRAFT"===e.status?"/Edit/":"/Details/")+e.id},t.value))}},{id:"id",header:"Id",cell:function(e){return e.isFilter?e.id:i.createElement("a",{href:"/Approval/Details/"+e.id,target:"_blank"},e.id)}},{id:"status",header:"Approval Status",cell:function(e){return e.isFilter?e.status:T.getDisplayApprovalStatus(e.status)}},{id:"role",header:"Role",cell:function(e){return e.isFilter?e.role:a.state.transferApprovalRoleValue==f.TransferApprovalRoleType.ANY_ROLE?getRoleForApproval(e,!0):a.state.transferApprovalRoleDisplay}},{id:"createdAt",header:"Created On",cell:function(e){return e.isFilter?e.createdAt:i.createElement("span",null,s(e.createdAt).format("MM-DD-YYYY"))}},{id:"startedAt",header:"Started On",cell:function(e){return e.isFilter?e.startedAt:i.createElement("span",null,s(e.startedAt).format("MM-DD-YYYY"))}}],E=[{id:"title",header:"Title",cell:function(e){return i.createElement("a",{href:"/Template/Details/"+e.id,target:"_blank"},e.title)}},{id:"id",header:"Id",cell:function(e){return i.createElement("a",{href:"/Template/Details/"+e.id,target:"_blank"},e.id)}},{id:"public",header:"Public/Private",cell:function(e){return e.templatePublic?"Public":"Private"}}],h=[{value:"1",label:f.TransferType.APPROVAL_REQUEST},{value:"2",label:f.TransferType.APPROVAL_TEMPLATES}],v=[{label:f.TransferApprovalRoleType.ANY_ROLE,id:f.TransferApprovalRoleType.ANY_ROLE},{label:f.TransferApprovalRoleType.REQUESTER,id:f.UserRole.REQUESTER},{label:f.TransferApprovalRoleType.CURRENT_APPROVER,id:T.ActorAssignmentStatus.APPROVER_PENDING},{label:f.TransferApprovalRoleType.FUTURE_APPROVER,id:T.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE},{label:f.TransferApprovalRoleType.LEGAL_COUNSEL,id:f.UserRole.LEGAL_COUNSEL},{label:f.TransferApprovalRoleType.VIEWER,id:f.UserRole.VIEWER}],_=[{label:f.TransferApprovalStatus.ANY_STATUS,id:f.TransferApprovalStatus.ANY_STATUS},{label:f.TransferApprovalStatus.APPROVED,id:T.ApprovalStatus.APPROVED},{label:f.TransferApprovalStatus.APPROVED_WITH_CONDITION,id:T.ApprovalStatus.APPROVED_WITH_CONDITION},{label:f.TransferApprovalStatus.CANCELLED,id:T.ApprovalStatus.CANCELLED},{label:f.TransferApprovalStatus.DRAFT,id:T.ApprovalStatus.DRAFT},{label:f.TransferApprovalStatus.PENDING,id:T.ApprovalStatus.PENDING},{label:f.TransferApprovalStatus.REJECTED,id:T.ApprovalStatus.REJECTED}],R=[{label:f.TransferTemplateRole.TEMPLATE_ADMIN,id:f.BulkTransferOptionType.TEMPLATE_ADMIN},{label:f.TransferTemplateRole.TEMPLATE_OWNER,id:f.BulkTransferOptionType.TEMPLATE_OWNER},{label:f.TransferTemplateRole.TEMPLATE_VIEWER,id:f.BulkTransferOptionType.TEMPLATE_VIEWER}],S=[{value:"all",label:"All"},{value:"specificApr",label:"Specific Request"}];return r||(r=[]),i.createElement("div",{className:"awsui"},i.createElement(o.Modal,{size:"max",expandToFit:!0,content:i.createElement("div",{className:"transfer-search modal-search-container"},i.createElement(o.Modal,{id:"TransferConfirmationModal",visible:1==this.state.displayTransferConfirmationModel,header:"Transfer request confirmation",onDismiss:function(e){a.setState({displayTransferConfirmationModel:!1})},footer:i.createElement("span",{className:"awsui-util-f-r"},i.createElement("button",{onClick:function(e){a.setState({displayTransferConfirmationModel:!1})},className:"btn btn-alert"},"Cancel"),i.createElement("button",{onClick:this.proceedTransferRequest,className:"btn btn-primary"},"Yes, proceed"))},i.createElement("span",null,"This action is not reversible, would you like to proceed? ")),i.createElement("div",null,i.createElement(o.ColumnLayout,{columns:4},i.createElement("div",{"data-awsui-column-layout-root":"true"},i.createElement("div",{id:"autosug",style:{maxWidth:"22%"}},i.createElement(o.FormField,{label:i.createElement("b",null,"Search for Name")},i.createElement(p,{suggestions:n,onSuggestionsFetchRequested:this.getPeopleSuggestions,onSuggestionsClearRequested:this.clearSuggestions,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:d}),i.createElement("div",{className:"selectedDelegatee"},i.createElement(N,{selectedUser:this.selectedUser,onDelete:this.removeSelectedUser})))),i.createElement("div",{style:{maxWidth:"17%"}},i.createElement(o.FormField,{label:i.createElement("b",null,"I would like to transfer:")},i.createElement(o.RadioGroup,{value:this.state.transferTypeValue,items:h,onChange:this.onTransferTypeChange}))),this.state.showApprovalOptions&&i.createElement("div",{style:{maxWidth:"19%"}},i.createElement(o.FormField,{label:i.createElement("b",null,"Wherever I'm a:")},i.createElement(o.Select,{options:v,selectedId:this.state.transferApprovalRoleValue,onChange:this.onApprovalRoleChange}))),this.state.showApprovalOptions&&i.createElement("div",{style:{maxWidth:"19%"}},i.createElement(o.FormField,{label:i.createElement("b",null,"And approval Status:")},i.createElement(o.Select,{onChange:this.onApprovalStatusChange,options:_,disabled:this.state.isTransferApprovalStatusDisabled,selectedId:this.state.transferApprovalStatusValue}))),!this.state.showApprovalOptions&&i.createElement(o.FormField,{label:i.createElement("b",null,"Wherever I'm a:")},i.createElement(o.Select,{options:R,onChange:this.onTransferRoleChange,selectedId:this.state.transferTemplateRoleValue})),i.createElement("div",{style:{maxWidth:"15%"}},i.createElement(o.FormField,{label:i.createElement("b",null,"Transfer Type")},i.createElement(o.RadioGroup,{onChange:this.onTransferAllChange,value:this.state.transferAllValue,items:S})))))),i.createElement(o.ColumnLayout,{columns:1},i.createElement("div",{"data-awsui-column-layout-root":"true"},this.tableIsLoading&&"specificApr"==this.state.transferAllValue&&i.createElement("div",{style:{textAlign:"center"}},i.createElement(o.Spinner,{size:"large"})),!this.tableIsLoading&&this.props.approvals&&"specificApr"==this.state.transferAllValue&&i.createElement("div",null,this.state.showApprovalOptions?i.createElement("div",{id:"home-table",className:"settings-table-action-deactive"},i.createElement(o.Table,{columnDefinitions:m,items:r,variant:"borderless",loading:this.tableIsLoading,empty:i.createElement("div",{className:"awsui-util-t-c"},i.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},i.createElement("b",null,"There are no approvals requests")))},i.createElement(o.TablePagination,{pagesCount:null==r?0:Math.ceil(e/this.approvalQuery.to),currentPageIndex:0==this.approvalQuery.from?1:Math.ceil(this.approvalQuery.from/this.approvalQuery.to)+1,openEnd:!1,onPaginationChange:this.onPaginationChange}),i.createElement(o.TableSorting,{sortingColumn:"title",sortableColumns:[{id:"title",comparator:this.sortRows}]}),i.createElement(o.TablePreferences,{title:"Preferences",confirmLabel:"Confirm",cancelLabel:"Cancel"},i.createElement(o.TablePageSizeSelector,{title:"Items per page",value:this.approvalQuery.to,options:y})),i.createElement(o.TableSelection,{keepSelection:!0,onSelectionChange:this.onSelectionChange,selectionType:"multi",isItemDisabled:function(e){return"isFilter"in e}}))):i.createElement(o.Table,{columnDefinitions:E,items:r,variant:"borderless",empty:i.createElement("div",{className:"awsui-util-t-c"},i.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},i.createElement("b",null,"There are no templates.")))},i.createElement(o.TablePagination,{pagesCount:null==r?0:Math.ceil(t/this.templateRequest.to),currentPageIndex:0==this.templateRequest.from?1:Math.ceil(this.templateRequest.from/this.templateRequest.to)+1,openEnd:!1,onPaginationChange:this.onTemplatePaginationChange}),i.createElement(o.TablePreferences,{title:"Preferences",confirmLabel:"Confirm",cancelLabel:"Cancel"},i.createElement(o.TablePageSizeSelector,{title:"Items per page",value:this.templateRequest.to,options:y})),i.createElement(o.TableSelection,{keepSelection:!0,onSelectionChange:this.onTemplateSelectionChange,selectionType:"multi"})))))),visible:this.props.showModal,header:"New Transfer",onDismiss:this.props.onDismissClick,footer:i.createElement("span",{className:"awsui-util-f-r"},i.createElement("button",{className:"btn btn-alert",onClick:this.props.onDismissClick},"Cancel"),i.createElement("button",{className:"btn btn-primary",onClick:this.onTransferClick},"Start Transfer"))}),i.createElement(A.default,null))},TransferSearchModalComponent}(i.Component),N=function(e){return e.selectedUser?e.selectedUser.type==f.ActoryType.PRINCIPAL?i.createElement(d.default,{showDelete:!0,employee:e.selectedUser,onDelete:e.onDelete,selected:!0,onCheckBoxChange:e.onDelete}):i.createElement(E.default,{group:e.selectedUser,showDelete:!0,onDelete:e.onDelete,selected:!0,onCheckBoxChange:e.onDelete}):null},R=function(e){return n({queryPeopleSearch:function(t){e(u.queryPeopleSearch(t,!0))},showNotification:function(t){e(m.updateNotification({value:t}))},deleteNotification:function(t){e(m.deleteNotification({value:t}))},postTransfer:function(t,a,r,n){e(h.postBulkTransfer(t,a,r,n))},getTransferTemplates:function(t){e(h.getTransferTemplates(t))},transferAllApprovals:function(t,a,r){e(h.transferAllApprovals(t,a,r))},transferAllTemplates:function(t,a){e(h.transferAllTemplates(t,a))}},c.bindActionCreators({getTransferApprovals:v.default},e))};t.default=l.connect(mapStateToProps,R)(_)},654:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(7),s=a(224),l=function(e){function DisplaySummaryReportComponent(t){return e.call(this,t)||this}return r(DisplaySummaryReportComponent,e),DisplaySummaryReportComponent.prototype.render=function(){var e=this,t=[];this.props.showModal&&this.props.FailedTransfers&&this.props.FailedTransfers.length>0&&(t=this.props.FailedTransfers);var a=[{id:"type",header:"Transfer Type",cell:function(e){return 1==e.objectTypeId?"Approval Request":"Template"}},{id:"id",header:"id",cell:function(e){return 1==e.objectTypeId?n.createElement("a",{href:"/Approval/Details/"+e.objectId,target:"_blank"},e.objectId):n.createElement("a",{href:"/Template/Details/"+e.objectId,target:"_blank"},e.objectId)}},{id:"status",header:"status",cell:n.createElement("div",{style:{color:"red"}},n.createElement(i.Icon,{variant:"error",name:"status-negative"}),"Failed")},{id:"message",header:"Error",cell:function(e){return e.message}}];return n.createElement("div",{className:"awsui"},n.createElement(i.Modal,{content:n.createElement(i.Table,{columnDefinitions:a,items:t,size:"large",variant:"borderless",empty:n.createElement("div",{className:"awsui-util-t-c"},n.createElement("div",{className:"awsui-util-pt-xs awsui-util-mb-xs"},n.createElement("b",null,"There are is no data to display.")))}),size:"large",visible:this.props.showModal,onDismiss:function(){e.props.hideModal()},footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement("button",{className:"btn btn-alert",onClick:function(){e.props.hideModal()}},"Close"))}))},DisplaySummaryReportComponent}(n.Component),c=function(e){return{showModal:e.DisplayTransferReport.showModal,FailedTransfers:e.DisplayTransferReport.FailedTransfers}},p=function(e){return{hideModal:function(){e(s.hideReportSummaryModal())}}};t.default=o.connect(c,p)(l)},678:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(5),c=a(679),p=a(1245),u=function(e){function RfiForm(t){var a=e.call(this,t)||this;return a.handleNewRecipient=function(e){var t=a.state.participants;a.actorExistsInList(e,t)||a.setState({participants:t.concat([e]),rfiDataModified:!0})},a.handleNewAssignee=function(e){var t=a.state.participants;t.find(function(t){return t.alias===e.alias})||(t=[e].concat(t)),a.setState({participants:t,assignee:e,isAssigneeBeingUpdated:!1,rfiDataModified:!0})},a.handleAssigneeUpdate=function(){a.setState({isAssigneeBeingUpdated:!0})},a.handleRecipientRemove=function(e){var t="PRINCIPAL"!==e.type,r=a.state,n=r.participants,i=r.adminList,o=r.additionalList,s=a.actorExistsInList(e,i);s&&(i=t?i.filter(function(t){return t.groupName!==e.groupName}):i.filter(function(t){return t.alias!==e.alias}));var l=a.actorExistsInList(e,o);l&&(o=t?o.filter(function(t){return t.groupName!==e.groupName}):o.filter(function(t){return t.alias!==e.alias})),n=t?n.filter(function(t){return t.groupName!==e.groupName}):n.filter(function(t){return t.alias!==e.alias}),s||l?a.setState({participants:n,rfiDataModified:!0,adminList:i,additionalList:o,defaultRecipientsModified:!0,alertShow:!0}):a.setState({participants:n,rfiDataModified:!0})},a.handleRfiCreate=function(){return i(a,void 0,void 0,function(){var e,t,a,r,n,i,s,l,c,p,u,l,d,m;return o(this,function(o){switch(o.label){case 0:if(e=this.state.participants.slice(),this.state.defaultRecipientsModified){for(t=this.state,a=t.adminList,r=t.additionalList,n=0,i=a;n<i.length;n++)s=i[n],(l=this.actorExistsInList(s,e))||e.push(s);for(c=0,p=r;c<p.length;c++)u=p[c],(l=this.actorExistsInList(u,e))||e.push(u)}return d={entityId:"",entityType:"APPROVAL",taskType:"RFI",description:"An approver can request information when they have a question that blocks them from providing a decision.",taskOwner:this.state.createdBy,taskOwnerUniqueId:"",taskTitle:this.state.title,assignee:this.state.assignee,evaluateDefaultParticipants:!this.state.defaultRecipientsModified,participants:e,messageBody:this.state.messageBody},this.setState({rfiAction:!0}),[4,this.props.onMessageSend(d)];case 1:return m=o.sent(),m&&"CREATE_TASK_FAILURE"===m.type&&this.setState({rfiAction:!1}),[2]}})})},a.handleRfiEdit=function(){return i(a,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=n({},this.props.rfiData,{taskTitle:this.state.title,assignee:this.state.assignee,participants:this.state.participants}),this.setState({rfiAction:!0}),[4,this.props.onSave(e)];case 1:return t.sent(),this.setState({rfiAction:!1}),[2]}})})},a.actorExistsInList=function(e,t){var a="PRINCIPAL"!==e.type;return a?t.find(function(t){return"PRINCIPAL"!==t.type&&e.groupName===t.groupName}):t.find(function(t){return"PRINCIPAL"==t.type&&e.alias===t.alias})},a.state={title:"",assignee:null,createdBy:null,participants:[],isAssigneeBeingUpdated:!1,messageBody:"",rfiAction:!1,isLoading:!0,rfiDataModified:!1,defaultRecipientsModified:!1,adminList:[],additionalList:[],additionalListLoading:!0,alertShow:!1},a}return r(RfiForm,e),RfiForm.prototype.render=function(){var e=this,t=this.state.title.length>200,a=this.props.approvalActors.requester;return!this.state.isLoading&&s.createElement("div",{className:"rfi-form flex-col awsui"},s.createElement("div",{className:"rfi-description-wrap flex-col"},s.createElement("div",{className:"rfi-description flex"},s.createElement("p",null,"Request for information"),s.createElement(l.Tooltip,{text:s.createElement("span",null,"Recipients can view, comment, and resolve this request for information. By default, the approval requester and approval admins are included on every request for information. Additional recipients can be included automatically by configuring the",s.createElement("a",{className:"rfi-config-link",onClick:function(){return e.props.openConfigPage()}}," ","request for information settings"),". More individuals and groups can be added to this specific request for information using the form below, or by including them in the To or Cc lines of the request for information email."),position:"bottom",size:"large"},s.createElement("a",{className:"awsui-util-help-info-link"},"Info"))),this.state.alertShow&&s.createElement("div",{className:"rfi-form-alert"},s.createElement(l.Alert,{header:"You have removed at least one default recipient. ",type:"warning",dismissible:!0,onDismiss:function(){e.setState({alertShow:!1})}},"They will not have access to view your request for information messages, unless theyâ€™re added back as recipients."))),s.createElement("div",{className:"rfi-form-fields flex-col",style:{maxHeight:this.state.alertShow?"calc(100vh - 53rem)":"calc(100vh - 36rem)"}},s.createElement(l.FormField,{label:"Title",stretch:!0,hintText:this.state.title.length+"/200 characters used",errorText:t?"Limit exceeded":""},s.createElement(l.Input,{value:this.state.title,onInput:function(t){return e.setState({title:t.target.component.value,rfiDataModified:!0})}})),s.createElement(l.FormField,{label:"Assignee",description:"Specify who should be responsible for resolving this request. By default, requests for information will be assigned to the approval requester.",errorText:this.state.isAssigneeBeingUpdated?"An assignee is required.":""},this.state.isAssigneeBeingUpdated?s.createElement(c.default,{handleNewRecipient:this.handleNewAssignee,includeGroups:!1,includePeople:!0}):s.createElement(p.default,{actor:this.state.assignee,rfiActors:[this.state.createdBy,this.state.assignee],approvalRequester:a,isAssigneeColumn:!0,handleAssigneeUpdate:this.handleAssigneeUpdate})),s.createElement(l.FormField,{label:"Recipients",description:"New recipients will be added as Viewers to ensure they can access the details of the approval."},s.createElement(c.default,{handleNewRecipient:this.handleNewRecipient,includeGroups:!0,includePeople:!0,placeholder:"Search people and groups"}),s.createElement("div",{className:"rfi-recipients-list flex"},this.state.participants.map(function(t,r){return s.createElement(p.default,{key:(t.alias||t.groupName)+r,actor:t,rfiActors:[e.state.createdBy,e.state.assignee],approvalRequester:a,isAssigneeColumn:!1,handleRecipientRemove:e.handleRecipientRemove})}))),!this.props.isEditPage&&this.state.adminList.length>0&&s.createElement(l.FormField,{label:"Admins"},s.createElement("div",{className:"rfi-recipients-admins rfi-recipients-list flex"},this.state.adminList.map(function(t,r){return s.createElement(p.default,{key:(t.alias||t.groupName)+r,actor:t,rfiActors:[e.state.createdBy,e.state.assignee],approvalRequester:a,isAssigneeColumn:!1,handleRecipientRemove:e.handleRecipientRemove,preventRemove:!1})}))),!this.props.isEditPage&&s.createElement("div",{className:"rfi-additional-list-wrap"},s.createElement("div",{className:"rfi-additional-list"},"Additional default recipients included by the",s.createElement("a",{className:"rfi-config-link",onClick:function(){return e.props.openConfigPage()}}," ","request for information settings",s.createElement(l.Icon,{name:"external"}))),this.state.additionalListLoading?s.createElement("div",{className:"awsui-form-field-description"},s.createElement(l.Spinner,{className:"awsui",variant:"disabled",size:"normal"})," Loading additional recipients"):this.state.additionalList.length>0?s.createElement("div",{className:"rfi-recipients-admins rfi-recipients-list flex"},this.state.additionalList.map(function(t,r){return s.createElement(p.default,{key:(t.alias||t.groupName)+r,actor:t,rfiActors:[e.state.createdBy,e.state.assignee],approvalRequester:a,isAssigneeColumn:!1,handleRecipientRemove:e.handleRecipientRemove,preventRemove:!1})})):s.createElement("div",{className:"awsui-form-field-description"},"There are no additional recipients at this time."))),s.createElement("div",{className:"rfi-form-message-area flex"},this.props.isEditPage?s.createElement("div",{className:"rfi-form-editpage-actions"},s.createElement(l.Button,{variant:"link",onClick:this.props.onCancel},"Cancel"),s.createElement(l.Button,{variant:"primary",onClick:this.handleRfiEdit,disabled:this.state.isAssigneeBeingUpdated||!this.state.rfiDataModified,loading:this.state.rfiAction},"Save")):s.createElement(s.Fragment,null,s.createElement("div",{className:"rfi-form-message-box"},s.createElement("textarea",{placeholder:"RFI Message...",rows:3,cols:20,onInput:function(t){return e.setState({messageBody:t.target.value})}})),s.createElement("div",{className:"rfi-form-message-send"},s.createElement(l.Button,{variant:"primary",onClick:this.handleRfiCreate,disabled:this.state.isAssigneeBeingUpdated||0===this.state.messageBody.length,loading:this.state.rfiAction},"Send")))))},RfiForm.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var e,t,a,r,n,i;return o(this,function(o){switch(o.label){case 0:return this.props.isEditPage?(e=this.props.rfiData,this.setState({title:e.taskTitle,assignee:e.assignee,participants:e.participants,createdBy:e.createdBy,isLoading:!1,rfiAction:!1}),[3,3]):[3,1];case 1:return t=this.props.rfiActors.rfiRequester,a=this.props.approvalActors.requester,r="",t.firstName&&(r=t.firstName+" "),t.lastName&&(r+=t.lastName),n=this.props.approvalAdmins.map(function(e){return e.actor}).filter(function(e){return["ANT_GROUP","PRINCIPAL"].includes(e.type)}),this.setState({title:r+"'s request for information",assignee:a,createdBy:t,participants:[t,a],isLoading:!1,rfiAction:!1,adminList:n}),i=[],[4,this.props.fetchParticipantsFromConfigs()];case 2:i=o.sent(),this.setState({additionalList:i||[],additionalListLoading:!1}),o.label=3;case 3:return[2]}})})},RfiForm}(s.Component);t.default=u},679:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(6),s=a(8),l=a(52),c=function(e){function EmployeeSearchBar(t){var a=e.call(this,t)||this;return a.generateUrl=function(){var e=a.props,t=e.includeGroups,r=e.includePeople;return o.SERVICE_ENDPOINTS+o.API_ROUTES.ACTOR_SEARCH+"?people="+(r?1:0)+"&group="+(t?1:0)+"&query="},a.filterResults=function(e){for(var t=[],a=0;a<e.length;a++){var r=e[a],n="PRINCIPAL"===r.type,i=!n&&"ANT_GROUP"===r.type;if(n||i){var o=r.firstName,s=r.lastName,c=r.alias,p=r.departmentName,u=r.title,d=r.type,m=r.groupName,f=n?o+" "+s+" (@"+c+")":m,E=n?u+" "+p:d;r.label=f,r.description=E,r.iconUrl=l.getActorImageLink(r),r.iconAlt="Badge-Photo",t.push(r)}}return t},a.handleSearchActors=function(){var e=a.state.query;e&&e.trim().length>2&&a.searchActors()},a.handleEntitySelect=function(e){var t=e.detail.selectedOption;if(t){var r="PRINCIPAL"===t.type?t.firstName+" "+t.lastName:t.groupName;a.setState({empSelected:t,query:r,options:[]})}},a.addAsRecipient=function(){var e=a.state.empSelected;a.setState({empSelected:null,query:"",options:[],searchFlag:!0}),a.props.handleNewRecipient(e)},a.state={query:"",options:[],url:"",empSelected:null,isError:!1,errorMessage:"",status:"pending"},a}return r(EmployeeSearchBar,e),EmployeeSearchBar.prototype.searchActors=function(){var e=this;this.cancelSource&&this.cancelSource.cancel("New key stroke"),this.cancelSource=s.default.CancelToken.source();var t={cancelToken:this.cancelSource.token},a=this.state.url+encodeURI(this.state.query.trim());this.setState({status:"loading",options:[]}),s.default.get(a,t).then(function(t){var a=t.data;e.cancelSource=void 0;var r=a.isError?[]:a.data;if(0===r.length)e.setState({status:"error",isError:!0,errorMessage:"No matches found for your search. Please revise your search and try again."});else{var n=e.filterResults(r);e.setState({status:"finished",options:n,isError:!1})}}).catch(function(e){console.error(e)})},EmployeeSearchBar.prototype.render=function(){var e=this,t=this.props.placeholder,a=this.state,r=a.status,o=a.query,s=a.options,l=a.isError;return n.createElement("div",{className:"emp-search flex-col"},n.createElement("div",{className:"emp-search-input flex"},n.createElement(i.Autosuggest,{value:o,placeholder:t||"Search people and groups",loadingText:"Searching...",empty:"Search results would appear here!",errorText:l?this.state.errorMessage:"",statusType:r,options:s,disableBrowserAutocorrect:!0,onInput:function(t){e.setState({query:t.detail.value},function(){return e.handleSearchActors()})},onBlur:function(){e.setState({options:[],isError:!1,errorMessage:"",status:"pending"})},onChange:this.handleEntitySelect}),n.createElement(i.Button,{variant:"primary",disabled:!this.state.empSelected,onClick:this.addAsRecipient},"Add")))},EmployeeSearchBar.prototype.componentDidMount=function(){var e=this.generateUrl();this.setState({url:e})},EmployeeSearchBar}(n.Component);t.default=c},680:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseErrorMessage=function(e){var t=/{([^}]+)}/g,a=t.exec(e)[0].replaceAll("\\/","");return JSON.parse(a).message}},681:function(e,t,a){"use strict";function mapStateToProps(e){return{allowToGeneratePreSignedLinkForImage:e.permission.allowToGeneratePreSignedLinkForImage,endedAtStatus:e.HistoryService.endedAtStatus}}function mapDispatchToProps(e){return E.bindActionCreators({checkGeneratePreSignedLinkForImagePermission:h.checkGeneratePreSignedLinkForImagePermission,updateNotification:p.updateNotification},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(682),c=a(7),p=a(10),u=a(5),d=a(8),m=a(4),f=a(683),E=a(23),h=a(233),v=a(151),A=function(e){function ApprovalDocuments(t){var a=e.call(this,t)||this;return a.versionModalTitle="Versions",a.state={approvalRequestId:t.approvalRequestId,documents:t.documents,versionModalVisible:!1,versionModalContent:null,embedImageModalVisible:!1,embedImageModalContent:null,embedImageModalFooter:null,endedAtStatus:a.props.endedAtStatus,createPrivateAttachments:!1,attachmentCurrentlyUpdating:null},a.uploadNewAttachmentVersion=a.uploadNewAttachmentVersion.bind(a),a.updateAttachment=a.updateAttachment.bind(a),a.displayVersions=a.displayVersions.bind(a),a.displayEmbedUrlWarning=a.displayEmbedUrlWarning.bind(a),a.dismissVersionModal=a.dismissVersionModal.bind(a),a.dismissEmbedImageModal=a.dismissEmbedImageModal.bind(a),a}return r(ApprovalDocuments,e),ApprovalDocuments.prototype.componentDidMount=function(){this.thisStore=this,this.props.checkGeneratePreSignedLinkForImagePermission()},ApprovalDocuments.prototype.loadAttachments=function(){var e=this;null!=this.state.approvalRequestId&&(this.setState({isLoading:!0}),d.default.get(m.ServiceEndPoints.document+"?approvalId="+this.state.approvalRequestId).then(function(t){e.setState({isLoading:!1,attachmentCurrentlyUpdating:null,documents:t.data.data})}))},ApprovalDocuments.prototype.onDrop=function(e){var t=e;this.uploadDocument(t,null,null)},ApprovalDocuments.prototype.uploadDocument=function(e,t,a){for(var r=this,n=this,i=this,o=0;o<e.length;o++)!function(o){var s=!1,l=f.createAttachment(e[o],t,a,!1,n.state.approvalRequestId,i.state.createPrivateAttachments),c=new FormData;c.append("file",l.file);var p=m.ServiceEndPoints.document+"?approvalId="+l.approvalId+"&attachmentName="+encodeURIComponent(l.title)+"&privateDocument="+String(l.privateDocument);if(null!=t){p+="&documentId="+t+"&version="+l.version,s=!0;var u=i.state.documents.find(function(e){return e.id==t});u.isProcessing=!0,i.changeDocumentStatus(u,u,!1)}else{var E=i.state.documents;E||(E=[]),E.push(l),i.setState({documents:E})}i.isValidFile(l,s)&&d.default.post(p,c).then(function(e){var t=e.data;t.isError?s?(r.props.updateNotification({value:{id:Math.random(),content:"Failed to upload new version, please try again.",type:"alert",status:"error"}}),r.loadAttachments()):r.changeDocumentStatus(l,null,!0):s?r.loadAttachments():r.changeDocumentStatus(l,t.data,!1)}).catch(function(e){s?(r.props.updateNotification({value:{id:Math.random(),content:"Failed to upload new version, please try again.",type:"alert",status:"error"}}),r.loadAttachments()):r.changeDocumentStatus(l,null,!0)})}(o)},ApprovalDocuments.prototype.dismissVersionModal=function(){this.setState({versionModalVisible:!1,versionModalContent:null})},ApprovalDocuments.prototype.displayEmbedUrlWarning=function(e){return i(this,void 0,void 0,function(){var t,a=this;return o(this,function(r){return t=s.createElement("span",{className:"awsui-util-f-r"},s.createElement("button",{onClick:function(){return a.getPublicUrlClick(e)},className:"btn btn-primary",id:"generatePublicUrl"},"Generate Public URL")),this.setState({embedImageModalVisible:!0,embedImageModalContent:f.EmbedUrlWarningContent,embedImageModalFooter:t}),[2]})})},ApprovalDocuments.prototype.dismissEmbedImageModal=function(){this.setState({embedImageModalVisible:!1,embedImageModalContent:null,embedImageModalFooter:null})},ApprovalDocuments.prototype.getPublicUrlClick=function(e){var t=this,a=e.attachmentVersions[e.attachmentVersions.length-1].fileUri,r=null;d.default.get(m.ServiceEndPoints.getPublicUrl+"?fileUri="+a+"&approvalId="+e.approvalId+"&documentId="+e.id).then(function(e){r=e.data.data,t.dismissEmbedImageModal();var a=f.getPublicUrlContent(r),n=f.getPublicUrlFooter();t.setState({embedImageModalVisible:!0,embedImageModalContent:a,embedImageModalFooter:n})}).catch(function(e){t.props.updateNotification({value:{id:Math.random(),content:"Failed to generate public URL",type:"alert",status:"error"}})})},ApprovalDocuments.prototype.changeDocumentStatus=function(e,t,a){var r=f.setStatus(e,this.state.documents,t,a);this.setState({documents:r})},ApprovalDocuments.prototype.isValidFile=function(e,t){var a;return e.title.indexOf(".")>-1&&(a=e.title.split(".").pop()),a&&f.supportedFiles.has(a.toLocaleLowerCase())?!(e.file.size>f.maxFileSize)||(t?(this.props.updateNotification({value:{id:Math.random(),content:f.fileLargeSizeMessage,type:"alert",status:"error"}}),this.loadAttachments()):(e.errorMessage=f.fileLargeSizeMessage,this.changeDocumentStatus(e,null,!0)),!1):(t?(this.props.updateNotification({value:{id:Math.random(),content:f.fileUnSupportedMessage,type:"alert",status:"error"}}),this.loadAttachments()):(e.errorMessage=f.fileUnSupportedMessage,this.changeDocumentStatus(e,null,!0)),!1)},ApprovalDocuments.prototype.displayVersions=function(e,t){var a=!0,r=!0,i=this.props.approvalStatus,o=this.props.invalidatedAt,l=this.props.endedAtStatus;if(e){var c=this.state.documents.filter(function(t){return t.id==e});if(c&&c[0].attachmentVersions&&c[0].attachmentVersions.length>0){var p=c[0].attachmentVersions.map(function(p){var u=[],d={id:e,approvalId:c[0].approvalId,fileUri:p.fileUri,fileName:p.name,version:p.version,createdBy:p.createdBy,createdAt:p.createdAt};return t&&a&&t<p.createdAt&&(a=!1,u.push(s.createElement(g,{approvalStatus:l,key:"completionStatusWithin"}))),o&&r&&o<p.createdAt&&(r=!1,u.push(s.createElement(g,{approvalStatus:i,key:"invalidationStatusWithin"}))),u.push(s.createElement(R,n({},d,{key:p.id}))),u});t&&a&&p.push(s.createElement(g,{approvalStatus:l,key:"completionStatusAfter"})),o&&r&&p.push(s.createElement(g,{approvalStatus:i,key:"invalidationStatusAfter"})),this.setState({versionModalVisible:!0,versionModalContent:p})}else alert("Not able to get the versions")}},ApprovalDocuments.prototype.render=function(){var e=this,t=[],a=this;return this.state.documents&&this.state.documents.forEach(function(e){e.isProcessing?t.push(s.createElement(y,n({key:e.tempId},e))):e.failed?t.push(s.createElement(_,n({key:e.tempId},e,{onClick:function(){return a.deleteFailedAttachement(e)}}))):t.push(s.createElement(T,n({},e,{key:e.id,onClick:function(){return a.deleteAttachment(e.id,e.approvalId,e.version)},onNewVersionClick:function(t){return a.uploadNewAttachmentVersion(t,e)},privateApprovalsFeatureEnabled:a.props.privateApprovalsFeatureEnabled,approvalIsPrivate:a.props.approvalIsPrivate,onAttachmentUpdate:a.updateAttachment,attachmentCurrentlyUpdating:a.state.attachmentCurrentlyUpdating,displayVersions:function(){return a.displayVersions(e.id,a.props.endedAt)},displayEmbedUrl:function(){return a.displayEmbedUrlWarning(e)},allowToGeneratePreSignedLinkForImage:a.props.allowToGeneratePreSignedLinkForImage,readonly:a.props.readOnly,approvalEndedAt:a.props.endedAt})))}),s.createElement("div",null,s.createElement("div",null,!this.props.readOnly&&s.createElement("div",null,this.props.privateApprovalsFeatureEnabled&&this.props.approvalIsPrivate&&s.createElement(s.Fragment,null,s.createElement(u.Checkbox,{className:"jsHide"}),s.createElement(u.Checkbox,{label:"Upload this attachment as private",className:"awsui-util-p-xs",checked:this.state.createPrivateAttachments,onChange:function(t){return e.setState({createPrivateAttachments:t.detail.checked})}})),s.createElement(l,{onDrop:this.onDrop.bind(this),className:"drag-drop-section",activeClassName:"drag-drop-section-active"},s.createElement("strong",{className:""},"Drag and Drop File(s)"),s.createElement("br",null),s.createElement("span",null,"or"),s.createElement("br",null),s.createElement("a",{href:"javascript:void(0)",className:"site-btn site-btn-dark nm"},"Browse")))),this.props.readOnly&&0==t.length&&s.createElement("h5",null,"There are no attachments associated with this approval request"),t,s.createElement("div",{className:"awsui-util-clearfix"}),s.createElement(u.Modal,{visible:this.state.versionModalVisible,content:this.state.versionModalContent,header:s.createElement("span",{className:"nobackgroundcolor"},"Versions"),size:"large",onDismiss:this.dismissVersionModal}),s.createElement(u.Modal,{id:"embedImageModal",visible:this.state.embedImageModalVisible,content:this.state.embedImageModalContent,header:s.createElement("span",{className:"nobackgroundcolor"},"Get public URL for Summary"),size:"large",onDismiss:this.dismissEmbedImageModal,footer:this.state.embedImageModalFooter}))},ApprovalDocuments.prototype.uploadNewAttachmentVersion=function(e,t){e.target.files&&e.target.files.length>0&&this.uploadDocument(e.target.files,e.target.id,t.version)},ApprovalDocuments.prototype.updateAttachment=function(e,t){var a=this;this.setState({attachmentCurrentlyUpdating:e.id});var r=e.attachmentVersions[e.attachmentVersions.length-1].fileUri,n=e.attachmentVersions[e.attachmentVersions.length-1].name,i={approvalId:e.approvalId,attachmentName:n,attachmentFileUri:r,documentId:e.id,version:e.version,privateDocument:String(t)},o=new URLSearchParams;o.append("payload",JSON.stringify(i)),d.default.request({method:"PUT",url:m.ServiceEndPoints.document,params:o}).then(function(e){e.data.isError?(a.props.updateNotification({value:{id:Math.random(),content:"Failed to upload new version, please try again.",type:"alert",status:"error"}}),a.loadAttachments()):a.loadAttachments()}).catch(function(e){a.props.updateNotification({value:{id:Math.random(),content:"Failed to upload new version, please try again.",type:"alert",status:"error"}}),a.loadAttachments()})},ApprovalDocuments.prototype.deleteAttachment=function(e,t,a){var r=this,n=m.ServiceEndPoints.document+"?approvalId="+t+"&documentId="+e+"&version="+a,i=this.state.documents.find(function(t){return t.id==e});i.isProcessing=!1,i.isUpdating=!0,this.changeDocumentStatus(i,i,!1),d.default.delete(n).then(function(e){200!=e.status?(r.props.updateNotification({value:{id:Math.random(),content:"Failed to delete the attachment.",type:"alert",status:"error"}}),r.loadAttachments()):r.loadAttachments()}).catch(function(e){r.props.updateNotification({value:{id:Math.random(),content:"Failed to delete the attachment.",type:"alert",status:"error"}}),r.loadAttachments()})},ApprovalDocuments.prototype.deleteFailedAttachement=function(e){var t=this.state.documents.find(function(t){return t.id==e.id}),a=this.state.documents.indexOf(t);if(-1!=a){var r=this.state.documents.slice();r.splice(a,1),this.setState({documents:r})}},ApprovalDocuments}(s.Component),g=function(e){return s.createElement("div",{className:"document-completionBox-row correspondence-completionBox-row"},s.createElement("div",{className:"correspondence-completionBox-line"}),s.createElement("span",{className:"document-completionBox-text correspondence-completionBox-text "},"Attachments below this line have been added after the approval was ",v.getStatusWithColor(e.approvalStatus)),s.createElement("div",{className:"correspondence-completionBox-line"}))},T=function(e){function invokeFileUploadCtrl(e){o.click()}var t,a,r,n,i,o,l=1,c="",p=!e.approvalEndedAt&&!e.readonly,d=!1,E="",h=e.privateApprovalsFeatureEnabled&&e.approvalIsPrivate,v=e.attachmentCurrentlyUpdating===e.id,A=h&&e.privateDocument?s.createElement(N,null):s.createElement("div",{className:"private-attachment jsHide"}),g=v?s.createElement(u.Spinner,null):A;return e.attachmentVersions&&e.attachmentVersions.length>0&&(l=e.attachmentVersions.length,a=e.attachmentVersions[l-1].fileUri,r=e.attachmentVersions[l-1].name,i=e.attachmentVersions[l-1].createdBy.displayName,n=new Date(e.attachmentVersions[l-1].createdAt).toLocaleDateString()),r&&(c=f.getFileExtClassName(r)),e.createdAt&&(t=new Date(e.createdAt).toLocaleDateString()),e.approvalEndedAt&&e.approvalEndedAt<e.createdAt?(p=!0,d=!0,E="attachedDocThumbPostCompletion"):e.attachmentVersions&&e.attachmentVersions.length>0&&e.approvalEndedAt&&e.approvalEndedAt<e.attachmentVersions[l-1].createdAt&&(E="attachedDocThumbPostCompletion",p=!1,d=!0),e.readonly?s.createElement("div",{key:e.id,className:"docColumn"},s.createElement("div",{className:E+" attachedDocThumb "+c},s.createElement("a",{href:m.ServiceEndPoints.downloadAttachment+"?approvalId="+encodeURIComponent(e.approvalId)+"&documentId="+encodeURIComponent(e.id)+"&fileUri="+encodeURIComponent(a)+"&fileName="+encodeURIComponent(r)},s.createElement("p",{className:"docTitle"},r)),s.createElement("p",{className:"versionUploadDate"},"Latest version uploaded ",n,"Â  by"," ",i," "),s.createElement("p",{className:"versionUploadDate"},"File originally uploaded on ",t,"Â  by"," ",e.createdBy.displayName),s.createElement("div",{className:"attachment-icon-container"},g,e.isUpdating?s.createElement("div",{className:"version"},s.createElement(u.Spinner,null)):s.createElement("div",{className:"version"},"V",l))),s.createElement("p",{className:"doc-nav"},s.createElement("a",{href:"#3433",className:"dropdown-list",onClick:e.displayVersions},"View all versions"),e.allowToGeneratePreSignedLinkForImage&&"imageIcon"===f.getFileExtClassName(r)?s.createElement(s.Fragment,null,s.createElement("span",{className:"hrVert"}),s.createElement("a",{href:"#3434",className:"dropdown-item",onClick:e.displayEmbedUrl,id:"getPublicUrlForSummaryLink"},"Get public URL for Summary")):null,s.createElement("div",{className:d?"":"displayNone"},s.createElement("span",{className:"hrVert"}),s.createElement("p",{className:"versionUploadDate"},"Â Â Added After Completion")))):s.createElement("div",{key:e.id,className:"docColumn"},s.createElement("div",{className:E+" attachedDocThumb "+c},s.createElement("a",{href:m.ServiceEndPoints.downloadAttachment+"?approvalId="+encodeURIComponent(e.approvalId)+"&documentId="+encodeURIComponent(e.id)+"&fileUri="+encodeURIComponent(a)+"&fileName="+encodeURIComponent(r)},s.createElement("p",{className:"docTitle"},r)),s.createElement("p",{className:"versionUploadDate"},"Latest version uploaded ",n,"Â  by"," ",i," "),s.createElement("p",{className:"versionUploadDate"},"File originally uploaded on ",t,"Â  by"," ",e.createdBy.displayName),h&&s.createElement("div",{className:"awsui-util-p-xs private-attachment-checkbox","data-testid":"draft-page__private-attachment-checkbox"},s.createElement(u.Checkbox,{label:"Private attachment",checked:e.privateDocument,disabled:v,onChange:function(t){return e.onAttachmentUpdate(e,t.detail.checked)}})),s.createElement("div",{className:"attachment-icon-container"},g,e.isUpdating?s.createElement("div",{className:"version"},s.createElement(u.Spinner,null)):s.createElement("div",{className:"version"},"V",l)),s.createElement("span",{className:p?"delete":"displayNone",onClick:function(){e.isUpdating||e.onClick()}})),s.createElement("p",{className:"doc-nav"},s.createElement("a",{href:"#3r432",onClick:invokeFileUploadCtrl},s.createElement("input",{type:"file",ref:function(e){return o=e},className:"displayNone",onChange:e.onNewVersionClick,id:e.id}),s.createElement("span",{className:"addCircleSmall"},"+"),"Â Â Upload new")," ",s.createElement("span",{className:"hrVert"}),s.createElement("a",{href:"#3433",className:"dropdown-list",onClick:e.displayVersions},"View all versions"),e.allowToGeneratePreSignedLinkForImage&&"imageIcon"===f.getFileExtClassName(r)?s.createElement(s.Fragment,null,s.createElement("span",{className:"hrVert"}),s.createElement("a",{href:"#3434",className:"dropdown-item",onClick:e.displayEmbedUrl},"Get public URL for Summary")):null,s.createElement("div",{className:d?"":"displayNone"},s.createElement("span",{className:"hrVert"}),s.createElement("p",{className:"versionUploadDate"},"Â Â Added After Completion"))))},y=function(e){return s.createElement("div",{key:e.tempId,className:"docColumn"},s.createElement("div",{className:"attachedDocThumb"},s.createElement("a",{href:"#"},s.createElement("p",{className:"docTitle"},e.title)),s.createElement("p",{className:"uploadingText"},s.createElement(u.Spinner,null)," Uploading document")))},_=function(e){var t="Failed to upload document, please try again.";return e.errorMessage&&(t=e.errorMessage),s.createElement("div",{key:e.tempId,className:"docColumn"},s.createElement("div",{className:"attachedDocThumb"},s.createElement("a",{href:"#"},s.createElement("p",{className:"docTitle"},e.title)),s.createElement("p",{className:"awsui-util-status-negative"},t," "),s.createElement("div",{className:"version-warning"},s.createElement(u.Icon,{variant:"error",name:"status-warning"})),s.createElement("span",{className:"delete",onClick:e.onClick})))},N=function(){return s.createElement("div",{className:"private-attachment","data-testid":"detail-page__attachment-private-badge"},s.createElement(u.Badge,{color:"grey"},s.createElement("i",{className:"fa fas fa-user-secret fa-lg"}),"Â Private"))},R=function(e){var t,a=e.id,r=e.approvalId,n=e.fileUri,i=e.fileName,o=e.version,l=e.createdBy,c=e.createdAt;c&&(t=new Date(c).toLocaleDateString());var p;return i&&(p=f.getFileExtClassName(i)),s.createElement("div",{key:e.id,className:"versiondoc_Column"},s.createElement("div",{className:"attachedDocThumb "+p},s.createElement("a",{href:m.ServiceEndPoints.downloadAttachment+"?approvalId="+encodeURIComponent(r)+"&documentId="+encodeURIComponent(a)+"&fileUri="+encodeURIComponent(n)+"&fileName="+encodeURIComponent(i)},s.createElement("p",{className:"docTitle"},i)),s.createElement("p",{className:"versionUploadDate"},"Document version number - ",o),s.createElement("p",{className:"versionUploadDate"},"Version uploaded by ",l.displayName," on ",t)))};t.default=c.connect(mapStateToProps,mapDispatchToProps)(A)},683:function(e,t,a){"use strict";var r=this;Object.defineProperty(t,"__esModule",{value:!0});var n=a(1255),i=a(0),o=a(1256);t.supportedFiles=new Set(["pdf","xlsx","docx","csv","msg","jpg","png","xlsm","pptx","xlsb","doc","jpeg","eml","xls","mp4","html","dwg","txt","docm","mpp","tif","mov","json","jfif","htm","obj","pub","drawio","ics","gif","dotx","mpx","ppt","bak","xml","vsdx","pbix","rtf","cdc","kmz","geojson","url","psd","odt","dsn","oft","stl","mbd","bmp","eps","nwd","xltx","stp","rsdoc","numbers","avi","ai","mht","brd","log","svg","webp","acd","ods","opj","ssm","tiff","step","heic","ink","pages","md","emltpl","rdb","kml","x_t","sat","glb","xhtml","tmp","zip"]),t.fileUnSupportedMessage="File type is not supported",t.fileLargeSizeMessage="File size larger than 500 MB is not supported.",t.maxFileSize=5e8,t.EmbedUrlWarningContent=i.createElement("span",null,"You are generating a ",i.createElement("b",null,"public")," URL for ",i.createElement("b",null,"this version")," of your image. You should only use this URL in the Approval Summary section."," ",i.createElement("b",null,"After seven days, the image will no longer be viewable in the summary section, and will have to be updated manually.")," ","You will need to regenerate the URL if you upload a new version of the image."),t.EmbedUrlInstructions=i.createElement("span",null,i.createElement("h4",null,"Instructions"),i.createElement("ol",{className:"embedImageInstructions"},i.createElement("li",null,'Click "Copy URL to clipboard"'),i.createElement("li",null,"Click on the pencil icon of the summary section to edit the summary"),i.createElement("li",null,"Click on the insert image icon"),i.createElement("li",null,'When the popup screen appears, paste the URL provided into the URL field and click "OK"'),i.createElement("li",null,"Click on the check mark to save changes to the Summary"))),t.getFileExtClassName=function(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"pdfIcon";case"xlsx":case"xlsm":case"xls":return"excelIcon";case"doc":case"docx":return"wordIcon";case"pptx":case"ppt":return"powerpointIcon";case"csv":return"csvIcon";case"jpg":case"jpeg":case"png":case"tiff":case"gif":return"imageIcon";case"eml":case"msg":return"emailIcon"}return""},t.copyToClipboard=function(e,t){var a=document.getElementById(t),r=document.createElement("textarea");r.value=a.value,document.body.appendChild(r),r.select(),document.execCommand("copy")?(e.props.updateNotification({value:{id:Math.random(),content:"URL copied successfully",type:"alert",status:"success",duration:2e3}}),e.dismissEmbedImageModal()):e.props.updateNotification({value:{id:Math.random(),content:"Failed to copy URL",type:"alert",status:"error",duration:2e3}}),document.body.removeChild(r)},t.createAttachment=function(e,t,a,r,i,s){var l;return r?(l=new n.TemplateAttachment,l.templateId=i):(l=new o.ApprovalDocument,l.approvalId=i),l.title=e.name,l.isProcessing=!0,l.file=e,l.version=a,l.id=Math.random().toString(),l.privateDocument=!!s,l},t.getPublicUrlContent=function(e){return i.createElement("div",{className:"awsui-modal-content"},t.EmbedUrlInstructions,i.createElement("span",null,i.createElement("h4",null,"Public URL:"),i.createElement("h5",null,i.createElement("a",{href:e,id:"publicUrl"},e),i.createElement("input",{type:"hidden",id:"public-url-hidden-input",value:e}))))},t.getPublicUrlFooter=function(){return i.createElement("span",{className:"awsui-util-f-r"},i.createElement("button",{onClick:function(){return t.copyToClipboard(r,"public-url-hidden-input")},className:"btn btn-primary",id:"copyUrlToClipboard"},"Copy URL to Clipboard"))},t.setStatus=function(e,t,a,r){var n=t.find(function(t){return t.id==e.id}),i=t.indexOf(n),o=t.slice();return r?(e.failed=!0,e.isProcessing=!1,o[i]=e):o[i]=a,o}},684:function(e,t,a){"use strict";function showPeopleModal(e,t){return{type:r.SHOW_MODAL,modalProps:{modalHeader:e,modalType:t}}}function hidePeopleModal(){return{type:r.HIDE_MODAL,showModal:!1,modalProps:{modalHeader:"",modalType:""}}}function selectedPerson(e,t){return{type:r.SELECTED_PERSON,modalSelected:{alias:e,modalType:t}}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(220);t.showPeopleModal=showPeopleModal,t.hidePeopleModal=hidePeopleModal,t.selectedPerson=selectedPerson},685:function(e,t,a){"use strict";function mapStateToProps(e){return{}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(7),c=a(225),p=a(6),u=a(10),d=a(686),m=a(687),f=a(37),E=a(712),h=function(e){function AttributesContainer(t){var a=e.call(this,t)||this;return a.state={readOnly:!0,attributeSelectOptions:{attributeId:null,visible:!1},attributes:a.props.attributes||[],showHistory:!1},a.showHistory=a.showHistory.bind(a),a.closeHistory=a.closeHistory.bind(a),null!=a.props.saveUnsavedAttrubutes&&a.props.saveUnsavedAttrubutes(a.saveUnsavedAttributes.bind(a)),a}return r(AttributesContainer,e),AttributesContainer.prototype.upsertAttributeLocal=function(e){if(e.type==p.ATTRIBUTE_TYPE.SINGLE_DROPDOWN||e.type==p.ATTRIBUTE_TYPE.MULTI_DROPDOWN){try{JSON.parse(e.value).forEach(function(e){if(1!=e.selected&&0!=e.selected)throw"invalid selected";if(!e.value)throw"invalid value"}),e.value}catch(t){console.log("exception"),e.value="[]",this.setState({attributeSelectOptions:{visible:!0,attributeId:e.id}})}if(e.type==p.ATTRIBUTE_TYPE.SINGLE_DROPDOWN){var t=!1;e.value=JSON.stringify(JSON.parse(e.value).map(function(e){return!t&&e.selected?(t=!0,{selected:!0,value:e.value}):{selected:!1,value:e.value}}))}}else e.type==p.ATTRIBUTE_TYPE.CURRENCY||e.type==p.ATTRIBUTE_TYPE.NUMERIC?(e.type==p.ATTRIBUTE_TYPE.CURRENCY&&e.parameter&&!e.parameter.startsWith("CURRENCY")&&(e.parameter=null),e.value=isNaN(parseFloat((e.value||"").replace(/,/g,"")))?null:e.value):e.type==p.ATTRIBUTE_TYPE.CALENDAR?e.value?e.value=isNaN(Date.parse(e.value))?(new Date).toISOString():new Date(e.value).toISOString():e.value="":e.type==p.ATTRIBUTE_TYPE.PHONE_NUMBER?(e.parameter&&!e.parameter.startsWith("PHONE")&&(e.parameter=null),e.value&&e.value.length>15&&(e.value=e.value.substr(0,15))):e.type==p.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER&&(e.name="Unique Identifier");if(e.type!=p.ATTRIBUTE_TYPE.UNIQUE_IDENTIFIER&&"Unique Identifier"==e.name&&(e.name=""),e._isValid=!!e.name,e.type==p.ATTRIBUTE_TYPE.SIMPLE_TEXT&&e.value&&e.value.length>0&&"\n"==e.value[e.value.length-1])return e.value=e.value.slice(0,-1),void this.saveAttribute(e);var a=this.state.attributes,r=a[e.id];this.isAttributeChanged(r,e)&&this.props.dispatch(c.addUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:p.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS,changedItem:e.id}})),a[e.id]=n({},r,e),this.setState({attributes:a})},AttributesContainer.prototype.isAttributeChanged=function(e,t){var a=!1,r=null!=e?e.value:"",n=null!=t?t.value:"";return null==e||e.type!=p.ATTRIBUTE_TYPE.CURRENCY&&t.type!=p.ATTRIBUTE_TYPE.NUMERIC||(r=(isNaN(parseFloat(e.value))?"":parseFloat(e.value)).toString()),null==t||t.type!=p.ATTRIBUTE_TYPE.CURRENCY&&t.type!=p.ATTRIBUTE_TYPE.NUMERIC||(n=(isNaN(parseFloat(t.value))?"":parseFloat(t.value)).toString()),"new"==t.id?a=!0:null==e?a=!1:r==n&&e.name==t.name&&e.description===t.description&&e.parameter==t.parameter&&e.type==t.type||(a=!0),a},AttributesContainer.prototype.deleteAttributeLocal=function(e){var t=this.state.attributes;delete t[e],this.setState({attributes:t})},AttributesContainer.prototype.getNewKeyTerm=function(){return{approvalId:this.props.approvalId,id:"new",sortOrder:Object.keys(this.state.attributes).length+1,type:p.ATTRIBUTE_TYPE.SIMPLE_TEXT,name:"",description:"",parameter:"",value:"",locked:!1,required:!1,version:0,canChangeValue:!0,canChangeName:!0,canChangeRequired:!0,canChangeLocked:!0,_isValid:!0,_saving:!1,_editing:!0,_type:"approval",_unsave:!0,_canEdit:!0,_canDelete:!1,_canUnlock:!0}},AttributesContainer.prototype.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},AttributesContainer.prototype.deleteAttribute=function(e){return i(this,void 0,void 0,function(){var t,a,r,i,s,l;return o(this,function(o){switch(o.label){case 0:t=this.props,a=t.attributes,r=t.approvalId,a=0==this.state.attributes.length?a:this.state.attributes,i=a[e],s=i.sortOrder,o.label=1;case 1:return o.trys.push([1,5,,6]),"new"==e?[3,3]:(this.upsertAttributeLocal(n({},i,{_saving:!0})),[4,f.default({method:"DELETE_APPROVAL_ATTRIBUTE",payload:JSON.stringify({approvalId:r,attributeId:e,version:i.version})})]);case 2:return o.sent(),delete a[e],Object.keys(a).forEach(function(e){var t=a[e];t.sortOrder>s&&(t.sortOrder--,t.version++)}),this.setState({attributes:a}),this.props.dispatch(c.removeUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:p.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS,changedItem:e}})),[3,4];case 3:this.deleteAttributeLocal(e),this.props.dispatch(c.removeUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:p.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS,changedItem:"new"}})),o.label=4;case 4:return[3,6];case 5:return l=o.sent(),this.props.dispatch(u.updateNotification({value:{id:Math.random(),content:l.message,type:"alert",status:"error"}})),this.upsertAttributeLocal(n({},i,{_saving:!1})),[3,6];case 6:return[2]}})})},AttributesContainer.prototype.updateSortOrder=function(e,t){return i(this,void 0,void 0,function(){var a,r,n,i;return o(this,function(o){switch(o.label){case 0:return a=this.getAttributes(),r=a[e],n=t>r.sortOrder?"UP":"DOWN",i=r.sortOrder,r.sortOrder=t,Object.keys(a).forEach(function(r){var o=a[r];o.id!=e&&("DOWN"==n&&o.sortOrder>=t&&o.sortOrder<i?(o.sortOrder++,o.version++):"UP"==n&&o.sortOrder<=t&&o.sortOrder>i&&(o.sortOrder--,o.version++))}),[4,this.saveAttribute(r)];case 1:return o.sent(),r.version++,this.setState({attributes:a}),[2]}})})},AttributesContainer.prototype.saveAttributeById=function(e){return i(this,void 0,void 0,function(){var t,a,r;return o(this,function(n){switch(n.label){case 0:return t=this.getAttributes(),a=t[e],r=d.toAttributeInput(a),[4,this.saveAttribute(a)];case 1:return n.sent(),[2]}})})},AttributesContainer.prototype.saveUnsavedAttributes=function(e){return i(this,void 0,void 0,function(){var t,a,r,n;return o(this,function(i){switch(i.label){case 0:t=this.getAttributes(),a=0,i.label=1;case 1:return a<e.length?(r=e[a],n=t[r],null==n?[3,3]:[4,this.saveAttribute(n)]):[3,4];case 2:i.sent(),console.log("saved"),i.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},AttributesContainer.prototype.saveAttribute=function(e){return i(this,void 0,void 0,function(){var t,a,r,i,s,l,m;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),(t=this.props.approvalId,a=d.toAttributeInput(e),this.upsertAttributeLocal(n({},e,{_saving:!0})),r=void 0,e._unsave)?(i=a,i.id=void 0,i.version=void 0,[4,f.default({method:"CREATE_APPROVAL_ATTRIBUTE",payload:JSON.stringify(n({},a,{approvalId:t})),approvalId:t})]):[3,2];case 1:return r=o.sent(),this.deleteAttributeLocal("new"),this.props.dispatch(c.removeUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:p.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS,changedItem:"new"}})),[3,4];case 2:return s=a,s.attributeId=a.id,s.id=void 0,[4,f.default({method:"UPDATE_APPROVAL_ATTRIBUTE",payload:JSON.stringify(n({},a,{approvalId:t}))})];case 3:r=o.sent(),this.props.dispatch(c.removeUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:p.APPROVAL_DETAILS_UI_SECTIONS.KEY_DETAILS,changedItem:e.id}})),o.label=4;case 4:return l=n({},e,r.attribute,{_unsave:!1}),l._saving=!1,l._editing=!1,this.upsertAttributeLocal(l),[3,6];case 5:return m=o.sent(),this.props.dispatch(u.updateNotification({value:{id:Math.random(),content:m.message,type:"alert",status:"error"}})),this.upsertAttributeLocal(n({},e,{_saving:!1})),[3,6];case 6:return[2]}})})},AttributesContainer.prototype.getAttributes=function(){var e=this.state.attributes;return n({},n({new:this.getNewKeyTerm()},e))},AttributesContainer.prototype.getSelectOptionsProps=function(){var e=this,t=this.state.attributeSelectOptions,a=(t.visible,t.attributeId),r={save:null,value:null,close:null,visible:!1,attributeName:null};if(!a)return r;var i=this.getAttributes(),o=i[a];return o.type!=p.ATTRIBUTE_TYPE.MULTI_DROPDOWN&&o.type!=p.ATTRIBUTE_TYPE.SINGLE_DROPDOWN?r:{save:function(t){var a={};try{JSON.parse(o.value).forEach(function(e){if(!e.value)throw"";a[e.value]=e.selected})}catch(e){}t=JSON.stringify(t.split("\n").filter(function(e,t,a){return e&&e.length>0&&a.indexOf(e)==t}).map(function(e){return{value:e,selected:a[e]||!1}})),o._editing?e.upsertAttributeLocal(n({},o,{value:t})):e.saveAttribute(n({},o,{value:t})),e.setState({attributeSelectOptions:{attributeId:null,visible:!1}})},value:JSON.parse(o.value).map(function(e){return e.value}).join("\n"),close:function(){e.setState({attributeSelectOptions:{attributeId:null,visible:!1}})},visible:this.state.attributeSelectOptions.visible,attributeName:o.name}},AttributesContainer.prototype.updateAttribute=function(e,t){return i(this,void 0,void 0,function(){var a,r;return o(this,function(i){switch(i.label){case 0:return a=this.getAttributes(),r=n({},a[e],t),"new"!=r.id?[3,2]:[4,this.saveAttribute(r)];case 1:return i.sent(),[3,4];case 2:return[4,this.saveAttribute(r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},AttributesContainer.prototype.showHistory=function(){this.setState({showHistory:!0})},AttributesContainer.prototype.closeHistory=function(){this.setState({showHistory:!1})},AttributesContainer.prototype.render=function(){var e=this,t=this.props,a=t.approvalId,r=t.isEditPage,n=t.showEditOption,i=t.privateApprovalsFeatureEnabled,o=t.approvalIsPrivate,l=this.getAttributes(),c=!r&&this.state.readOnly;return a?s.createElement("div",null,s.createElement(m.default,{attributes:l,upsertAttributeLocal:this.upsertAttributeLocal.bind(this),deleteAttribute:this.deleteAttribute.bind(this),saveAttribute:this.saveAttributeById.bind(this),updateSortOrder:this.updateSortOrder.bind(this),selectOptionsProps:this.getSelectOptionsProps(),updateAttribute:this.updateAttribute.bind(this),readOnly:c,showEditOption:n,showRulesInfo:this.props.showRulesInfo,toggleReadOnly:function(){e.setState({readOnly:!e.state.readOnly})},showAttributeSelectOptions:function(t){e.setState({attributeSelectOptions:{visible:!0,attributeId:t}})},description:"Structured details you want to capture for approvers or reporting. The lock button and Options allow you to lock values or specify value formats.",privateApprovalsFeatureEnabled:i,approvalIsPrivate:o}),s.createElement("div",{className:"awsui-util-t-r awsui-util-mr-m"},s.createElement("a",{className:"awsui-util-t-r",href:"javascript:void(0)",onClick:this.showHistory},"View audit history")),s.createElement(E.default,{attributes:l,visible:this.state.showHistory,close:this.closeHistory,id:a,isTemplate:!1})):null},AttributesContainer}(s.Component);t.default=l.connect(mapStateToProps)(h)},686:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),n=function(){function AttributeInput(){}return AttributeInput}();t.default=n,t.toAttributeInput=function(e){var t={id:e.id,locked:e.locked,name:e.name,description:e.description,required:e.required,sortOrder:e.sortOrder,type:e.type,value:e.value,version:e.version,privateAttribute:e.privateAttribute};return t.value&&t.value.length>1&&(t.value=t.value.trim()),e.type!=r.KEY_DETAILS_TYPE.CURRENCY&&e.type!=r.KEY_DETAILS_TYPE.PHONE_NUMBER||(t.parameter=e.parameter),""==t.parameter&&(t.parameter=null),t}},687:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(1258),s=a(1267),l=a(78),c=a(5),p=function(e,t,a){return n({cursor:0==a?"move":"unset"},t)},u=function(e){function default_1(t){var a=e.call(this,t)||this;return a.onDragEnd=a.onDragEnd.bind(a),a}return r(default_1,e),default_1.prototype.onDragEnd=function(e){if(e.destination&&"KeyDetails"==e.source.droppableId){var t=this.props.attributes[e.draggableId.split("_")[1]];this.props.updateSortOrder(t.id,e.destination.index+1)}},default_1.prototype.render=function(){var e=this,t=this.props,a=t.attributes,r=t.selectOptionsProps,u=t.readOnly,d=t.showEditOption,m=t.privateApprovalsFeatureEnabled,f=t.approvalIsPrivate,E=Object.keys(a).map(function(e){return a[e]}).sort(function(e,t){return e.sortOrder-t.sortOrder}).filter(function(e){return"new"!=e.id}).map(function(t,a){return console.log(!(u&&"new"==t.id)),(1==t.lockedFromTemplate||0==t.canChangeName&&0==t.canChangeValue)&&(t._editing=!1),i.createElement(l.Draggable,{key:"Attribute_"+t.id,draggableId:"Attribute_"+t.id+"_"+a,index:a,type:"KeyDetails",isDragDisabled:1==t._editing||1==u},function(r,s){return i.createElement("div",null,i.createElement("div",n({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{style:p(s.isDragging,r.draggableProps.style,1==t._editing||1==u)}),i.createElement(o.default,{key:a,attribute:t,index:a,upsertAttributeLocal:e.props.upsertAttributeLocal,deleteAttribute:e.props.deleteAttribute.bind(null,t.id),saveAttribute:e.props.saveAttribute.bind(null,t.id),updateAttribute:e.props.updateAttribute.bind(null,t.id),showAttributeSelectOptions:e.props.showAttributeSelectOptions.bind(null,t.id),readOnly:u,showRulesInfo:e.props.showRulesInfo,privateApprovalsFeatureEnabled:m,approvalIsPrivate:f})),r.placeholder)})}),h=Object.keys(a).map(function(e){return a[e]}).sort(function(e,t){return e.sortOrder-t.sortOrder}).filter(function(e){return 0==u&&"new"==e.id}).map(function(t,a){return i.createElement(o.default,{key:a,attribute:t,index:a,upsertAttributeLocal:e.props.upsertAttributeLocal,deleteAttribute:e.props.deleteAttribute.bind(null,t.id),saveAttribute:e.props.saveAttribute.bind(null,t.id),updateAttribute:e.props.updateAttribute.bind(null,t.id),showAttributeSelectOptions:e.props.showAttributeSelectOptions.bind(null,t.id),readOnly:u,showRulesInfo:e.props.showRulesInfo,privateApprovalsFeatureEnabled:m,approvalIsPrivate:f})});return i.createElement(l.DragDropContext,{onDragEnd:this.onDragEnd},i.createElement(c.FormSection,{id:"keyDetailsSection",header:i.createElement("div",null,i.createElement("span",{"data-testid":"detail-page__key-details-title"},"Key DetailsÂ Â ",i.createElement("span",{className:"editOption"},i.createElement(c.Tooltip,{text:u?"Modify Key details":"Close"},i.createElement("i",{onClick:this.props.toggleReadOnly,className:"fa editOption fa-lg "+(u?"fa-pencil fa-lg":"fa-check fa-lg")}))))),description:this.props.description,className:"attribute-component "+(u?"read-only":"editable")+" "+(d?"show-edit-option":"hide-edit-option")},i.createElement(s.default,{save:r.save,value:r.value,close:r.close,visible:r.visible,attributeName:r.attributeName}),i.createElement("div",{className:"attributeHeader attribute-row"},i.createElement("div",{className:"reorder-handle"}),i.createElement("div",{className:"details details-and-description","data-testid":"detail-page__key-details-name-type-value-header"},i.createElement("div",{className:"name"},i.createElement("b",null,"Name")),i.createElement("div",{className:"type"},i.createElement("b",null,"Type")),i.createElement("div",{className:"value"},i.createElement("b",null,"Value"))),i.createElement("div",{className:"action-bar"})),i.createElement(l.Droppable,{droppableId:"KeyDetails",ignoreContainerClipping:!0,isDropDisabled:!1,type:"KeyDetails"},function(e,t){return i.createElement("div",n({ref:e.innerRef},e.droppableProps,{style:{border:t.isDraggingOver?"dashed 1px black":"dashed 1px transparent",backgroundColor:t.isDraggingOver?"lightblue":"transparent"},className:"saved-rows "+(t.isDraggingOver?"is-dragging-over":"not-dragging-over")}),E,e.placeholder)}),h))},default_1}(i.Component);t.default=u},712:function(e,t,a){"use strict";function mapStateToProps(e){return{history:e.HistoryService.history,isLoading:e.HistoryService.isLoading}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(7),o=a(141),s=a(5),l=a(223),c=a(1),p=function(e){function AttributeHistoryComponent(t){var a=e.call(this,t)||this;return a.state={history:[],isLoading:!1},a}return r(AttributeHistoryComponent,e),AttributeHistoryComponent.prototype.componentWillReceiveProps=function(e){e.visible!=this.props.visible&&1==e.visible&&this.props.getAllAttributeHistory(this.props.id,this.props.isTemplate)},AttributeHistoryComponent.prototype.getParsedAttributes=function(e){if(null!=e){for(var t=[],a={},r=0;r<e.length;r++){var n=e[r],i="",s="",l=!1;if(null==n.attributeAfter&&null!=n.attributeBefore)i=n.attributeBefore.id,s="Delete",l=!0;else if(null!=n.attributeAfter&&null==n.attributeBefore)i=n.attributeAfter.id,s="Create",l=!1;else if(null!=n.attributeAfter&&null!=n.attributeBefore){if(n.attributeAfter.sortOrder!=n.attributeAfter.attributeBefore)continue;i=n.attributeAfter.id,s="Update",l=!1}null==a[i]&&(t.push({deleted:l,attributeId:i,name:this.getAttributeName(this.props.attributes[i],e,i)}),a[i]={name:this.getAttributeName(this.props.attributes[i],e,i),attribute:this.props.attributes[i],history:[]}),a[i].history.push({id:i,action:s,changedAt:n.changedAt,historyItem:n})}for(var p=[],r=0;r<t.length;r++)if(p.push({name:t[r].name,action:"",deleted:t[r].deleted,property:"",from:"",to:"",at:""}),null!=a[t[r].attributeId].history)for(var u=0;u<a[t[r].attributeId].history.length;u++){var d=a[t[r].attributeId].history[u].historyItem,m=[],f="",E=null,h="",s="";null==d.attributeAfter&&null!=d.attributeBefore?s="deleted":null!=d.attributeAfter&&null==d.attributeBefore?s="created":null!=d.attributeAfter&&null!=d.attributeBefore&&(s="updated"),null!=d.attributeAfter&&"CREATE_APPROVAL_FROM_TEMPLATE"==d.action?(f="Value",E=o.getDisplayTextFromParam(d.attributeAfter.parameter)+" "+o.getDisplayTextFromValue(d.attributeAfter.value,d.attributeAfter.type),m.push({changedProperty:f,changedTo:E,changedFrom:h})):null!=d.attributeAfter&&"CREATE_ATTRIBUTE"==d.action?(f="Value",E=o.getDisplayTextFromParam(d.attributeAfter.parameter)+" "+o.getDisplayTextFromValue(d.attributeAfter.value,d.attributeAfter.type),m.push({changedProperty:f,changedTo:E,changedFrom:h})):null!=d.attributeAfter&&null!=d.attributeAfter.value?(f="Value",E=o.getDisplayTextFromParam(d.attributeAfter.parameter)+o.getDisplayTextFromValue(d.attributeAfter.value,d.attributeAfter.type),null!=d.attributeBefore&&null!=d.attributeBefore.value&&(h=o.getDisplayTextFromValue(d.attributeBefore.value,d.attributeBefore.type)),m.push({changedProperty:f,changedTo:E,changedFrom:h})):null!=d.attributeAfter&&null!=d.attributeAfter.type?(f="Type",E=d.attributeAfter.type,null!=d.attributeBefore&&null!=d.attributeBefore.type&&(h=d.attributeBefore.type),m.push({changedProperty:f,changedTo:E,changedFrom:h})):null!=d.attributeAfter&&null!=d.attributeAfter.name?(f="Name",E=d.attributeAfter.name,null!=d.attributeBefore&&null!=d.attributeBefore.name&&(h=d.attributeBefore.name),m.push({changedProperty:f,changedTo:E,changedFrom:h})):null!=d.attributeAfter&&null!=d.attributeAfter.required?(f="Required",E=d.attributeAfter.required,null!=d.attributeBefore&&null!=d.attributeBefore.required&&(h=d.attributeBefore.required),m.push({changedProperty:f,changedTo:E,changedFrom:h})):null!=d.attributeAfter&&null!=d.attributeAfter.locked&&(f="Locked",E=d.attributeAfter.locked,null!=d.attributeBefore&&null!=d.attributeBefore.locked&&(h=d.attributeBefore.locked),m.push({changedProperty:f,changedTo:E,changedFrom:h})),"string"==typeof E&&(E=E.trim());var v=c(d.changedAt).format("MM-DD-YYYY hh:mm a")+" : ";"created"==s?v+="Attribute is created with value '"+E+"'":"deleted"==s?v+="Attribute is deleted":"Locked"==f?v+="Attribute is "+(1==E?"locked":"unlocked"):"Required"==f?v+="Attribute is made  "+(1==E?"mandatory":"non mandatory"):"Name"==f?v+="Attribute name is updated from '"+h+"' to '"+E+"'":"Type"==f?v+="Attribute type is updated from '"+o.getAttributeTypeDisplayName(h)+"' to '"+o.getAttributeTypeDisplayName(E)+"'":(v+="Attribute is "+s,""!=E&&(v+=" with value '"+E+"'")),v+=" by "+d.user.displayName,p.push({name:"",property:f,from:h,to:E,at:d.changedAt,deleted:!1,history:d,action:s,changeLog:v})}return p}return[]},AttributeHistoryComponent.prototype.getAttributeName=function(e,t,a){if(null!=e)return e.name;if(null!=t)for(var r=0;r<t.length;r++)if(null!=t[r]&&null!=t[r].attributeAfter&&t[r].attributeAfter.id==a&&null!=t[r].attributeAfter.name)return t[r].attributeAfter.name;return"-"},AttributeHistoryComponent.prototype.render=function(){var e=this,t=this.props,a=t.visible,r=t.close,i=t.isLoading;if(0==a)return null;var o=[];if(!this.props.isLoading&&this.props.history&&this.props.history.data)try{o=this.getParsedAttributes(this.props.history.data)}catch(e){console.log(e)}var l=[{id:"Name",header:"Key Name",cell:function(e){return""!=e.name?n.createElement("span",{style:{textDecoration:e.deleted?"line-through":""}},n.createElement("b",null," ",e.name)," "):n.createElement("span",{style:{paddingLeft:"50px"}}," ",e.changeLog," ")}}];return n.createElement("div",null,n.createElement(s.Modal,{size:"max",onDismiss:r,content:n.createElement("div",null,n.createElement(s.Table,{loading:i,items:i?[]:o,columnDefinitions:l,empty:"No data found!"})),visible:a,header:"Key Details - History",footer:n.createElement("span",{className:"awsui-util-f-r"},n.createElement(s.Button,{variant:"link",text:"Close",onClick:r}),n.createElement(s.Button,{variant:"link",text:"Reload",onClick:function(t){e.props.getAllAttributeHistory(e.props.id,e.props.isTemplate)}}))}))},AttributeHistoryComponent}(n.Component),u=function(e){return{getAllAttributeHistory:function(t,a){e(l.getAttributeHistory(t,a))}}};t.default=i.connect(mapStateToProps,u)(p)},713:function(e,t,a){"use strict";function mapStateToProps(e){return{routesByLevel:null!=e.approvalRequest?e.approvalRequest.routesByLevel:[]}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(78),c=a(158),p=a(118),u=a(159),d=a(99),m=a(6),f=a(8),E=a(7),h=a(135),v=a(10),A=a(101),g=a(37),T=a(718),y=a(13),_=function(e){function ApprovalViewers(t){var a=e.call(this,t)||this;return a.myUpdate=p.newContext(),a.getListStyle=function(e){return{background:"none",border:e?"dashed 1px black":"solid 1px transparent"}},a.state={approvalRequestId:t.approvalRequestId,viewers:t.viewers,routesByLevel:t.routesByLevel,peopleSearchResults:[]},a.saveActor=a.saveActor.bind(a),a.removeViewer=a.removeViewer.bind(a),a.afterSearch=a.afterSearch.bind(a),a.moveViewerFromPeopleSearch=a.moveViewerFromPeopleSearch.bind(a),a.updateViewerPermissions=a.updateViewerPermissions.bind(a),a}return r(ApprovalViewers,e),ApprovalViewers.prototype.componentDidCatch=function(e,t){},ApprovalViewers.prototype.componentDidUpdate=function(e){e.viewers!==this.props.viewers&&this.setState({viewers:this.props.viewers})},ApprovalViewers.prototype.moveViewerFromPeopleSearch=function(e){this.onDragEnd({source:{index:e},destination:{}})},ApprovalViewers.prototype.addActor=function(e){if(e){var t=this.state.viewers;if(!y.allUsersDifferent(e,t.map(function(e){return e.actor})))return void this.props.dispatch(v.updateNotification({value:{id:"AddViewer",content:"User you are trying to add is already a viewer.",type:"alert",status:"error",duration:3e3}}));if(null!=e){var a=new u.ViewerOutput;a.id="Temp_"+this.getRandomInt(),a.actor=e,e.isBeingSaved=!0,this.saveActor(e,a)}}},ApprovalViewers.prototype.getRandomInt=function(){return Math.floor(2e4*Math.random())+0},ApprovalViewers.prototype.saveActor=function(e,t){var a=this;this.setState({isBeingSaved:!0});var r=this.state.viewers,n=new URLSearchParams;n.append("approvalId",this.state.approvalRequestId),n.append("actorId",e.type==m.ActorType.PRINCIPAL?e.alias:e.groupName),n.append("type",e.type),n.append("role",m.ACTOR_ROLE.VIEWER),n.append("referenceId",""),f.default.post(m.SERVICE_ENDPOINTS+m.API_ROUTES.SAVE_VIEWER,n).then(function(n){if(n.data.isError)return void a.props.dispatch(v.updateNotification({value:{id:Math.random(),content:n.data.errorMessage,type:"alert",loading:!1,status:"error"}}));r.push(t),t.id=n.data.id,e.isBeingSaved=!1,a.setState({viewers:r})}).catch(function(e){})},ApprovalViewers.prototype.removeViewer=function(e){var t=this.state.viewers,a=t.findIndex(function(t){return t.id===e.id});e.actor.isBeingSaved=!0,this.setState({viewers:t});var r=this;this.deleteItem(m.APPROVAL_CONTAINER_ITEM_TYPE.ACTOR,e.id,function(){r.setState(r.myUpdate(r.state,{viewers:{$splice:[[a,1]]}}))})},ApprovalViewers.prototype.deleteItem=function(e,t,a){var r=this;this.setState({isBeingSaved:!0});var n=new URLSearchParams;n.append("approvalId",this.state.approvalRequestId),n.append("itemId",t),n.append("itemType","4"),f.default.post(m.SERVICE_ENDPOINTS+m.API_ROUTES.DELETE_ITEM,n).then(function(e){!0===e.data.isError?r.props.dispatch(v.updateNotification({value:{id:Math.random(),content:e.data.errorMessage,type:"alert",loading:!1,status:"error"}})):a()}).catch(function(e){r.props.dispatch(v.updateNotification({value:{id:Math.random(),content:e.message,type:"alert",loading:!1,status:"error"}}))})},ApprovalViewers.prototype.afterSearch=function(e){this.setState({searchResult:e})},ApprovalViewers.prototype.updateViewerPermissions=function(e,t,a){return i(this,void 0,void 0,function(){var r,n,i,s;return o(this,function(o){switch(o.label){case 0:r=this.state.viewers,n=r[a],i=this.myUpdate(n.restrictedPermissions||[],{$push:[]}),t?i.includes(e)||i.push(e):i=i.filter(function(t){return t!==e}),n.actor.isBeingSaved=!0,this.setState({viewers:r}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,g.default({method:"UPDATE_APPROVAL_VIEWER",payload:JSON.stringify({approvalId:this.state.approvalRequestId,viewerId:n.id,actor:n.actor,restrictedPermissions:i})})];case 2:return o.sent(),n.restrictedPermissions=i,n.actor.isBeingSaved=!1,this.setState({viewers:r}),[3,4];case 3:return s=o.sent(),this.props.dispatch(v.updateNotification({value:{id:Math.random(),content:s.message,type:"alert",loading:!1,status:"error"}})),n.actor.isBeingSaved=!1,this.setState({viewers:r}),[3,4];case 4:return[2]}})})},ApprovalViewers.prototype.render=function(){var e=this,t=this.props,a=t.groupMembers,r=t.getGroupMembers,i=t.threshold,o=t.readonlyView,p=t.dispatch,u=this.state.viewers,m={ActorCard:d.default,DragDropContext:l.DragDropContext,Droppable:l.Droppable,MenuItem:h.MenuItem,PeopleSearch:c.default,actors:u||[],droppableId:"Viewer",enableDynamicTiles:!1,readonlyView:o,removeActor:function(t){return e.removeViewer(t)},addActor:function(t){return e.addActor(t)},secondaryText:"Add viewers",getGroupMembers:r,groupMembers:a,threshold:i,setNotification:function(e){return p(v.updateNotification({value:e}))},getDisplayRuleNames:A.getDisplayRuleNames,getViewerSettings:T.getViewerSettings,updateApprovalViewerPermissions:this.updateViewerPermissions};return s.createElement(y.ActorContainer,n({},m))},ApprovalViewers}(s.Component);t.default=E.connect(mapStateToProps)(_)},714:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(78),o=a(8),s=a(5),l=a(118),c=a(6),p=a(715),u=(l.newContext(),function(e){return{background:"none",border:e?"dashed 1px black":"solid 1px transparent"}}),d=function(e){function PeopleSearch(t){var a=e.call(this,t)||this;return a.getSearchResult=function(){return a.props.searchResults},a.state={isSearching:!1,insideTileSelector:t.insideTileSelector||!1,searchDirtyFlag:!1,searchType:1,isError:!1,errorMessage:"",subHeaderText:t.subHeaderText,searchPeople:!0,searchGroups:!1,query:""},a.getSearchResult=a.getSearchResult.bind(a),a.positionStyles=t.insideTileSelector?"wrappedUserTileCards":"userTileCards",a}return r(PeopleSearch,e),PeopleSearch.prototype.afterSelect=function(e){var t=this.props.searchResults;this.props.setSearchResults(t.slice(0,e.source.index).concat(t.slice(e.source.index+1)))},PeopleSearch.prototype.searchActors=function(){var e=this;if(this.state.query.trim().length>2){this.cancelSource&&this.cancelSource.cancel("New key stroke"),this.cancelSource=o.default.CancelToken.source(),this.setState({searchDirtyFlag:!0}),this.setState({isSearching:!0});var t={cancelToken:this.cancelSource.token},a=c.SERVICE_ENDPOINTS+c.API_ROUTES.ACTOR_SEARCH+"?people="+(this.state.searchPeople?1:0)+"&group="+(this.state.searchGroups?1:0)+"&query="+encodeURI(this.state.query.trim());o.default.get(a,t).then(function(t){var a=t.data;e.cancelSource=void 0,e.props.setSearchResults(a.isError?[]:a.data),e.setState({isError:a.isError,errorMessage:a.errorMessage,isSearching:!1})}).catch(function(e){o.default.isCancel(e)?console.log("Request canceled",e):console.log(e)})}},PeopleSearch.prototype.componentDidMount=function(){this.props.onRef&&this.props.onRef({peopleSearch:this})},PeopleSearch.prototype.componentWillUnmount=function(){this.props.onRef&&this.props.onRef({peopleSearch:void 0})},PeopleSearch.prototype.componentDidUpdate=function(e,t,a){var r=this;e.tourLifecycle!=this.props.tourLifecycle&&1==this.props.tourIndex&&"ready"==this.props.tourLifecycle&&setTimeout(function(){return r.setState({query:"sushapar"},r.searchActors)},3e3)},PeopleSearch.prototype.render=function(){var e,t=this,a=null!==this.props.groupSearchDisabled&&this.props.groupSearchDisabled?"Reporting permissions not available for groups.":"";if(!1===this.state.searchDirtyFlag)e=n.createElement("span",{className:"awsui-util-t-c awsui-text-secondary"},"Please search above to see results here!");else if(this.state.isSearching)e=n.createElement("div",{className:"awsui-util-t-c awsui-text-secondary"},n.createElement(s.Spinner,null)," ",n.createElement("span",null,"Searching..."));else if(this.state.isError)e=n.createElement("div",{className:"awsui-util-t-c awsui-text-secondary"},n.createElement("i",{className:"fa fa-exclamation-triangle fntError awsui-util-mr-s","aria-hidden":"true"}),n.createElement("span",null,"Error while searching. Please retry again."));else if(0===this.props.searchResults.length)e=n.createElement("span",{className:"awsui-util-t-c awsui-text-secondary"},"No matches found for your search. Please revise your search and try again.");else{var r=this.props,o=r.actorMenuItems,l=r.onActorMenuItemClick;e=n.createElement(i.Droppable,{droppableId:"peopleSearch",ignoreContainerClipping:!1,isDropDisabled:!0,type:"actor"},function(e,a){return n.createElement("div",{ref:e.innerRef,style:u(a.isDraggingOver)},t.props.searchResults.map(function(e,a){var r=e.type==c.ActorType.PRINCIPAL,s=r?e.alias:e.groupName,u=r?s:s+e.type;return n.createElement(i.Draggable,{key:u,draggableId:u,type:"actor",index:a},function(r,i){return n.createElement(p.default,{actorMenuItems:o,droppableId:"peopleSearch",id:s,onActorMenuItemClick:l,provided:r,resultIndex:a,snapshot:i,userOutput:e,tourIndex:t.props.tourIndex,tourLifecycle:t.props.tourLifecycle})})}),e.placeholder)})}return n.createElement("div",{className:"people-search-wrapper"},n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("div",{className:this.positionStyles+" awsui-util-container1 awsui-util-m-n searchPanel",id:"tools"},!this.state.insideTileSelector&&n.createElement("h4",{className:"awsui-util-p-n"},n.createElement("span",null,"Search")),""!=this.state.subHeaderText&&n.createElement("div",{className:"peopleSearchSubHeader"}," ",this.state.subHeaderText),n.createElement("div",{className:"approval-wrapper awsui-util-p-n"},n.createElement("div",{className:"laneRow search searchControlContainer"},n.createElement("form",{onSubmit:function(e){e.preventDefault(),t.searchActors()}},n.createElement("div",{className:"searchText"},n.createElement(s.Input,{id:"searchText_input",className:"searchText_input",autocomplete:!0,placeholder:"Search name, title and/or dept",onInput:function(e){t.setState({query:e.detail.value},function(){this.searchActors()})},onChange:function(e){t.setState({query:e.detail.value})}})),n.createElement("button",{id:"searchButton",className:"searchButton",onClick:this.searchActors}))),n.createElement("div",{className:"laneRow"},n.createElement("div",{className:"awsui-util-clearfix"}),n.createElement("div",{className:"awsui-util-pt-m"},n.createElement(s.Checkbox,{label:"People",className:"awsui-util-f-l",checked:1==this.state.searchPeople,onChange:function(e){t.setState({searchPeople:e.detail.checked}),t.searchActors()}}),n.createElement(s.Tooltip,{text:a,position:"bottom"},n.createElement(s.Checkbox,{label:"Groups",className:"awsui-util-f-l awsui-util-mt-n",checked:1==this.state.searchGroups,disabled:this.props.groupSearchDisabled||!1,onChange:function(e){t.setState({searchGroups:e.detail.checked}),t.searchActors()}}))),n.createElement("div",{className:"awsui-util-clearfix"})),n.createElement("div",{className:"laneRow awsui-util-p-m searchResultCardsContainer"},e),n.createElement("div",{className:"awsui-util-clearfix"}))),n.createElement("div",{className:"awsui-util-clearfix"}))},PeopleSearch}(n.Component);t.default=d},715:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(299),o=a(717),s=function(e){function DraggableWrapper(){return null!==e&&e.apply(this,arguments)||this}return r(DraggableWrapper,e),DraggableWrapper.prototype.render=function(){var e=this.props,t=e.actorMenuItems,a=e.droppableId,r=e.id,s=e.onActorMenuItemClick,l=e.provided,c=e.resultIndex,p=e.snapshot,u=e.userOutput,d=e.tourIndex,m=e.tourLifecycle;return n.createElement("div",null,n.createElement("div",null,n.createElement("div",{className:"searchResultContainer"},n.createElement(o.default,{menu:n.createElement(i.default,{icon:"ADD",containerClassName:"",enabled:!0,isAdded:"peopleSearch"!==a&&"dynamicTiles"!==a,onMenuItemClick:function(e){s(e,c,a)},containerStyle:{paddingTop:"5px",paddingRight:"5px"},menuItems:t,id:"Menu_"+r,tourIndex:d,tourLifecycle:m}),actorDetails:u,actorIndex:c,readOnly:!1,snapshot:p,provided:l,status:"",onDelete:function(e){}}))))},DraggableWrapper}(n.Component);t.default=s},717:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(716),s=a(51),l=a(99),c=function(e){function DraggableUserCard(t,a){var r=e.call(this,t,a)||this;return r.ref=null,r.setRef=r.setRef.bind(r),r.state={readOnly:t.readOnly},r}return r(DraggableUserCard,e),DraggableUserCard.prototype.setRef=function(e){this.ref=e,this.props.provided.innerRef(e)},DraggableUserCard.prototype.onDelete=function(e){this.props.onDelete(e)},DraggableUserCard.prototype.render=function(){var e=this,t=this.props,a=t.actorDetails,r=t.delegateDetails,c=t.finalApprover,p=t.menu,u=t.provided,d=t.readOnly,m=t.snapshot,f=t.status,E=i.createElement("div",n({className:"awsui",ref:this.setRef,style:s.getDraggableCardStyle(u.draggableProps.style,m.isDragging)},u.draggableProps,u.dragHandleProps),i.createElement(l.default,{actor:a,delegate:r,internalProps:{finalApprover:c,menu:p,showDelete:!d,status:f,onDelete:function(t){e.onDelete(t)}}})),h=i.createElement(o,{isOpened:!0},E),v=m.isDragging?h:E;return i.createElement("div",null,v,u.placeholder)},DraggableUserCard}(i.Component);t.default=c},718:function(e,t,a){"use strict";function getViewerSettings(e,t,a,o,s){var l=null!=e.restrictedPermissions&&e.restrictedPermissions.includes(n.VIEWER_PERMISSIONS.NO_EMAIL),c=null;return s=s||!1,a?l&&(c=r.createElement("div",{className:"viewerSettingsSection"},r.createElement("span",{className:"highlightSetting"},r.createElement("i",null,"Excluded from emails")))):c=r.createElement("div",{className:"viewerSettingsSection"},r.createElement("div",null,r.createElement(i.Toggle,{className:l?"highlightSetting":"",disabled:!0===e.actor.isBeingSaved||!0===a||s&&"DYNAMIC_ACTOR"===e.actor.type,label:"Exclude from emails",checked:l,onChange:function(e){o(n.VIEWER_PERMISSIONS.NO_EMAIL,e.detail.checked,t)}}))),c}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=a(6),i=a(5);t.getViewerSettings=getViewerSettings},73:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(1);t.generateEmptyHistory=function(e){return{date:n(e.changedAt).format("MM-DD-YYYY hh:mm a"),changedAt:e.changedAt,category:r.AuditLogCategory.EMPTY,event:"",user:e.user.displayName,newValue:"",oldValue:""}}},746:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function UserInput(){}return UserInput}();t.default=r,t.toUserInput=function(e){return{alias:e.alias,employeeId:e.employeeId,groupName:e.groupName,type:e.type}}},747:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIM_BASE_URL="https://i.amazon.com/",t.SIM_FOLDER_BASE_URL=t.SIM_BASE_URL+"folders/",t.SIM_ISSUE_BASE_URL=t.SIM_BASE_URL+"issues/"},748:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=function(e){function CharacterLimit(t){return e.call(this,t)||this}return r(CharacterLimit,e),CharacterLimit.prototype.render=function(){var e=this.props,t=e.currentCharLength,a=e.maxCharLength,r=t>a?"awsui-util-font-size-0 awsui-util-status-negative awsui-util-pt-xs awsui-util-pb-m":"awsui-util-font-size-0 awsui-util-pt-xs awsui-util-pb-m";return n.createElement("div",{className:r},"Current length: ",t," characters of ",a.toLocaleString()," maximum (including any added in source view)")},CharacterLimit}(n.Component);t.default=i},749:function(e,t,a){"use strict";function getSourceSystemName(e){return null!=r[e]?r[e].displayName:null}Object.defineProperty(t,"__esModule",{value:!0});var r={8:{displayName:"Contract Central"}};t.getSourceSystemName=getSourceSystemName},750:function(e,t,a){"use strict";function isValidLinkback(e,t,a){if(!e||!t||!a)return!1;var r=new URL(e),n=r.protocol,i=r.host;return!!["http:","https:"].includes(n)&&(!!["contractcentralstage.amazon.com","contractcentral-beta.integ.amazon.com","contractcentral.amazon.com"].includes(i)&&"0"!==t&&t===a.sourceSystemId)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0);t.isValidLinkback=isValidLinkback;var i=function(e){function Linkback(t){return e.call(this,t)||this}return r(Linkback,e),Linkback.prototype.render=function(){var e=this;return/^https?:\/\//.test(this.props.href)?n.createElement("div",{className:"linkBackOuterContainer"},n.createElement("span",{className:"linkBackContainer"},n.createElement("a",{href:this.props.href,onClick:function(t){t.ctrlKey||t.metaKey||(t.preventDefault(),window.location.href=e.props.href)}}," << ",this.props.text))):null},Linkback}(n.Component);t.Linkback=i},751:function(e,t,a){"use strict";function generatePdf(e,t,a){return function(o){var s=Math.random();return o(i.updateNotification({value:{id:s,content:"Generating PDF report",loading:!0,type:"alert",status:"info"}})),r.default.get(n.ServiceEndPoints.generatePDF+e+"&addCorrespondence="+a,{responseType:"blob"}).then(function(a){o(i.deleteNotification({value:s}));var r=t+"_"+e+".pdf";if(o(i.deleteNotification({value:s})),window.navigator.appVersion.toString().indexOf(".NET")>0)window.navigator.msSaveBlob(new Blob([a.data]),r);else{var n=window.URL.createObjectURL(new Blob([a.data])),l=document.createElement("a");l.href=n,l.setAttribute("download",r),document.body.appendChild(l),l.click()}}).catch(function(e){o(i.deleteNotification({value:s})),o(i.updateNotification({value:{id:Math.random(),content:"Generating PDF failed, please try again.",type:"alert",status:"error"}}))})}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10);t.generatePdf=generatePdf},752:function(e,t,a){"use strict";function mapStateToProps(e){return{relations:e.approvalRelations.relations}}function mapDispatchToProps(e){var t=d.bindActionCreators({getRelatedApprovalRecordDetails:u.getRelatedApprovalRecordDetails},e);return n({},t,{dispatch:e})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(5),s=a(1),l=a(8),c=a(4),p=a(13),u=a(174),d=a(23),m=a(7),f=a(10),E=a(747),h=function(e){function ApprovalRelationsComponentInternal(t){var a=e.call(this,t)||this;return a.toggleReadOnly=function(){a.setState({readOnly:!a.state.readOnly,entityId:""})},a.createApprovalRelation=function(){if(a.setState({isBeingSaved:!0}),a.state.entityId!==a.props.approvalId&&a.state.entityId.length>0){var e=a.getRelationParamObj(a.props.approvalId,a.state.entityId,c.EntityType.APPROVAL);l.default.post(c.ServiceEndPoints.createApprovalRelation,e).then(function(e){var t=e.data;if(!0===t.isError){var r=a.generateErrorMsg(t.errorMessage,"add",a.state.entityId);a.dispatchNotificationUpdate(r)}else{var n=[];n.push(t.data),a.props.getRelatedApprovalRecordDetails(n,u.ADD_APPROVAL_RELATION)}a.setState({isBeingSaved:!1,entityId:""})}).catch(function(e){a.props.dispatch(f.updateNotification({value:{id:Math.random(),content:e.message,type:"alert",loading:!1,status:"error"}})),a.setState({isBeingSaved:!1,entityId:""})})}else{var t=void 0;t=0===a.state.entityId.length?"Approval ID is required to add relation.":"You cannot relate an approval to itself.",a.dispatchNotificationUpdate(t),a.setState({isBeingSaved:!1,entityId:""})}},a.generateErrorMsg=function(e,t,a){var r=e.substring(e.indexOf("("));return e.includes("permission")?e="You do not have appropriate permissions on "+a+" to "+t+" the related approval. "+r:e.includes("approval request")&&(e="Invalid approval. Cannot add relation. "+r),e},a.deleteApprovalRelation=function(e){a.setState({isBeingDeleted:!0});var t=a.getRelationParamObj(a.props.approvalId,e,c.EntityType.APPROVAL);l.default.post(c.ServiceEndPoints.deleteApprovalRelation,t).then(function(t){var r=t.data;if(!0===r.isError){var n=a.generateErrorMsg(r.errorMessage,"delete",e);a.dispatchNotificationUpdate(n)}else a.props.dispatch({type:u.DELETE_APPROVAL_RELATION,payload:e});a.setState({isBeingDeleted:!1})}).catch(function(e){a.props.dispatch(f.updateNotification({value:{id:Math.random(),content:e.message,type:"alert",loading:!1,status:"error"}})),a.setState({isBeingDeleted:!1})})},a.dispatchNotificationUpdate=function(e){var t=Math.random();a.props.dispatch(f.updateNotification({value:{id:t,content:e,type:"alert",loading:!1,status:"error"}}))},a.getRelationParamObj=function(e,t,a){var r={approvalId:e,entityId:t,entityType:a},n=new URLSearchParams;return n.append("payload",JSON.stringify(r)),n},a.toNumber=function(e){return null==e?null:e.replace(/[^0-9]+/g,"")},a.state={readOnly:a.props.readOnly,showEditOption:a.props.showEditOption,isBeingSaved:!1,isBeingDeleted:!1,entityId:""},a}return r(ApprovalRelationsComponentInternal,e),ApprovalRelationsComponentInternal.prototype.getTableColumns=function(){var e=this,t=[{id:"entityId",header:function(){return"Id"},cell:function(e){var t=e.entityId,a=e.status,r=e.entityType,n="/Approval/"+("DRAFT"===a?"Edit":"Details")+"/"+t;return r===c.EntityType.ISSUE&&(n=""+E.SIM_ISSUE_BASE_URL+t),i.createElement("a",{href:n,target:"_blank"},t)},width:120},{id:"title",cell:function(e){var t=e.entityId,a=e.title,r=e.status;if(e.entityType===c.EntityType.ISSUE)return i.createElement("a",{href:""+E.SIM_ISSUE_BASE_URL+t,target:"_blank"},"Issue in SIM");var n=document.createElement("textarea");return n.innerHTML=a,i.createElement("div",null,i.createElement("a",{href:"/Approval"+("DRAFT"===r?"/Edit/":"/Details/")+t,target:"_blank"},n.value))},header:function(){return"Title"},allowLineWrap:!0,minWidth:"280px"},{id:"createdBy",header:function(){return i.createElement("div",null,"Added By")},cell:function(e){return i.createElement("a",{href:c.ServiceEndPoints.phoneToolLink+e.createdBy.alias,target:"_blank"},e.createdBy.displayName)},allowLineWrap:!0,minWidth:"110px"},{id:"createdAt",header:function(){return"Added On"},cell:function(e){return i.createElement("span",null,s(e.createdAt).format("MM-DD-YYYY"))},allowLineWrap:!0,minWidth:"110px"},{id:"status",header:function(){return"Status"},cell:function(e){switch(e.status){case p.ApprovalStatus.APPROVED_WITH_CONDITION:return i.createElement("span",{className:"home-status-approved-conditions"},"Approved with conditions");case p.ApprovalStatus.APPROVED:return i.createElement("span",{className:"home-status-approved"},"Approved");case p.ApprovalStatus.REJECTED:return i.createElement("span",{className:"home-status-rejected"},"Rejected");case p.ApprovalStatus.DRAFT:return i.createElement("span",{className:"home-status-draft"},"Draft");case p.ApprovalStatus.CANCELLED:return i.createElement("span",{className:"home-status-cancelled"},"Cancelled");case p.ApprovalStatus.PENDING:return i.createElement("span",{className:"home-status-pending"},"Pending");case p.ApprovalStatus.INVALIDATED:return i.createElement("span",{className:"home-status-invalidated"},"Invalidated");case p.ApprovalStatus.ON_HOLD:return i.createElement("span",{className:"home-status-on-hold"},"On Hold");default:return"_"}},allowLineWrap:!0}];return this.state.readOnly?t:t.concat([{id:"entityId",header:function(){return""},cell:function(t){return e.state.isBeingDeleted?i.createElement(o.Spinner,null):i.createElement("div",{className:"deleteBtn"},i.createElement(o.Tooltip,{position:"top",text:"Delete"},i.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.deleteApprovalRelation(t.entityId)}},i.createElement("span",{className:"fa fa-trash fa-lg","aria-hidden":"true",style:{verticalAlign:"-webkit-baseline-middle"}}))))}}])},ApprovalRelationsComponentInternal.prototype.render=function(){var e=this,t=this.props.relations;return i.createElement("div",{className:"related-items"},i.createElement(o.FormSection,{id:"RelatedApprovalsSection",header:i.createElement(i.Fragment,null,"Related Items",this.state.showEditOption&&i.createElement("span",{className:"edit-button"},i.createElement(o.Tooltip,{text:this.state.readOnly?"Modify Relationship details":"Close"},i.createElement("i",{onClick:this.toggleReadOnly,className:"fa editOption fa-lg "+(this.state.readOnly?"fa-pencil fa-lg":"fa-check fa-lg")})))),description:i.createElement("span",null,"Use this section to relate this approval to another. ",i.createElement("b",null,"Please note, you will need to be a requester or Approver on BOTH approvals in order to relate them to each other."))},!this.state.readOnly&&i.createElement("div",{className:"entry"},i.createElement(o.FormField,{className:"awsui-util-pr-m",label:i.createElement("b",null,"Approval ID"),stretch:!0},i.createElement("input",{className:"awsui awsui-input",style:{position:"relative"},onInput:function(t){e.setState({entityId:e.toNumber(t.target.value)})},value:this.state.entityId,onKeyPress:function(t){"Enter"==t.key&&e.createApprovalRelation()}})),i.createElement(o.Button,{className:"awsui-util-mt-m relateBtn",loading:this.state.isBeingSaved,variant:"primary",onClick:this.createApprovalRelation},"Relate Approval")),i.createElement(o.Table,{columnDefinitions:this.getTableColumns(),items:t})))},ApprovalRelationsComponentInternal}(i.Component);t.ApprovalRelationsComponent=m.connect(mapStateToProps,mapDispatchToProps)(h)},753:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POPOVER_MESSAGE={ROUTE_LOCKED_FOR_REQUESTER:"This approval plan has been locked by the template or the system that created it. If you need to make updates, please contact an approval admin.",ROUTE_LOCKED_FOR_APPROVER:"The requester has locked the approval plan to prevent modifications. If you need to make updates, please contact the requester.",APPROVAL_ADMINS:"The approval admins have been locked by the template or the system that created it."}},754:function(e,t,a){"use strict";function mapStateToProps(e){return{auditLog:e.auditLog}}function mapDispatchToProps(e){return o.bindActionCreators({loadHistory:s.auditLogLoadHistory,resetHistory:s.auditLogResetHistory,updateDisplayHistory:s.auditLogUpdateDisplayHistory},e)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=a(5),o=a(23),s=a(169),l=a(7),c=a(1499),p=a(1500),u=a(1501),d=function(e){function AuditLogInternal(t){return e.call(this,t)||this}return r(AuditLogInternal,e),AuditLogInternal.prototype.getTitle=function(){var e=this.props.auditLog,t=e.historyList,a=e.status,r=e.totalRawHistory,i=e.rawHistoryList,o="Audit log - Loading";return"loaded"===a?o=i.length<r?"Audit log - Partially loaded":"Audit log - Fully loaded":"error"===a&&(o="Audit log - Error"),n.createElement("h2",{className:"section-title"},n.createElement("span",null,o),n.createElement("span",{"data-testid":"detail-page__audit-log-count"}," (",t.length,")"))},AuditLogInternal.prototype.render=function(){var e=this.props,t=e.auditLog,a=e.attributeList,r=e.hashKey,o=e.actorList,s=e.updateDisplayHistory,l=e.lookupIndex,d=e.isTemplate,m=e.privateApproval,f=t.status,E=t.errorMessage,h=t.processedHistoryList,v="error"===f?n.createElement("div",{className:"audit-log-title-error"},E):null;return n.createElement("div",{className:"audit-log"},this.getTitle(),n.createElement(u.AuditLogHistoryDetailModal,null),n.createElement(i.Table,{resizableColumns:!0,loading:"loading"===f,items:h,columnDefinitions:p.generateAuditLogTableColumnDefinition(s),empty:"No data found!",header:v},n.createElement(c.AuditLogTableActionBar,{hashKey:r,attributeList:a,actorList:o,isTemplate:d,lookupIndex:l,privateApproval:m})))},AuditLogInternal}(n.Component);t.AuditLog=l.connect(mapStateToProps,mapDispatchToProps)(d)},755:function(e,t,a){"use strict";function mapStateToProps(e){if(null!=e.approvalRequest)return{approvalPlanVersion:e.approvalRequest.approvalPlanVersion,draftApprovalRequestId:e.approvalRequest.approvalRequestId,permissionedContent:e.permissionedContent}}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(8),s=a(756),l=a(86),c=a(72),p=a(748),u=a(213),d=a(5),m=a(13),f=a(6),E=a(7),h=a(61),v=a(225),A=a(10),g=a(1),T=function(e){function ApprovalBasicDetailsComponent(t){var a=e.call(this,t)||this;a.titleInput=null,a.neededOnDateInput=null;var r=g().add(1,"day").endOf("day").toDate(),n={neededOnDate:new Date(r),priority:"NONE",privateApproval:!1};return a.state={componentLoaded:!1,approvalRequestId:t.approvalRequestId,approvalRequestVersion:t.approvalRequestVersion,basicDetails:null==t.basicDetails?n:t.basicDetails,isBeingSaved:!1,basicDetailsValidation:{title:!0,titleMessage:"",neededOnDate:!0,neededOnDateMessage:""},lastSavedBasicDetails:Object.assign({},t.basicDetails),permissionedContent:"",privacyConfirmModalOpen:!1},null==a.state.lastSavedBasicDetails.summary&&(a.state.lastSavedBasicDetails.summary=""),null==a.state.basicDetails.summary&&(a.state.basicDetails.summary=""),a.saveBasicDetails=a.saveBasicDetails.bind(a),a.validateBasicDetails=a.validateBasicDetails.bind(a),null!=a.props.saveBasicDetails&&a.props.saveBasicDetails(a.saveUnsavedData.bind(a)),a}return r(ApprovalBasicDetailsComponent,e),ApprovalBasicDetailsComponent.prototype.componentDidMount=function(){this.basicDetailsChanged(),this.props.validateBasicDetails&&this.props.validateBasicDetails(this.validateBasicDetails)},ApprovalBasicDetailsComponent.prototype.componentDidUpdate=function(e,t){var a=this.state,r=a.approvalRequestId,n=a.savedCallback,i=a.resetPermissionedContent,o=this.props,s=o.getPermissionedContent,l=o.hasPermissionedContent,c=o.permissionedContent;!i&&t.permissionedContent!==this.state.permissionedContent&&this.props.dispatch(v.addUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:f.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS,changedItem:"Private Notes"}})),l&&r&&s(r),c&&c.status===m.Status.FAILURE&&e.permissionedContent.status!==m.Status.FAILURE&&this.props.updateNotification({content:"Private Notes update failed: "+c.error,type:"alert",status:"info"}),c.status===m.Status.SUCCESS&&n&&!this.state.permissionedContent&&(n(),this.setState({savedCallback:null})),i&&this.setState({resetPermissionedContent:!1})},ApprovalBasicDetailsComponent.prototype.componentWillReceiveProps=function(e){e.approvalRequestVersion!=this.props.approvalRequestVersion&&this.setState({approvalRequestVersion:e.approvalRequestVersion})},ApprovalBasicDetailsComponent.prototype.componentWillUnmount=function(){this.props.clearPermissionedContent(),this.props.validateBasicDetails&&this.props.validateBasicDetails(null)},ApprovalBasicDetailsComponent.prototype.validateBasicDetails=function(){var e=!0,t={title:!0,neededOnDate:!0,titleMessage:"",neededOnDateMessage:""};if(null!=this.state.basicDetails.title&&""!=this.state.basicDetails.title.trim()||(t.title=!1,e=!1,t.titleMessage="This field is required.",this.titleInput.focus()),null==this.state.basicDetails.neededOnDate||""==this.state.basicDetails.neededOnDate.toString().trim()?(1==e&&this.neededOnDateInput.input.focus(),t.neededOnDate=!1,e=!1,t.neededOnDateMessage="This field is required."):null!=this.state.basicDetails.neededOnDate&&1==s.DateUtils.isPastDay(this.state.basicDetails.neededOnDate)&&(1==e&&this.neededOnDateInput.input.focus(),t.neededOnDate=!1,e=!1,t.neededOnDateMessage="Needed on date can't be in the past."),this.state.permissionedContent.length>f.PERMISSIONED_CONTENT_LIMIT){e=!1;var a=this.state.basicDetails.privateApproval?"private notes":"notes";this.props.dispatch(A.updateNotification({value:{content:"Please do not exceed 1,000 characters in the "+a+" section.",type:"alert",status:"error"}}))}return this.setState({basicDetailsValidation:t}),e},ApprovalBasicDetailsComponent.prototype.saveUnsavedData=function(e){this.validateBasicDetails()&&this.updateBasicDetails(e)},ApprovalBasicDetailsComponent.prototype.saveBasicDetails=function(e){e.preventDefault(),this.validateBasicDetails()&&(null==this.state.approvalRequestId||""==this.state.approvalRequestId?this.createBasicDetails():this.updateBasicDetails())},ApprovalBasicDetailsComponent.prototype.updateBasicDetails=function(e){var t=this,a=!1;this.state.basicDetails.privateApproval!==this.state.lastSavedBasicDetails.privateApproval&&(a=!0);var r=new URLSearchParams;r.append("approvalRequestId",this.state.approvalRequestId),r.append("title",this.decodeHtml(this.state.basicDetails.title)),r.append("summary",this.state.basicDetails.summary),r.append("version",this.state.approvalRequestVersion),r.append("neededOnDate",g(this.state.basicDetails.neededOnDate).endOf("day").toDate().toUTCString()),r.append("priority",this.state.basicDetails.priority),r.append("privateApproval",this.state.basicDetails.privateApproval),this.setState({isBeingSaved:!0}),this.props.dispatch(A.updateNotification({value:{id:"BasicDetails-Saving",content:"Saving basic details",loading:!0,type:"alert",status:"info"}})),this.props.savePermissionedContent(this.props.approvalRequestId,this.state.permissionedContent),o.default.post(f.SERVICE_ENDPOINTS+f.API_ROUTES.UPDATE_BASICS,r).then(function(r){t.props.dispatch(A.deleteNotification({value:"BasicDetails-Saving"}));var n=r.data;!1===n.isError?(t.setState({approvalRequestVersion:n.version,approvalRequestId:n.id,isBeingSaved:!1,lastSavedBasicDetails:Object.assign({},t.state.basicDetails)}),t.basicDetailsChanged(),t.props.dispatch(v.removeUnsavedSectionDataChange({changeInfo:{changedAt:new Date,changedSection:f.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS}})),null!=e&&!1===n.isError&&t.setState({savedCallback:e}),a&&t.props.getFullApproval&&t.props.getFullApproval()):(t.props.dispatch(A.updateNotification({value:{id:"BasicDetails",content:n.errorMessage,type:"alert",status:"error",duration:5e3}})),t.setState({isBeingSaved:!1}))}).catch(function(e){t.props.dispatch(A.deleteNotification({value:"BasicDetails-Saving"})),t.props.dispatch(A.updateNotification({value:{id:"BasicDetails",content:e.message,type:"alert",status:"error",duration:5e3}})),t.setState({isBeingSaved:!1})})},ApprovalBasicDetailsComponent.prototype.createBasicDetails=function(){var e=this,t=new URLSearchParams;t.append("title",this.state.basicDetails.title),t.append("summary",null==this.state.basicDetails.summary?"":this.state.basicDetails.summary),t.append("version",this.state.approvalRequestVersion),t.append("neededOnDate",g(this.state.basicDetails.neededOnDate).endOf("day").toDate().toUTCString()),t.append("priority",this.state.basicDetails.priority),t.append("privateApproval",this.state.basicDetails.privateApproval),this.setState({isBeingSaved:!0}),o.default.post(f.SERVICE_ENDPOINTS+f.API_ROUTES.CREATE_DRAFT,t).then(function(t){var a=t.data;e.setState({approvalRequestVersion:a.version,approvalRequestId:a.id,isBeingSaved:!1}),e.approvalCreated()}).catch(function(t){e.props.dispatch(A.updateNotification({value:{id:"BasicDetails",content:t.message,type:"alert",status:"error",duration:5e3}})),e.setState({isBeingSaved:!1})})},ApprovalBasicDetailsComponent.prototype.approvalCreated=function(){this.props.dispatch(h.approvalCreated({changedAt:"--",approvalRequestId:this.state.approvalRequestId}))},ApprovalBasicDetailsComponent.prototype.basicDetailsChanged=function(){this.props.dispatch(h.basicDetailsChange({changedAt:"--",basicDetails:this.state.basicDetails,approvalRequestVersion:this.state.approvalRequestVersion}))},ApprovalBasicDetailsComponent.prototype.decodeHtml=function(e){if(null==e||void 0==e)return"";var t=document.createElement("textarea");return t.innerHTML=e,t.value},ApprovalBasicDetailsComponent.prototype.setPrivacyType=function(e,t){var a=n({},this.state.basicDetails);a.privateApproval=e,this.setState({basicDetails:a}),e&&this.state.approvalRequestId&&this.saveBasicDetails(t)},ApprovalBasicDetailsComponent.prototype.checkPrivacyType=function(){!this.state.basicDetails.privateApproval&&this.state.lastSavedBasicDetails.privateApproval&&this.setState({privacyConfirmModalOpen:!0})},ApprovalBasicDetailsComponent.prototype.render=function(){var e=this,t=i.createElement(d.ColumnLayout,null,i.createElement("div",{className:"awsui-util-font-size-1 awsui-util-label"},"Only the following roles can view key details and attachments marked as private, private summaries, or the audit log."),i.createElement("div",{className:"awsui-util-mv-s awsui-util-spacing-m-s privacy-role-badges"},i.createElement(d.Badge,null,"Approval requester"),i.createElement(d.Badge,null,"Approver (in plan)"),i.createElement(d.Badge,null,"Private viewer"),i.createElement(d.Badge,null,"Approval admin"))),a=this.state.basicDetails.privateApproval?"Private notes are only visible to Requesters, Approvers, Private Viewers, and Admins.":"Notes will only be visible to Requesters, Approvers, and Admins.",r=i.createElement(d.Modal,{visible:this.state.privacyConfirmModalOpen,header:"Unmark as private?",onDismiss:function(t){e.setState({privacyConfirmModalOpen:!1}),e.setPrivacyType(!0,t)},footer:i.createElement("span",{className:"awsui-util-f-r"},i.createElement(d.Button,{variant:"link",onClick:function(t){e.setState({privacyConfirmModalOpen:!1}),e.setPrivacyType(!0,t)}},"Cancel"),i.createElement(d.Button,{variant:"primary",onClick:function(t){e.setState({privacyConfirmModalOpen:!1}),e.setPrivacyType(!1,t),e.saveBasicDetails(t)}},"Confirm"))},i.createElement("p",{className:"awsui-util-pb-s"},i.createElement("b",null,"Are you sure you want to unmark this request as including private information?")),i.createElement("ul",{className:"list-override awsui-util-font-size-1"},i.createElement("li",null,i.createElement("b",null,"Private notes:")," Private notes will be visible only to Requesters, Approvers, and Admins."),i.createElement("li",null,i.createElement("b",null,"Key details and attachments:")," All key details and attachments previously marked as private will now be visible to all roles on this approval."),i.createElement("li",null,i.createElement("b",null,"Approval Private Viewers:")," All Approval Private Viewers will be made Approval General Viewers.")));return i.createElement("div",null,r,i.createElement("form",{onSubmit:this.saveBasicDetails,method:"POST",id:"frmBasics"},i.createElement("div",{className:"awsui-util-clearfix"}),i.createElement("div",{className:"awsui-util-m-m awsui-util-mt-l"},i.createElement(d.Alert,{dismissible:!0,header:"IMPORTANT NOTES",content:i.createElement("span",{style:{fontSize:"13px"}},"Please follow the ",i.createElement("a",{target:"_blank",href:"https://inside.amazon.com/en/services/legal/us/spendingandtransaction/Pages/default.aspx"}," Amazon Spending and Transaction Policy (STP)")," if your approval is subject to the policy. ")})),i.createElement(d.FormSection,{header:"Basic Details",description:"Describe your approval so others can easily identify it and understand its importance."},i.createElement("section",null,i.createElement("div",{className:"awsui-grid "},i.createElement("div",{className:"awsui-row "},i.createElement("div",{className:"col-xxs-12 col-m-6"},i.createElement(d.FormField,{label:i.createElement("b",{"data-testid":"create-approval__title-text"},"Title"),stretch:!0,errorText:this.state.basicDetailsValidation.titleMessage},i.createElement(d.Input,{ref:function(t){e.titleInput=t},controlId:"txtTitle",autofocus:!0,value:this.decodeHtml(this.state.basicDetails.title),invalid:0==this.state.basicDetailsValidation.title,onKeypress:function(t){e.props.dispatch(v.addUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:f.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS,changedItem:"Title"}}))},onChange:function(t){e.setState(function(e){return e.basicDetails.title=t.detail.value,e}),e.validateBasicDetails(),e.state.lastSavedBasicDetails.title==e.state.basicDetails.title&&e.props.dispatch(v.removeUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:f.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS,changedItem:"Title"}}))}}))),i.createElement("div",{className:"col-xxs-12 col-m-3"},i.createElement(d.FormField,{label:i.createElement("b",{"data-testid":"create-approval__date-needed-by-text"},"Date needed by"),stretch:!0,errorText:this.state.basicDetailsValidation.neededOnDateMessage},i.createElement("div",{className:"DatePickerContainer"},i.createElement(l.default,{style:{width:"100%"},inputProps:{className:"awsui-input"},ref:function(t){e.neededOnDateInput=t},formatDate:c.formatDate,parseDate:c.parseDate,value:this.state.basicDetails.neededOnDate?new Date(this.state.basicDetails.neededOnDate):"",disabled:!0,dayPickerProps:{disabledDays:{before:new Date}},interactionDisabled:!0,onDayChange:function(t){e.setState(function(a){return a.basicDetails.neededOnDate=t,e.validateBasicDetails(),g(e.state.lastSavedBasicDetails.neededOnDate).endOf("day").toDate().valueOf()!==g(t).endOf("day").toDate().valueOf()&&e.props.dispatch(v.addUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:f.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS,changedItem:"NeededOnDate"}})),a})},placeholder:"MM/DD/YYYY"})))),i.createElement("div",{className:"col-xxs-12 col-m-3"},i.createElement(d.FormField,{label:i.createElement("b",{"data-testid":"create-approval__priority-text"},"Priority"),stretch:!0},i.createElement(d.Select,{options:f.PRIORITY_TYPE_OPTIONS,selectedId:this.state.basicDetails.priority,onChange:function(t){e.setState(function(e){var a=e.basicDetails;return{basicDetails:n({},a,{priority:t.detail.selectedId})}})}}))))),this.props.privateApprovalsFeatureEnabled&&i.createElement(d.ColumnLayout,null,i.createElement("div",{"data-awsui-column-layout-root":"true"},i.createElement(d.FormField,{label:i.createElement("b",null,"Private"),description:"If turned on, key details and attachments can be marked as private within this approval request. The notes and audit log will also be treated as private."},i.createElement("div",{className:"flex private-form"},i.createElement(d.Toggle,{"data-testid":"create-approval__private-checkbox",checked:!!this.state.basicDetails.privateApproval,label:"This approval includes private information",onChange:function(t){e.setPrivacyType(t.detail.checked,t),e.checkPrivacyType()}}),i.createElement(d.Popover,{className:"awsui-util-ph-xs",content:t,header:i.createElement("h2",null,"Who can view private information?")},i.createElement("div",{className:"awsui-util-status-info awsui-util-font-size-0"},"Who can view private info?")))))),this.props.hasPermissionedContent&&i.createElement(i.Fragment,null,i.createElement(d.ColumnLayout,null,i.createElement("div",{"data-awsui-column-layout-root":"true","data-testid":"draft-page__private-notes-container"},i.createElement(d.FormField,{label:i.createElement("span",null,this.state.basicDetails.privateApproval?i.createElement(i.Fragment,null,i.createElement("b",null,"Private Notes"),"Â (Optional)"):i.createElement(i.Fragment,null,i.createElement("b",null,"Notes"),"Â (Optional)")),description:a,stretch:!0},i.createElement("section",{className:"awsui-util-mb-n"},i.createElement("div",{className:"awsui-util-mb-n",id:"divEditor","data-testid":"create-approval__private-notes-body"},i.createElement(u.default,{value:this.state.permissionedContent||this.props.permissionedContent&&this.props.permissionedContent.value,onChange:function(t){e.setState({permissionedContent:t})},config:{removePlugins:"elementspath",extraPlugins:"autogrow",autoGrow_onStartup:!0,autoGrow_minHeight:144,readOnly:this.props.permissionedContent&&this.props.permissionedContent.status===m.Status.PENDING}})))))),i.createElement(p.default,{currentCharLength:this.state.permissionedContent.length,maxCharLength:f.PERMISSIONED_CONTENT_LIMIT})),i.createElement(d.ColumnLayout,{columns:1},i.createElement("div",{"data-awsui-column-layout-root":"true"},i.createElement("div",null,i.createElement(d.FormField,{label:i.createElement("span",{"data-testid":"create-approval__summary-text"}," ",i.createElement("b",null,"Summary")," (optional)"),stretch:!0},i.createElement("section",{className:"awsui-util-mb-n"},i.createElement("div",{className:"awsui-util-mb-n",id:"divEditor"},i.createElement(u.default,{value:this.state.basicDetails.summary,onChange:function(t){e.setState(function(e){return e.basicDetails.summary=t,e}),e.state.lastSavedBasicDetails.summary!==e.state.basicDetails.summary&&e.props.dispatch(v.addUnsavedItemDataChange({changeInfo:{changedAt:new Date,changedSection:f.APPROVAL_DETAILS_UI_SECTIONS.BASIC_DETAILS,changedItem:"Summary"}}))},config:{wsc_width:"500px",height:"270px",removePlugins:"elementspath"}}))))))),i.createElement("div",{id:"divSaveBasicDetails"},i.createElement(d.Button,{className:"awsui-util-mt-m",loading:this.state.isBeingSaved,variant:"primary",onClick:this.saveBasicDetails,text:null==this.state.approvalRequestId||""==this.state.approvalRequestId?"Save details and continue":"Save basic details","data-testid":null==this.state.approvalRequestId||""==this.state.approvalRequestId?"create-approval__create-approval-button":""}))))))},ApprovalBasicDetailsComponent}(i.Component),y=function(e){return{savePermissionedContent:function(t,a){return e(m.Actions.savePermissionedContent(t,a))},getPermissionedContent:function(t){return e(m.Actions.getPermissionedContent(t))},clearPermissionedContent:function(){return e(m.Actions.clearPermissionedContent())},updateNotification:function(t){return e(A.updateNotification({value:t}))},dispatch:e}};t.default=E.connect(mapStateToProps,y)(T)},757:function(e,t,a){"use strict";function mapStateToProps(e){var t={entityId:null,entityType:null};return e.rules&&(t.entityId=e.rules.entityId,t.entityType=e.rules.entityType,t.rules=e.rules.rules,e.rules.entityType===A.RuleEntityType.Template?(t.attributes=e.templateAttributes,t.approvalPlan=null!=e.templatePlan?e.templatePlan.plan:[],t.viewers=null!=e.templateApprovalViewers?e.templateApprovalViewers:{}):(e.rules.entityType,A.RuleEntityType.Request)),t}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i};Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),l=a(5),c=a(13),p=a(7),u=a(1507),d=a(1508),m=a(1509),f=a(1512),E=a(609),h=a(1513),v=a(162),A=a(4),g=a(138),T=a(37),y=a(10),_=a(1514),N=a(141),R=a(6),S=a(101),P=function(e){function Rules(t){var a=e.call(this,t)||this;return a.state={attributesList:[],attrbutes:t.attributes,showAddNewRule:!1,showSimulateRule:!1,showOverrideModal:!1,routesByLevel:t.routesByLevel,attributeList:t.attributeList,ruleToEdit:null,ruleBeingOverridden:null,isOverriding:!1,overrdingReason:"",stepInfo:[{title:"Rule Details",content:d.default},{title:"Add Conditions",content:m.default},{title:"Manage Approvers",content:f.default},{title:"Manage Viewers",content:h.default},{title:"Review and create",content:E.default,buttonSubmitText:"Create Rule"}],isSaving:!1},a.overrideRuleResult=a.overrideRuleResult.bind(a),a.onPublish=a.onPublish.bind(a),a.saveRule=a.saveRule.bind(a),a.performOverride=a.performOverride.bind(a),t.rules&&t.rules.length>0&&c.getActorLookupIndex(a.props.approvalPlan,a.props.viewers),a.getNewRule=a.getNewRule.bind(a),a}return r(Rules,e),Rules.prototype.componentWillReceiveProps=function(e){var t=this;e.attributes&&(null==this.state.attributes?this.setState({attributes:this.cloneAttributes(e.attributes),attributeList:this.getAttributes(e.attributes)}):Object.keys(e.attributes).map(function(a){return null==t.state.attributes[a]?void t.setState({attributes:t.cloneAttributes(e.attributes),attributeList:t.getAttributes(e.attributes)}):e.attributes[a].version!=t.state.attributes[a].version?void t.setState({attributes:t.cloneAttributes(e.attributes),attributeList:t.getAttributes(e.attributes)}):void 0}))},Rules.prototype.overrideRuleResult=function(e){this.setState({showOverrideModal:!0,ruleBeingOverridden:e,isOverriding:!1})},Rules.prototype.onPublish=function(e){var t=this;if("Publish"===e.action){var a=n({},e.rule);if(a.filter){var r=JSON.parse(a.filter),i=r.children.map(function(e){var a=t.getAttributeType(S.getSelectedAttributeId(e));if(a===R.ATTRIBUTE_TYPE.CURRENCY||a===R.ATTRIBUTE_TYPE.PHONE_NUMBER)e.left=null,e.operator=null,e.right=null,e.type=null;else if(a===R.ATTRIBUTE_TYPE.MULTI_DROPDOWN){var r=[];if(""!=e.right)for(var n=JSON.parse(e.right),i=0;i<n.length;i++)n[i].selected&&r.push(n[i].value);e.right=r}else e.right=N.getDisplayTextFromValue(e.right,t.getAttributeType(e.left));return e});r.children=i,a.filter=JSON.stringify(r)}for(var o=0;o<a.actions.length;o++)if(a.actions[o].parameters=[],a.actions[o].type===A.RuleActionType.DYNAMIC_APPROVAL_PLAN){if(e.rule._checkedApprovers)for(var s in e.rule._checkedApprovers){var l=e.rule._checkedApprovers[s],c=new v.ActionParameter;c.type=null,null!=l.data.approver&&(c.type=A.ActionParameterType.APPROVER,c.entityId=l.data.approver.id),null==c.type&&null!=l.data.route&&(c.type=A.ActionParameterType.GROUP,c.entityId=l.data.route.id),null==c.type&&null!=l.data.level&&(c.type=A.ActionParameterType.LEVEL,c.entityId=l.data.level.id),c.targetState=l.state,a.actions[o].parameters.push(c)}}else if(a.actions[o].type===A.RuleActionType.DYNAMIC_APPROVAL_VIEWERS&&e.rule._checkedViewers)for(var s in e.rule._checkedViewers){var l=e.rule._checkedViewers[s],c=new v.ActionParameter;c.type=A.ActionParameterType.VIEWER,c.entityId=l.data.id,c.targetState=l.state,a.actions[o].parameters.push(c)}this.saveRule(a)}},Rules.prototype.saveRule=function(e){return i(this,void 0,void 0,function(){var t,a,r;return o(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),t=this.props.entityId,a=void 0,this.setState({isSaving:!0}),e.ruleId?[4,T.default({method:"UPDATE_TEMPLATE_RULE",payload:JSON.stringify({rule:e,entityId:this.props.entityId,entityType:this.props.entityType,ruleId:e.ruleId}),entityId:t})]:[3,2];case 1:return a=n.sent(),[3,4];case 2:return[4,T.default({method:"CREATE_TEMPLATE_RULE",payload:JSON.stringify({rule:e,entityId:this.props.entityId,entityType:this.props.entityType}),entityId:t})];case 3:a=n.sent(),e=a.rule,n.label=4;case 4:return this.setState({isSaving:!1,showAddNewRule:!1,ruleToEdit:null,isOverriding:!1,showOverrideModal:!1}),this.props.dispatch(g.upsertRule({value:e})),this.props.update(),[3,6];case 5:return r=n.sent(),this.setState({isSaving:!1}),console.log(r.stack),this.props.dispatch(y.updateNotification({value:{id:Math.random(),content:r.message,type:"alert",status:"error"}})),[3,6];case 6:return[2]}})})},Rules.prototype.deleteRule=function(e){return i(this,void 0,void 0,function(){var t,a,r;return o(this,function(n){switch(n.label){case 0:e._isBeingDeleted=!0,this.props.dispatch(g.upsertRule({value:e})),n.label=1;case 1:return n.trys.push([1,3,,4]),this.setState({isSaving:!0}),t=this.props.entityId,[4,T.default({method:"DELETE_TEMPLATE_RULE",payload:JSON.stringify({ruleId:e.ruleId,entityId:this.props.entityId,entityType:this.props.entityType,version:e.version}),entityId:t})];case 2:return a=n.sent(),this.props.dispatch(g.deleteRule({value:e.ruleId})),this.setState({isSaving:!1}),this.props.update(),[3,4];case 3:return r=n.sent(),this.setState({isSaving:!1}),console.log(r.stack),this.props.dispatch(y.updateNotification({value:{id:Math.random(),content:r.message,type:"alert",status:"error"}})),[3,4];case 4:return[2]}})})},Rules.prototype.onCancel=function(){this.setState({showAddNewRule:!1})},Rules.prototype.getDisplayTextFromRuleFilter=function(e){var t=this;if(!e)return"";var a=JSON.parse(e),r=a.children.map(function(e){return s.createElement("span",null,"Key detail ",t.getAttributeName(S.getSelectedAttributeId(e)),s.createElement("b",{className:"awsui-util-mr-xs"}," ",A.RelationalOperatorDisplayText[S.getSelectedOperator(e,"-VALUE")]),null!=e.condition&&e.children.length>0?s.createElement("span",null,s.createElement("span",{className:"awsui-util-mr-xs"},e.children[0].right.replace("CURRENCY_","").replace("PHONE_","")),s.createElement("span",null,e.children[1].right," ")):e.right+"",s.createElement("br",null))});if(a&&null!=a.condition){if(a.condition===A.LogicalOperator.AND)return s.createElement("span",null,"When ",s.createElement("b",null," ALL")," of below is true",s.createElement("br",null),r);if(a.condition===A.LogicalOperator.OR)return s.createElement("span",null,"When ",s.createElement("b",null," ANY")," of below is true",s.createElement("br",null),r)}},Rules.prototype.getDisplayTextFromActions=function(e){if(!e)return"";for(var t=c.getActorLookupIndex(this.props.approvalPlan,this.props.viewers),a=[],r=0;r<e.length;r++)if(e[r].parameters.length>0){a.push(s.createElement("div",null,s.createElement("b",null,A.RuleActionTypeDisplayText[e[r].type]),s.createElement("div",{className:"awsui-util-clearfix"})));for(var n=0;n<e[r].parameters.length;n++){var i=e[r].parameters[n],o=t[i.entityId];null!=o?a.push(s.createElement("div",null,s.createElement("span",{key:i.entityId},s.createElement("b",null,A.ActionParameterTargetStateDisplayText[i.targetState]),o.approver&&s.createElement("span",{className:"awsui-util-ml-xs"},"Approver ",s.createElement("b",null,o.approver.name)," in"),o.route&&s.createElement("span",{className:"awsui-util-ml-xs"},"Group ",s.createElement("b",null,o.route.name)," in"),o.level&&s.createElement("span",{className:"awsui-util-ml-xs"},"Level ",s.createElement("b",null,o.level.name)),o.viewer&&s.createElement("span",{className:"awsui-util-ml-xs"},"Viewer ",s.createElement("b",null,o.viewer.name))),s.createElement("div",{className:"awsui-util-clearfix"}))):a.push(s.createElement("div",null,s.createElement("span",{style:{color:"red"},key:i.entityId},s.createElement("b",null,A.ActionParameterTargetStateDisplayText[i.targetState]),s.createElement("i",{className:"awsui-util-ml-xs"},i.type," ",i.entityId," doesn't exist.")),s.createElement("div",{className:"awsui-util-clearfix"})))}}return a},Rules.prototype.getAttributeType=function(e){return null!=this.state.attributes&&null!=this.state.attributes[e]?this.state.attributes[e].type:s.createElement("i",null,"Unknown")},Rules.prototype.getAttributeName=function(e){return null!=this.state.attributes&&null!=this.state.attributes[e]?this.state.attributes[e].name:s.createElement("i",null,"Unknown")},Rules.prototype.getAttribute=function(e){return this.state.attributes[e]},Rules.prototype.editRule=function(e){var t=this.state.stepInfo;t[t.length-1].buttonSubmitText="Update Rule";var a=JSON.parse(e.filter);a=this.prepareComplexValues(a),e.filter=JSON.stringify(a),this.setState({ruleToEdit:e,showAddNewRule:!0,stepInfo:t})},Rules.prototype.prepareComplexValues=function(e){if(e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++){var a=e.children[t];if(a.left){var r=a.left.replace("-PARAMETER","").replace("-VALUE",""),n=this.getAttribute(r);if(n.type===R.ATTRIBUTE_TYPE.SINGLE_DROPDOWN||n.type===R.ATTRIBUTE_TYPE.MULTI_DROPDOWN){var i=n.value;if(i){for(var o=JSON.parse(i),s=0;s<o.length;s++)n.type===R.ATTRIBUTE_TYPE.SINGLE_DROPDOWN?o[s].selected=o[s].value===a.right:n.type===R.ATTRIBUTE_TYPE.MULTI_DROPDOWN&&(o[s].selected=a.right.includes(o[s].value));a.right=JSON.stringify(o),a=this.prepareComplexValues(a)}}}}return e},Rules.prototype.getNewRule=function(){if(this.state.ruleToEdit&&null==this.state.ruleToEdit.ruleId)return this.state.ruleToEdit;var e=new v.Rule,t=new v.RuleFilter,a=new v.Action,r=new v.Action;return e.entityId=this.props.entityId,e.entityType=this.props.entityType,e.overridable=!0,e.overridden=!1,e.order=this.getRules().length+1,a.type=A.RuleActionType.DYNAMIC_APPROVAL_PLAN,a.parameters=[],r.type=A.RuleActionType.DYNAMIC_APPROVAL_VIEWERS,r.parameters=[],e.actions=[a,r],t.condition=A.LogicalOperator.AND,t.children=[{children:[],left:"",operator:"",right:""}],e.filter=JSON.stringify(t),e.name="",e},Rules.prototype.getRules=function(){var e=this.props.rules;if(e){return Object.keys(e).map(function(t){return e[t]}).sort(function(e,t){return e.order-t.order}).map(function(e){return e})}return[]},Rules.prototype.getApprovalViewers=function(){var e=this.props.viewers;return Object.keys(e).map(function(t){return e[t]}).map(function(e){return e})},Rules.prototype.getAttributes=function(e){return Object.keys(e).map(function(t){return e[t]}).map(function(e){return n({},e)})},Rules.prototype.cloneAttributes=function(e){var t={};return Object.keys(e).map(function(t){return e[t]}).map(function(e){t[e.id]=n({},e)}),t},Rules.prototype.performOverride=function(){this.setState({isOverriding:!0});var e=n({},this.state.ruleBeingOverridden);e.overridden=!e.overridden,e.overriddenReason=this.state.overrdingReason,e.overriddenBy=null,this.saveRule(e)},Rules.prototype.render=function(){var e=this,t=this.getRules(),a=[];return this.props.entityType===A.RuleEntityType.Template?a=[{id:"1",header:"Id",cell:function(e){return e.ruleFriendlyId}},{id:"7",header:"Order",cell:function(e){return e.order}},{id:"2",header:"Name",cell:function(e){return e.name}},{id:"3",header:"Condition",cell:function(t){return e.getDisplayTextFromRuleFilter(t.filter)}},{id:"4",header:"Actions",cell:function(t){return e.getDisplayTextFromActions(t.actions)}},{id:"5",header:"Overridable",cell:function(e){return!0===e.overridable?"Yes":"No"}},{id:"8",header:"",cell:function(t){return s.createElement(l.Button,{text:"Edit",variant:"primary",onClick:function(){e.editRule(n({},t))}})}},{id:"9",header:"",cell:function(t){return s.createElement(l.Button,{text:"Delete",loading:!0===t._isBeingDeleted,variant:"primary",onClick:function(){e.deleteRule(t)}})}}]:this.props.entityType===A.RuleEntityType.Request&&(a=[{id:"1",header:"Id",cell:function(e){return e.ruleFriendlyId}},{id:"7",header:"Order",cell:function(e){return e.order}},{id:"2",header:"Name",cell:function(e){return e.name}},{id:"3",header:"Condition",cell:function(t){return e.getDisplayTextFromRuleFilter(t.filter)}},{id:"4",header:"Actions",cell:function(t){return e.getDisplayTextFromActions(t.actions)}},{id:"Status",header:"Status",cell:function(e){return e.status?e.status:"-"}},{id:"5",header:"Overridable",cell:function(e){return!0===e.overridable?"Yes":"No"}}],0!=this.props.isEditPage&&a.push({id:"8",header:"",cell:function(t){return s.createElement(l.Button,{disabled:!t.overridable,text:t.overridden?"Enable":"Disable",variant:"primary",onClick:function(){e.overrideRuleResult(n({},t))}})}})),s.createElement("div",{className:"awsui"},s.createElement("div",null,s.createElement(l.Table,{columnDefinitions:a,items:t,empty:s.createElement("div",{className:"awsui-util-t-c"},s.createElement("p",{className:"awsui-util-mb-m"},"No rules to display"))}),0!=this.props.isEditPage&&s.createElement("div",{className:" awsui-util-mt-m awsui-util-mb-m"},this.props.entityType===A.RuleEntityType.Template&&s.createElement(l.Button,{text:"Add new rule",variant:"primary",onClick:function(){var t=e.state.stepInfo;t[t.length-1].buttonSubmitText="Create Rule",e.setState({ruleToEdit:e.getNewRule(),showAddNewRule:!0,stepInfo:t})},"data-testid":"template-rule__add-new-rule-button"}),s.createElement(l.Button,{disabled:null==t||0===t.length,text:"Simulate rules",variant:"primary",onClick:function(){e.setState({showSimulateRule:!0})},"data-testid":"template-rule__simulate-rules-button"}))),this.state.showAddNewRule&&s.createElement(l.Modal,{content:s.createElement("div",null,s.createElement(u.default,{info:{routesByLevel:this.props.approvalPlan,attributeList:this.state.attributeList,viewersList:this.getApprovalViewers(),rule:this.state.ruleToEdit,isSaving:this.state.isSaving},stepInfo:this.state.stepInfo,onPublish:function(t){return e.onPublish(t)},onCancel:function(){return e.onCancel()}})),size:"large",expandToFit:!0,visible:this.state.showAddNewRule,header:"Add new rule",onDismiss:function(t){t.preventDefault(),e.setState({showAddNewRule:!1})}}),this.state.showSimulateRule&&s.createElement(l.Modal,{content:s.createElement("div",null,s.createElement(_.default,{attributes:this.state.attributes,approvalPlan:this.props.approvalPlan,viewers:this.props.viewers})),size:"large",expandToFit:!0,visible:this.state.showSimulateRule,header:"Simulate rules",onDismiss:function(t){t.preventDefault(),e.setState({showSimulateRule:!1})}}),this.state.showOverrideModal&&s.createElement(l.Modal,{content:s.createElement("div",null,s.createElement(l.Textarea,{rows:7,placeholder:"Provide reason to override.",onInput:function(t){e.setState({overrdingReason:t.detail.value})}}),s.createElement("div",{className:"awsui-util-mt-m"}),s.createElement(l.Alert,{content:"When a rule is disabled, approvers and viewers will be disassciated from it. "})),expandToFit:!0,visible:this.state.showOverrideModal,header:(!0===this.state.ruleBeingOverridden.overridden?"Enable":"Disable")+" rule",onDismiss:function(){e.setState({showOverrideModal:!1})},footer:s.createElement("span",{className:"awsui-util-f-r"},s.createElement(l.Button,{variant:"link",text:"Cancel",loading:this.state.isOverriding,onClick:function(){e.setState({showOverrideModal:!1,ruleBeingOverridden:null})}}),s.createElement(l.Button,{disabled:null==this.state.overrdingReason||0===this.state.overrdingReason.trim().length,variant:"primary",loading:this.state.isOverriding,text:(!0===this.state.ruleBeingOverridden.overridden?"Enable":"Disable")+" rule",onClick:function(){e.performOverride()}}))}))},Rules}(s.Component);t.default=p.connect(mapStateToProps)(P)},759:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(10);t.isValidEscalationPeriod=function(e,t){if(e<4||e>30||e.includes(".")){var a=Math.random();return t(r.updateNotification({value:{id:a,content:"Please enter a valid escalation period within 4 to 30 days.",loading:!1,type:"alert",status:"error",duration:3e3}})),!1}return!0}},760:function(e,t,a){"use strict";function updateFavoritesTemplates(e,t){return function(a){a(i.updateNotification({value:{id:o,content:t?"Remove Template from Favorites":"Add Template to Favorites",loading:!0,type:"alert",status:"info"}})),r.default.get(n.ServiceEndPoints.getFavoriteTemplates).then(function(s){var l=s.data,c=l.data.userPreferences,p=0===c.length?[]:c[0].keyValue,u=p.indexOf(e);if(t&&-1!==u)p.splice(u,1);else{if(-1!==u)return a(i.deleteNotification({value:o})),a(i.updateNotification({value:{id:Math.random(),content:"Template already present in Favorites.",type:"alert",status:"success",duration:5e3}})),void a(getFavoriteTemplatesList_Succeeded(l.data));-1!=p.indexOf("[]")&&p.splice(p.indexOf("[]"),1),p=p.concat([e])}var d=new URLSearchParams;d.append("userPreferenceValue",JSON.stringify(p)),d.append("removeTemplateFavorite",JSON.stringify(t)),d.append("templateId",e),r.default.post(n.ServiceEndPoints.updateFavoriteTemplates,d).then(function(e){var r=e.data;a(i.deleteNotification({value:o}));var n=r.isError,s=r.errorMessage;a(i.updateNotification({value:{id:Math.random(),content:n?s:t?"Template removed from Favorites successfully.":"Template added to Favorites successfully.",type:"alert",status:n?"error":"success",duration:5e3}})),a(getFavoriteTemplatesList_Succeeded(r.data))}).catch(function(e){a(i.deleteNotification({value:o})),a(i.updateNotification({value:{id:Math.random(),content:"Something went wrong, we are not able to add the template to favorites.",type:"alert",status:"error"}}))})}).catch(function(e){a(getFavoriteTemplatesList_Failed("Something went wrong, we are not able to load your favorite templates"))})}}function getFavoriteTemplatesList(){return function(e){r.default.get(n.ServiceEndPoints.getFavoriteTemplates).then(function(t){var a=t.data;e(i.deleteNotification({value:o})),e(getFavoriteTemplatesList_Succeeded(a.data))}).catch(function(t){e(getFavoriteTemplatesList_Failed("Something went wrong, we are not able to load your favorite templates"))})}}function getFavoriteTemplatesList_Succeeded(e){return{type:"GetFavoriteTemplatesList_Succeeded",payload:e}}function getFavoriteTemplatesList_Failed(e){return{type:"GetFavoriteTemplatesList_Failed",payload:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),n=a(4),i=a(10),o=Math.random();t.updateFavoritesTemplates=updateFavoritesTemplates,t.getFavoriteTemplatesList=getFavoriteTemplatesList,t.getFavoriteTemplatesList_Succeeded=getFavoriteTemplatesList_Succeeded,t.getFavoriteTemplatesList_Failed=getFavoriteTemplatesList_Failed},764:function(e,t,a){"use strict";function getFavoriteTemplatesListQuery(e){var t="";return 0===e.length?'\\"NA\\"':(e.forEach(function(e){t+='\\"'+e+'\\", '}),t)}function TemplateQueryBuilder(e){if(null==e)return null;var t=e.sortDesc?"desc":"asc",a="id"==e.sortBy?"createdAt":e.sortBy,s='[{field:\\"'+a+'\\" order: \\"'+t+'\\"}]',l=getFavoriteTemplatesListQuery(e.favoriteTemplatesList);if(!e.TextFilterKeyword||""==e.TextFilterKeyword.trim())switch(e.CurrentTab){case"MY_ACTIVE_TEMPLATES":return"{TemplateSearch(from:"+e.From+" size:"+e.Size+" sortList:"+s+' match:{active:true} roleList: [\\"TEMPLATE_ADMIN\\", \\"TEMPLATE_OWNER\\", \\"TEMPLATE_VIEWER\\"] ) '+n+" }";case"MY_INACTIVE_TEMPLATES":return"{TemplateSearch(from:"+e.From+" size:"+e.Size+" sortList:"+s+' match:{active:false} roleList: [\\"TEMPLATE_ADMIN\\", \\"TEMPLATE_OWNER\\", \\"TEMPLATE_VIEWER\\"] ) '+n+" }";case"PUBLIC_TEMPLATES":return"{TemplateSearch(from:"+e.From+" size:"+e.Size+" sortList:"+s+" match:{templatePublic:true} ) "+n+" }";case"FAVORITE_TEMPLATES":return"{TemplateSearch(from:"+e.From+" size:"+e.Size+" sortList:"+s+"  matchAnyInList: {id: ["+l+"]} ) "+n+" }";case"SEARCH_RESULT":var c=e.SearchTerm.replace(/\\/g,String.raw(i||(i=r(["\\\\"],["\\\\\\\\"])))).replace(/"/g,String.raw(o||(o=r(['\\"'],['\\\\\\"']))));return"relevanceSort"===e.sortOption?"{TemplateSearch(from:"+e.From+" size:"+e.Size+'  keywords: \\"'+c+'\\") '+n+"}":"{TemplateSearch(from:"+e.From+" size:"+e.Size+" sortList:"+s+' keywords: \\"'+e.SearchTerm+'\\") '+n+"}"}return"ApprovalListSearch(from:"+e.From+" size:"+e.Size+" roleList:["+e.CurrentFilter.ROLE_LIST+"] statusList:["+e.CurrentFilter.APPROVAL_STATUS_LIST+"] assignmentStatusList:["+e.CurrentFilter.ASSIGNMENT_STATUS_LIST+'] keywords: \\"'+e.TextFilterKeyword+'\\") {id status createdAt changedAt title shortSummary ownerId}'}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var n="{ total, templates{ id,active, title, createdAt,createdBy{displayName}, owner { actor {displayName} }  } }";t.getFavoriteTemplatesListQuery=getFavoriteTemplatesListQuery,t.default=TemplateQueryBuilder;var i,o},765:function(e,t,a){"use strict";function restringifyVals(e,t){return e?(t=t||"",e.split(",").filter(function(e){return!!e.trim()}).map(function(e){return'\\"'+t+e.trim()+'\\"'}).join(",")):""}function getDateQueries(e){return Object.entries(e).filter(function(e){e[0];return e[1]}).map(function(e){var t=e[0],a=e[1],i=a.split(n.DELIMITER),o=i[0],s=i[1];return" "+t+': {\n          gte: \\"'+r.utc(o).startOf("day").format()+'\\",\n          lte: \\"'+r.utc(s).endOf("day").format()+'\\"\n        }'})}function GenericReportingQueryBuilder(e,t){var a=r(t.startDate).format("YYYY-MM-DD"),n=r(t.endDate).format("YYYY-MM-DD"),i=t.above100MMUSD,o=t.currentPageIndex,s=t.outputType,l=t.pageSize,c=t.inputCriteria,p=t.filters,u=c.approverGroupValue,d=c.approverValue,m=c.requesterValue,f=c.templateIdValue,E=c.viewerGroupValue,h=c.viewerValue,v=c.priority,A=[{role:"APPROVER",value:d,isUser:!0},{role:"APPROVER",value:u,isUser:!1},{role:"VIEWER",value:h,isUser:!0},{role:"VIEWER",value:E,isUser:!1},{role:"REQUESTER",value:m,isUser:!0}],g=A.map(function(e){var t=e.role,a=e.value,r=e.isUser;return t="VIEWER"===t?'[\\"VIEWER\\",\\"PRIVATE_VIEWER\\"]':'\\"'+t+'\\"',"{\n    flag: "+!!a+',\n    listName: \\"actorList\\",\n    listOfObjects: [\n      {\n        key: \\"actor\\",\n        value: ['+restringifyVals(a,r?"USER~":"")+']\n      },\n      {\n        key: \\"role\\",\n        value: '+t+"\n      }\n    ]\n  }"}),T=p.neededOnDate,y=p.createdAt,_=p.approvalId,N=p.externalId,R=p.title,S='\n    startDate: \\"'+a+'\\",\n    endDate: \\"'+n+'\\",\n    request: {\n      flag: true,\n      singleMatch: {\n        flag: true,\n        listOfObjects: [\n          {\n            key: \\"transactionAboveUsd100M\\",\n            value: '+(i?'[\\"true\\"]':"[]")+'\n          },\n          {\n            key: \\"templateId\\",\n            value: ['+restringifyVals(f)+']\n          },\n          {\n            key: \\"status\\",\n            value: ['+(p.status?'\\"'+p.status+'\\"':"")+']\n          },\n          {\n            key: \\"externalId\\",\n            value: ['+(N?'\\"'+N+'\\"':"")+']\n          },\n          {\n            key: \\"priority\\",\n            value: ['+(p.priority?'\\"'+p.priority+'\\"':restringifyVals(v))+']\n          },\n          {\n            key: \\"isPrivate\\",\n            value: ['+(p.isPrivate?"INCLUDESPRIVATEINFO"===p.isPrivate?'\\"true\\"':'\\"false\\"':"")+"]\n          }\n        ]\n      },\n      listMatch: {\n        flag: true,\n        listOfLists: ["+g.join(",")+"]\n      }\n    }\n  ";if("GENERIC_REPORTING"===e){var P=buildOutputQuery(s);return("\n      {\n        GenericReportApprovals (\n          from: "+l*(o-1)+",\n          size: "+l+',\n          wildCardMatch: {\n               id: \\"'+(_&&"*"+_+"*")+'\\",\n               title: \\"'+(R&&"*"+R+"*")+'\\"\n          },\n          datetimeRange: { '+getDateQueries({neededOnDate:T,createdAt:y}).join(",")+" },\n          "+S+"\n        ) "+P+"\n      }\n    ").replace(/\n/g," ")}return("mutation\n    {\n      GenerateExcelForGenericReport (\n        responseColumns: [ "+generateResponseColumns(s,t)+" ],\n        "+S+"\n      ) {Key Bucket}\n    }\n  ").replace(/\n/g," ")}function buildOutputQuery(e){var t="{total approvals{";return e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.APPROVAL_TITLE)>-1&&(t+=" title"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.APPROVAL_ID)>-1&&(t+=" id"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.EXTERNAL_ID)>-1&&(t+=" externalId"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.STARTED_AT)>-1&&(t+=" startedAt"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.CREATED_AT)>-1&&(t+=" createdAt"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.STATUS)>-1&&(t+=" status"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.ENDED_AT)>-1&&(t+=" endedAt"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.DOCUMENTS_EXIST)>-1&&(t+=" documentsExist"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.PRIORITY)>-1&&(t+=" priority"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.PRIVACY_TYPE)>-1&&(t+=" isPrivate"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.TAGS)>-1&&(t+=" tagList{tagName}"),t+=buildActorOutput(e),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.KEYDETAILS)>-1&&(t+=" attributeList{name value type parameter}"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.TEMPLATEID)>-1&&(t+=" templateId"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.ROUTE_NAME)>-1&&(t+=" routeList{name id}"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_AT)>-1&&(t+=" invalidatedAt"),e.indexOf(n.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_BY)>-1&&(t+=" invalidatedBy"),e.includes(n.CUSTOM_REPORTS_CONSTANTS.APPROVAL_NEED_BY)&&(t+=" neededOnDate"),t+"}}"}function buildActorOutput(e){if(-1===e.indexOf("ALL_ACTOR")&&-1===e.indexOf("APPROVER_ACTION")&&-1===e.indexOf("ROLE")&&-1===e.indexOf("ALL_ACTOR_ALIAS")&&-1===e.indexOf("DECISION_NEEDED_ON")&&-1===e.indexOf("DECISION_MADE_ON"))return' actorList(request:[{key:\\"role\\"  , value:[\\"REQUESTER\\"]}]){actor role actorAlias}';var t="";return["ALL_ACTOR","REQUESTER","REQUESTER_ALIAS"].some(function(t){return e.includes(t)})&&(t+=" actor role "),["ALL_ACTOR_ALIAS","REQUESTER_ALIAS"].some(function(t){return e.includes(t)})&&(t+=" actorAlias "),e.indexOf("APPROVER_ACTION")>-1&&(t+=" assignmentStatus "),e.indexOf("ROUTE_NAME")>-1&&(t+=" routeId "),e.includes(n.CUSTOM_REPORTS_CONSTANTS.DECISION_NEEDED_ON)&&(t+=" decisionNeededOn "),e.includes(n.CUSTOM_REPORTS_CONSTANTS.DECISION_MADE_ON)&&(t+=" decisionMadeOn "),' actorList(request:[{key:\\"role\\"  , value:[\\"REQUESTER\\" ,\\"APPROVER\\" ,\\"VIEWER\\" ,\\"LEGALCOUNSEL\\"]}]){'+t+"}"}function generateResponseColumns(e,t){var a=[];return e.forEach(function(e){switch(e){case n.CUSTOM_REPORTS_CONSTANTS.APPROVAL_ID:a.push('\\"id\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.EXTERNAL_ID:a.push('\\"externalId\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.APPROVAL_TITLE:a.push('\\"title\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.STARTED_AT:a.push('\\"startedAt\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.CREATED_AT:a.push('\\"createdAt\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.ENDED_AT:a.push('\\"endedAt\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.STATUS:a.push('\\"status\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.REQUESTER:a.push('\\"requester\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.REQUESTER_ALIAS:a.push('\\"requesterAlias\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.TEMPLATEID:a.push('\\"templateId\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR:a.push('\\"actorList.actor\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.ALL_ACTOR_ALIAS:a.push('\\"actorList.actorAlias\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.APPROVER_ACTION:a.push('\\"actorList.assignmentStatus\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.DECISION_NEEDED_ON:a.push('\\"actorList.decisionNeededOn\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.DECISION_MADE_ON:a.push('\\"actorList.decisionMadeOn\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.ROLE:a.push('\\"actorList.role\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.KEYDETAILS:null!=t.selectedKeys&&t.selectedKeys.length>0&&t.selectedKeys.forEach(function(e){a.push('\\"attributeList.'+e+'\\"')});break;case n.CUSTOM_REPORTS_CONSTANTS.DOCUMENTS_EXIST:a.push('\\"documentsExist\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.ROUTE_NAME:a.push('\\"routeList.name\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_AT:a.push('\\"invalidatedAt\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.INVALIDATED_BY:a.push('\\"invalidatedBy\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.APPROVAL_NEED_BY:a.push('\\"neededOnDate\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.PRIORITY:a.push('\\"priority\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.PRIVACY_TYPE:a.push('\\"isPrivate\\"'),a.push('\\"actorList\\"');break;case n.CUSTOM_REPORTS_CONSTANTS.TAGS:a.push('\\"tagList.tagName\\"')}}),a}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),n=a(6);t.default=GenericReportingQueryBuilder},766:function(e,t,a){"use strict";function ReportingQueryBuilder(e,t){r().format("YYYY-MM-DD");if("REPORTING_APPROVALS_TEMPLATE_ALL_APPROVALS"==e)return"{ReportApprovalsTemplate(from : "+t.from+" , size: "+t.size+' , templateId :\\"'+t.subHeaderText+'\\" , startDate : \\"'+t.fromDate+'\\" ,endDate : \\"'+t.toDate+'\\") {total approvals{id , status , createdBy , createdAt ,endedAt}}}';if("REPORT_KEYDETAILS_KEYSPERPERSON"==e){var a=t.users.map(function(e){return'\\"'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'});return"{KeyDetailsPerPerson(aliases:["+a+"])}"}if("ALL_KEYS"==e){var n="{GetAllKeys(";if(t.users&&t.users.length>0){var a=t.users.map(function(e){return'\\"'+e.match(/\(([^)]+)\)/)[1]+'\\"'});n=n+"users:["+a+"] "}if(t.templates&&t.templates.length>0){n=n+"templates:["+t.templates.map(function(e){return'\\"'+e+'\\"'})+"] "}if(t.costCenters&&t.costCenters.length>0){n=n+"costCenters:["+t.costCenters.map(function(e){return'\\"'+e+'\\"'})+"] "}if(t.posixGroups&&t.posixGroups.length>0){n=n+"posixGroups:["+t.posixGroups.map(function(e){return'\\"'+e+'\\"'})+"] "}if(t.ldapGroups&&t.ldapGroups.length>0){n=n+"ldapGroups:["+t.ldapGroups.map(function(e){return'\\"'+e+'\\"'})+"] "}if(t.antGroups&&t.antGroups.length>0){n=n+"antGroups:["+t.antGroups.map(function(e){return'\\"'+e+'\\"'})+"] "}return n+")}"}if("REPORT_KEYDETAILS"==e){var i=t.users.map(function(e){return'\\"'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'}),o=t.keys.map(function(e){return'\\"'+e.value+'\\"'});return"{ReportKeyDetailsPerPersonPerKey( from : "+t.from+" , size: "+t.size+' , startDate : \\"'+t.fromDate+'\\" ,endDate : \\"'+t.toDate+'\\" ,aliases:['+i+"] , keyNames:["+o+"]){total keyDetails{title createdAt createdBy id status endedAt keys{name value type parameter}}}}"}if("REPORTING_SPECIFIC_DECISION_TIME_ALL_APPROVALS"==e){var i=t.users.map(function(e){return'\\"USER~'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'});return"{GenericReportApprovals(from : "+t.from+" , size: "+t.size+', startDate : \\"'+t.fromDate+'\\" , endDate : \\"'+t.toDate+'\\" , request:{listMatch:{listOfLists:[{listName:\\"actorList\\",flag:true,listOfObjects:[{key:\\"actionBy\\",value:['+i+']}]}],flag:true},flag:true}){total,approvals{status,createdBy,createdAt,endedAt,actorList(request:[{key:\\"actionBy\\",value:['+i+"]}]){actor,decisionDuration,assignedOn,assignmentStatus,actionBy}title,id,}}}"}if("REPORTING_ALL_DECISION_TIME_ALL_APPROVALS"==e){var i=t.users.map(function(e){return'\\"USER~'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'});return"{GenericReportApprovals(from : "+t.from+" , size: "+t.size+' , startDate : \\"'+t.fromDate+'\\" , endDate : \\"'+t.toDate+'\\" , request:{listMatch:{listOfLists:[{listName:\\"actorList\\",flag:true,listOfObjects:[{key:\\"actionBy\\",value:['+i+'] }]}],flag:true},flag:true}){total,approvals{status,createdBy,createdAt,endedAt,actorList(request:[{key:\\"role\\"  , value:[\\"APPROVER\\"]}]){actor,decisionDuration,assignedOn,assignmentStatus,actionBy}title,id,}}}'}if("GENERATE_EXCEL"==e)switch(t.activeReport){case"ATU":return'mutation{generateExcelForApprovalsTemplate( templateId :\\"'+t.subHeaderText+'\\" , startDate : \\"'+t.fromDate+'\\" ,endDate : \\"'+t.toDate+'\\"){Key Bucket}}';case"KD":var i=t.users.map(function(e){return'\\"'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'}),o=t.keys.map(function(e){return'\\"'+e.value+'\\"'});return'mutation{generateExcelForKeyDetails( startDate : \\"'+t.fromDate+'\\" ,endDate : \\"'+t.toDate+'\\" ,aliases:['+i+"] , keyNames:["+o+"] ){Key Bucket}}";case"SADT":var i=t.users.map(function(e){return'\\"'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'});return"mutation{generateExcelForSpecificDecisonTime( actionBy:["+i+'] startDate : \\"'+t.fromDate+'\\" ,endDate : \\"'+t.toDate+'\\", request:{listMatch:{listOfLists:[{listName:\\"actorList\\",flag:true,listOfObjects:[{key:\\"actionBy\\",value:['+i+"]}]}],flag:true},flag:true}){Key Bucket}}";case"AADT":var i=t.users.map(function(e){return'\\"'+e.value.match(/\(([^)]+)\)/)[1]+'\\"'});return'mutation{generateExcelForDecisonTime( startDate : \\"'+t.fromDate+'\\" ,endDate : \\"'+t.toDate+'\\", request:{listMatch:{listOfLists:[{listName:\\"actorList\\",flag:true,listOfObjects:[{key:\\"actionBy\\",value:['+i+"]}]}],flag:true},flag:true}){Key Bucket}}"}return null}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1);t.default=ReportingQueryBuilder},767:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=a(26);a(775);var i=a(776);n.render(r.createElement(i.default,null),document.getElementById("root"))},776:function(e,t,a){"use strict";function getTab(e){return H.concat(Y).reduce(function(e,t){var a=t.path,r=t.tab;return i({},e,(n={},n[a]=r,n));var n},{"/Approvals":A.TabId.pending,"/Templates":A.TabId.active})[e]||""}var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=a(0),l=a(7),c=a(782),p=a(23);a(948),a(949);var u=a(77),d=a(1155),m=a(1156),f=a(1160),E=a(1161),h=a(1162),v=a(1163),A=a(57),g=a(1237),T=a(1503),y=a(1505),_=a(1517),N=a(1519),R=a(1546),S=a(1548),P=a(1549),b=a(1551),C=a(1552),O=a(701),I=a(41),D=a(1561),L=a(1562),w=a(1563),M=a(1570),U=a(1571),k=a(1573),V=a(6),F=a(13),x=p.applyMiddleware(C,O.default)(p.createStore),B=I.default.div(q||(q=r(["\n  #rootContent {\n    margin-left: 78px;\n    width: calc(100% - 78px);\n    padding-bottom: 0px;\n  }\n  .awsui-input-invalid {\n    &:focus {\n      border: 1px solid #df3312;\n      box-shadow: 0 0 0 1px #df3312;\n    }\n  }\n  .wordBreakAll {\n    word-break: break-all;\n  }\n"],["\n  #rootContent {\n    margin-left: 78px;\n    width: calc(100% - 78px);\n    padding-bottom: 0px;\n  }\n  .awsui-input-invalid {\n    &:focus {\n      border: 1px solid #df3312;\n      box-shadow: 0 0 0 1px #df3312;\n    }\n  }\n  .wordBreakAll {\n    word-break: break-all;\n  }\n"]))),H=[{path:"/Approvals/pending",tab:A.TabId.pending},{path:"/Approvals/future",tab:A.TabId.future},{path:"/Approvals/previous",tab:A.TabId.previous},{path:"/Approvals/shared",tab:A.TabId.shared},{path:"/Approvals/createdbyme",tab:A.TabId.createdbyme},{path:"/Approvals/admin",tab:A.TabId.admin},{path:"/Approvals/onhold",tab:A.TabId.onHold},{path:"/Approvals/all",tab:A.TabId.all},{path:"/Approvals/search",tab:A.TabId.search}],Y=[{path:"/Templates/active",tab:A.TabId.active},{path:"/Templates/inactive",tab:A.TabId.inactive},{path:"/Templates/public",tab:A.TabId.public},{path:"/Templates/search",tab:A.TabId.search},{path:"/Templates/favorites",tab:A.TabId.favoriteTemplates}],G=function(e){function App(t){var a=e.call(this,t)||this;return a.onRedirection=a.onRedirection.bind(a),a.addTour=a.addTour.bind(a),a.removeTour=a.removeTour.bind(a),a.addTitle=a.addTitle.bind(a),a.state={searchTerm:"",searchType:"",activeTab:getTab(window.location.pathname),tours:[],featureFlags:{}},a}return n(App,e),App.prototype.componentDidMount=function(){var e=this,t=document.getElementById("userAlias").value,a=new CustomEvent("cathode-customerId",{detail:{customerId:t}});document.dispatchEvent(a);var r=this.getAppIDFromHost();F.logRocket.initWithAppID(r),F.logRocket.identifyUser(t),this.getAllEvidentlyFlags().then(function(t){e.setState({featureFlags:{privateApprovalsFeatureEnabled:t.data.data}})}).catch(function(e){console.log(e)}),setInterval(function(){e.sso()},6e4),window.onfocus=function(){return e.sso()}},App.prototype.getAllEvidentlyFlags=function(){return d.getEvidentlyFlag("KASIProject","PrivateApprovalsFeature")},App.prototype.getAppIDFromHost=function(){var e=window.location.hostname;return e===V.PROD_HOSTNAME?"amazon-legal-prod/aa-prod":e===V.GAMMA_HOSTNAME?"amazon-legal-prod/aa-gamma":"amazon-legal-prod/aa-beta"},App.prototype.sso=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){},e.open("GET","/sso/login"),e.send()},App.prototype.onRedirection=function(e){this.setState({searchType:e.searchType,searchTerm:e.searchTerm,activeTab:e.activeTab})},App.prototype.addTour=function(e){this.setState(function(t,a){return{tours:t.tours.concat([e])}})},App.prototype.removeTour=function(e){if(this.state){var t=this.state.tours;this.setState({tours:t.filter(function(t){return t.creator!==e})})}},App.prototype.addTitle=function(e){return e+"Amazon Approvals"},App.prototype.render=function(){var e=this,t=this.state.featureFlags.privateApprovalsFeatureEnabled;return o.createElement(l.Provider,{store:x(c.default,{service:V.service})},o.createElement(u.BrowserRouter,null,o.createElement(B,null,o.createElement(u.Route,{path:"/",component:m.default}),o.createElement(E.default,{action:this.onRedirection}),o.createElement(h.default,{action:this.onRedirection,tours:this.state.tours}),o.createElement("div",{id:"rootContent"},o.createElement(u.Switch,null,o.createElement(u.Route,{exact:!0,path:"/reports",render:function(a){return o.createElement(k.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/footer",component:f.default}),o.createElement(u.Route,{exact:!0,path:"/header",component:E.default}),o.createElement(u.Route,{exact:!0,path:"/leftnav",component:h.default}),o.createElement(u.Route,{exact:!0,path:"/Approval/Details/:approvalId",render:function(a){return o.createElement(g.default,i({},a,{addTour:e.addTour,removeTour:e.removeTour,addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/timeline/:approvalId",render:function(a){return o.createElement(g.default,i({},a,{addTour:e.addTour,removeTour:e.removeTour,addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/viewer/:approvalId",render:function(a){return o.createElement(g.default,i({},a,{addTour:e.addTour,removeTour:e.removeTour,addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/Approval/ReadOnly/:approvalId",render:function(a){return o.createElement(g.default,i({},a,{addTour:e.addTour,removeTour:e.removeTour,addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/create",render:function(a){return o.createElement(T.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/edit/:approvalRequestId/:messageId",render:function(a){return o.createElement(y.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/edit/:approvalRequestId",render:function(a){return o.createElement(y.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/BetaTestingUpdates",component:_.default}),o.createElement(u.Route,{exact:!0,path:"/ReleaseNotes",component:_.default}),o.createElement(u.Route,{exact:!0,path:"/Home/DelegationSettings",render:function(a){return o.createElement(R.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/Home/TransferSettings",render:function(a){return o.createElement(D.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/template/create",render:function(a){return o.createElement(N.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/template/edit/:templateId",render:function(a){return o.createElement(N.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/route/:approvalRequestId",render:function(a){return o.createElement(y.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/approval/permission/:approvalRequestId",render:function(a){return o.createElement(y.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/template/details/:templateId",render:function(a){return o.createElement(N.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/template/readonly/:templateId",render:function(t){return o.createElement(N.default,i({},t,{addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/template/createApproval/:templateId",render:function(a){return o.createElement(S.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/template/new/:templateId",render:function(a){return o.createElement(S.default,i({},a,{addTitle:e.addTitle,privateApprovalsFeatureEnabled:t}))}}),o.createElement(u.Route,{exact:!0,path:"/Home/UserPreferences",render:function(t){return o.createElement(L.default,i({},t,{addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/Home/EmailSettings",render:function(t){return o.createElement(L.default,i({},t,{addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/Home/QuickLinks",render:function(t){return o.createElement(b.default,i({},t,{addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/Template",render:function(t){return o.createElement(P.default,i({},t,{redirectedState:e.state,addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/Templates",render:function(t){return o.createElement(P.default,i({},t,{redirectedState:e.state,addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/bulkAction",render:function(t){return o.createElement(M.default,i({},t,{addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/exports",render:function(t){return o.createElement(U.default,i({},t,{addTitle:e.addTitle}))}}),o.createElement(u.Route,{exact:!0,path:"/Approvals",render:function(a){return o.createElement(v.default,i({},a,{redirectedState:e.state,privateApprovalsFeatureEnabled:t}))}}),H.map(function(a){var r=a.path,n=a.tab;return o.createElement(u.Route,{path:r,render:function(a){return o.createElement(v.default,i({},a,{privateApprovalsFeatureEnabled:t,redirectedState:i({},e.state,{activeTab:n})}))}})}),Y.map(function(t){var a=t.path,r=t.tab;return o.createElement(u.Route,{path:a,render:function(t){return o.createElement(P.default,i({},t,{redirectedState:i({},e.state,{activeTab:r}),addTitle:e.addTitle}))}})}),o.createElement(u.Route,{exact:!0,path:"/",render:function(t){return o.createElement(w.HomepageContainer,i({},t,{redirectedState:e.state,addTour:e.addTour,removeTour:e.removeTour}))}}),o.createElement(u.Route,{exact:!0,path:"/wut",component:null}))))))},App}(s.Component);t.App=G,t.default=G;var q},782:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(23),n=a(783),i=a(784),o=a(785),s=a(803),l=a(804),c=a(805),p=a(806),u=a(807),d=a(808),m=a(809),f=a(810),E=a(811),h=a(812),v=a(813),A=a(336),g=a(336),T=a(814),y=a(815),_=a(816),N=a(817),R=a(818),S=a(819),P=a(821),b=a(822),C=a(823),O=a(824),I=a(825),D=a(826),L=a(827),w=a(828),M=a(829),U=a(830),k=a(831),V=a(832),F=a(833),x=a(834),B=a(456),H=a(938),Y=a(939),G=a(940),q=a(941),j=a(942),W=a(943),Q=a(944),z=a(945),K=a(144),J=a(946),X=a(947),$=a(13),Z=r.combineReducers({notifications:P.default,AllApprovals:n.default,AdvancedSearch:i.default,ApprovalCounts:o.default,AllTemplates:s.default,NotificationFeed:H.default,Announcement:Y.default,approvalRequest:c.default,approval:m.default,ReportingApprovalsTemplateAllApprovals:l.default,allUsers:p.default,keysPerPerson:u.default,AllKeys:f.default,ReportingKeyDetails:d.default,reportingSpecificDecisionTime:N.default,reportingAllDecisionTime:R.default,templateBasics:E.default,templateAttributes:v.default,ruleEntity:g.default,rules:A.default,templateApprovalViewers:T.default,templateAttributeSelectOptions:y.default,templatePlan:h.default,templateReportingPermissions:G.templateReportingPermissionsReducer,template_dashboard_allTemplates:_.default,PeoplePickerModal:b.PeoplePickerComponentReducer,PeopleSearch:C.PeopleSearchReducer,DelegationService:S.default,HistoryService:O.default,TransferService:I.TransferServiceReducer,DisplayTransferReport:D.DisplaySummaryReportReducer,EmailSettings:L.EmailSettingsReducer,Menu:w.default,QuickLinks:M.QuickLinksReducer,unsavedDataChange:k.default,NotificationSettings:j.NotificationSettingsReducer,TemplateFavorites:Q.TemplateFavoritesReducer,GenericReportData:U.default,ConfigureGenericReports:z.GenericExportsReducer,task:J.default,taskConfig:X.default,SendAppLink:V.default,globalSignOut:F.default,globalUnblock:x.default,auditLog:B.auditLogReducer,permission:q.permissionReducer,approvalRelations:W.default,tags:K.default,permissionedContent:$.permissionedContent,templateClone:$.templateClone,service:$.service,createdApprovalFromTemplate:$.createdApprovalFromTemplate,approvalAdmins:$.approvalAdmins,templateAttachments:$.templateAttachments,groupMembers:$.groupMembers});t.default=Z},783:function(e,t,a){"use strict";function AllApprovalsReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"ALL_APPROVALS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=AllApprovalsReducer},784:function(e,t,a){"use strict";function AdvancedSearchReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"ALL_APPROVALS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=AdvancedSearchReducer},785:function(e,t,a){"use strict";function ApprovalCountsReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case r.UPDATE_APPROVAL_COUNTS:return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(329);t.default=ApprovalCountsReducer},803:function(e,t,a){"use strict";function AllTemplatesReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"ALL_TEMPLATES":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=AllTemplatesReducer},804:function(e,t,a){"use strict";function reportingApprovalsTemplate(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"REPORTING_APPROVALS_TEMPLATE_ALL_APPROVALS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=reportingApprovalsTemplate},805:function(e,t,a){"use strict";function approvalRequestReducer(e,t){if(void 0===e&&(e=[]),null==t)return null;var a=r({},e);switch(t.type){case n.RESET_STATE_COMMAND:return console.log("Approval request state reset"),{};case n.APPROVAL_PLAN_CHANGE:var i=o([],{$push:t.payload});return a.routesByLevel=i,a.approvalPlanVersion=t.version,a;case n.BASIC_DETAILS_CHANGE:return a.basicDetails=t.payload,a.approvalRequestVersion=t.version,a;case n.LEGAL_COUNSEL_CHANGE:return a.legalCounsel=t.payload,a;case n.FINAL_APPROVER_CHANGE:return a.finalApprover=t.payload,a;case n.APPROVAL_CREATED:return a.approvalRequestId=t.payload,a;case n.SAVE_APPROVAL_PLAN_COMMAND:return a.saveDeferredPlan=t.payload,a;case n.CARD_CONTEXT_VISIBILITY_COMMAND:return a.currentContextMenu={show:t.show,source:t.source},a;case n.MOVE_ACTOR_COMMAND:return a.moveActor=t.payload,a;default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(61),i=a(118),o=i.newContext();t.default=approvalRequestReducer},806:function(e,t,a){"use strict";function AllUsers(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"ALL_USERS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=AllUsers},807:function(e,t,a){"use strict";function AllUsers(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"KEYS_PER_PERSON":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=AllUsers},808:function(e,t,a){"use strict";function reportingKeyDetails(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"KEYDETAILS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=reportingKeyDetails},809:function(e,t,a){"use strict";function ApprovalReducer(e,t){switch(void 0===e&&(e=null),t.type){case r.GET_APPROVAL_BY_ID:return e=t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(220);t.default=ApprovalReducer},810:function(e,t,a){"use strict";function getAllKeys(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"ALL_KEYS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=getAllKeys},811:function(e,t,a){"use strict";function templateBasicsReducer(e,t){if(void 0===e&&(e=o),null==t)return e;var a=r({},e);switch(t.type){case n.TEMPLATE_UPDATE_BASICS:return r({},a,t.value);default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(167),i=a(6),o={id:null,active:!1,title:null,description:null,approvalTitle:null,approvalSummary:null,version:null,templatePublic:!1,approvalPlanLocked:!1,approvalRecommended:!1,approvalRecommendedForSwimlane:!1,approvalLegallyPrivileged:!1,approvalNeededByDays:i.DEFAULT_APPROVAL_NEEDED_BY_DAYS,escalationPeriodInDays:null};t.default=templateBasicsReducer},812:function(e,t,a){"use strict";function templatePlanReducer(e,t){if(void 0===e&&(e=i),null==t)return e;var a=r({},e);switch(t.type){case n.TEMPLATE_UPDATE_PLAN:return JSON.parse(JSON.stringify(r({},a,t.value)));case n.TEMPLATE_LOAD_PLAN:return console.log("okay"),console.log(r({},a,t.value)),JSON.parse(JSON.stringify(r({},a,t.value)));default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(221),i={version:null,plan:null};t.default=templatePlanReducer},813:function(e,t,a){"use strict";function templateBasicsReducer(e,t){if(void 0===e&&(e=i),null==t)return e;var a=r({},e);switch(t.type){case n.TEMPLATE_LOAD_ATTRIBUTES:return r({},t.value);case n.TEMPLATE_UPSERT_ATTRIBUTE:return a[t.value.id]=r({},a[t.value.id],t.value),a;case n.TEMPLATE_DELETE_ATTRIBUTE:return delete a[t.value],a;default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(222),i={};t.default=templateBasicsReducer},814:function(e,t,a){"use strict";function templateApprovalViewersReducer(e,t){if(void 0===e&&(e=i),null==t)return e;var a=r({},e);switch(t.type){case n.TEMPLATE_LOAD_APPROVAL_VIEWERS:return r({},t.value);case n.TEMPLATE_UPSERT_APPROVAL_VIEWER:return a[t.value.id]=r({},a[t.value.id],t.value),a;case n.TEMPLATE_DELETE_APPROVAL_VIEWER:return delete a[t.value],a;default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(337),i={};t.default=templateApprovalViewersReducer},815:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(338),i={attributeId:null,visible:!1};t.default=function(e,t){if(void 0===e&&(e=i),null==t)return e;r({},e);switch(t.type){case n.TEMPLATE_UPDATE_SELECT_OPTIONS:return r({},t.value);default:return e}}},816:function(e,t,a){"use strict";function AllTemplatesReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"TEMPLATE_DASHBOARD_ALL_TEMPLATES":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=AllTemplatesReducer},817:function(e,t,a){"use strict";function reportingSpecificDecisionTime(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"REPORTING_SPECIFIC_DECISION_TIME_ALL_APPROVALS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=reportingSpecificDecisionTime},818:function(e,t,a){"use strict";function reportingAllDecisionTime(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"REPORTING_ALL_DECISION_TIME_ALL_APPROVALS":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=reportingAllDecisionTime},819:function(e,t,a){"use strict";function DelegationServiceReducer(e,t){switch(void 0===e&&(e=n),t.type){case"Delegation_Succeeded":return Object.assign({},e,{delegationRules:t.payload,isLoading:!1,error:!1});case"Delegation_Pending":return Object.assign({},e,{isLoading:!0,delegationRules:null});case"Delegation_Failed":return Object.assign({},e,{isLoading:!1,error:!0,delegationRules:null,errorMessage:t.payload});case r.CreateDelegation_Pending:return Object.assign({},e,{isCreateDelegationPending:!0,isCreateDelegationSucceeded:!1,isCreateDelegationFailed:!1});case r.CreateDelegation_Succeeded:return Object.assign({},e,{isCreateDelegationPending:!1,isCreateDelegationSucceeded:!0,isCreateDelegationFailed:!1});case r.CreateDelegation_Failed:return Object.assign({},e,{isCreateDelegationPending:!1,isCreateDelegationSucceeded:!1,isCreateDelegationFailed:!0,createDelegationErrorMsg:t.payload});case r.GetPendingApprovals_Pending:return Object.assign({},e,{isGetPendingApprovalsLoading:!1,getPendingApprovalsFailed:!1,getPendingApprovalsFailedMsg:null});case r.GetPendingApprovals_Succeeded:return Object.assign({},e,{isGetPendingApprovalsLoading:!1,pendingApprovalsResult:t.payload,getPendingApprovalsFailed:!1,getPendingApprovalsFailedMsg:null});case r.GetPendingApprovals_Failed:return Object.assign({},e,{isGetPendingApprovalsLoading:!1,pendingApprovalsResult:null,getPendingApprovalsFailed:!0,getPendingApprovalsFailedMsg:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(139),n={delegationRules:null,isLoading:!0,error:!1,errorMessage:null};t.default=DelegationServiceReducer},821:function(e,t,a){"use strict";function default_1(e,t){if(void 0===e&&(e=i),null==t)return e;var a=r({},e),o=t.value;switch(t.type){case n.CREATE_NOTIFICATION:o.id||(o.id=Math.random());var s={};return s[o.id]=o,"alert"==o.type&&(o.status=o.status||"info",o.dismissible=0!=o.dismissible),r({},a,s);case n.UPDATE_NOTIFICATION:return a[o.id]=r({},a[o.id],o),a;case n.DELETE_NOTIFICATION:return delete a[t.value],a;default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),i={};t.default=default_1},822:function(e,t,a){"use strict";function PeoplePickerComponentReducer(e,t){void 0===e&&(e=n);switch(t.type){case r.SHOW_MODAL:return Object.assign({},e,{showModal:!0,modalHeaderText:t.modalProps.modalHeader,modalType:t.modalProps.modalType,peopleResults:[]});case r.HIDE_MODAL:return Object.assign({},e,{showModal:!1,modalHeaderText:"",modalType:"",peopleResults:[]});case r.SELECTED_PERSON:return Object.assign({},e,{selectedAlias:t.modalSelected.alias,modalType:t.modalSelected.modalType});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(220),n={peopleResults:[],showModal:!1,modalHeaderText:"",modalType:"",selectedAlias:null};t.PeoplePickerComponentReducer=PeoplePickerComponentReducer},823:function(e,t,a){"use strict";function PeopleSearchReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.PEOPLE_SEARCH_PENDING:return Object.assign({},e,{peopleResults:[],isPending:!0,isError:!1});case r.PEOPLE_SEARCH_SUCCESS:case r.PEOPLE_SEARCH_FAILED:return Object.assign({},e,{peopleResults:t.payload,isPending:!1,isError:!1});case r.CLEAR_PEOPLE_SEARCH:return Object.assign({},e,{peopleResults:[],isPending:!1,isError:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(46),n={peopleResults:[],isPending:!1,isError:!1,error:null};t.PeopleSearchReducer=PeopleSearchReducer},824:function(e,t,a){"use strict";function HistoryServiceReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.GET_ATTRIBUTE_HISTORY_SUCCEEDED:return Object.assign({},e,{history:t.payload,isLoading:!1,error:!1});case r.GET_ATTRIBUTE_HISTORY_PENDING:return Object.assign({},e,{isLoading:!0,history:[]});case r.GET_ATTRIBUTE_HISTORY_FAILED:return Object.assign({},e,{isLoading:!1,error:!0,history:[],errorMessage:t.payload});case r.GET_HISTORY_SUCCEEDED:return Object.assign({},e,{approvalHistory:t.payload,isApprovalLoading:!1,approvalErrorMessage:!1});case r.GET_HISTORY_PENDING:return Object.assign({},e,{isApprovalLoading:!0,approvalHistory:[]});case r.GET_HISTORY_FAILED:return Object.assign({},e,{isApprovalLoading:!1,approvalerror:!0,approvalHistory:[],approvalErrorMessage:t.payload});case r.UPDATE_ENDED_AT_STATUS:return Object.assign({},e,{endedAtStatus:t.payload});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(223),n={history:[],isLoading:!0,error:!1,errorMessage:null,approvalHistory:[],isApprovalLoading:!0,approvalerror:!1,approvalErrorMessage:null,endedAtStatus:null};t.default=HistoryServiceReducer},825:function(e,t,a){"use strict";function TransferServiceReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.Transfer_Pending:return Object.assign({},e,{isTransferPending:!0,isTransferSucceeded:!1,isTransferFailed:!1,errorMessage:null});case r.Transfer_Succeeded:return Object.assign({},e,{isTransferPending:!1,isTransferFailed:!1,isTransferSucceeded:!0,errorMessage:null});case r.Transfer_Failed:return Object.assign({},e,{isTransferPending:!1,isTransferFailed:!0,isTransferSucceeded:!1,errorMessage:t.payload});case r.GetTransferHistory_Pending:return Object.assign({},e,{isGetTransferHistoryPending:!0,isGetTransferHistoryFailed:!1,isGetTransferHistorySucceeded:!1,transferHistory:null,getTransferHistoryError:null});case r.GetTransferHistory_Failed:return Object.assign({},e,{isGetTransferHistoryPending:!1,isGetTransferHistoryFailed:!0,isGetTransferHistorySucceeded:!1,transferHistory:null,getTransferHistoryError:t.payload});case r.GetTransferHistory_Succeeded:return Object.assign({},e,{isGetTransferHistoryPending:!1,isGetTransferHistoryFailed:!1,isGetTransferHistorySucceeded:!0,transferHistory:t.payload,getTransferHistoryError:null});case r.GetTransferApprovals_Pending:return Object.assign({},e,{isGetTransferApprovalsPending:!0,isGetTransferApprovalsFailed:!1,isGetTransferApprovalsSucceeded:!1,getTransferApprovalError:null});case r.GetTransferApprovals_Failed:return Object.assign({},e,{isGetTransferApprovalsPending:!1,isGetTransferApprovalsFailed:!0,isGetTransferApprovalsSucceeded:!1,transferApprovalsList:null,getTransferApprovalError:t.payload});case r.GetTransferApprovals_Succeeded:return Object.assign({},e,{isGetTransferApprovalsPending:!1,isGetTransferApprovalsFailed:!1,isGetTransferApprovalsSucceeded:!0,transferApprovalsList:t.payload,getTransferApprovalError:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(140),n={isTransferPending:!1,isTransferSucceeded:!1,isTransferFailed:!1,errorMessage:null,isGetTransferHistoryPending:!1,isGetTransferHistoryFailed:!1,isGetTransferHistorySucceeded:!1,transferHistory:null,getTransferHistoryError:null,isGetTransferApprovalsPending:!1,isGetTransferApprovalsFailed:!1,isGetTransferApprovalsSucceeded:!1,transferApprovalsList:null,getTransferApprovalError:null};t.TransferServiceReducer=TransferServiceReducer},826:function(e,t,a){"use strict";function DisplaySummaryReportReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.DisplaySummaryReport:return Object.assign({},e,{FailedTransfers:t.payload,showModal:!0});case r.HideSummaryReport:return Object.assign({},e,{FailedTransfers:[],showModal:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(224),n={FailedTransfers:[],showModal:!1};t.DisplaySummaryReportReducer=DisplaySummaryReportReducer},827:function(e,t,a){"use strict";function EmailSettingsReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.GetEmailSettings_Succeeded:return Object.assign({},e,{isLoading:!1,isError:!1,isSucceeded:!0,preferencesData:t.payload});case r.GetEmailSettings_Failed:return Object.assign({},e,{isLoading:!1,isError:!0,isSucceeded:!1,preferencesData:null});case r.GetEmailSettings_Pending:return Object.assign({},e,{isLoading:!0,isError:!1,isSucceeded:!1,preferencesData:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(454),n={isLoading:!1,isError:!1,isSucceeded:!1,preferencesData:null};t.EmailSettingsReducer=EmailSettingsReducer},828:function(e,t,a){"use strict";function MenuReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.SHOW_MENU||r.HIDE_MENU:return Object.assign({},e,{visibility:t.payload.visibility,currentMenuId:t.payload.currentMenuId,rnd:Date()});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(455),n={visibility:!1,currentMenuId:""};t.default=MenuReducer},829:function(e,t,a){"use strict";function QuickLinksReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.GetQuickLinks_Succeeded:return Object.assign({},e,{isLoading:!1,isError:!1,isSucceeded:!0,quickLinksData:t.payload,errorMessage:null});case r.GetQuickLinks_Failed:return Object.assign({},e,{isLoading:!1,isError:!0,isSucceeded:!1,quickLinksData:null,errorMessage:t.payload});case r.GetQuickLinks_Pending:return Object.assign({},e,{isLoading:!0,isError:!1,isSucceeded:!1,quickLinksData:null,errorMessage:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(168),n={isLoading:!1,isError:!1,isSucceeded:!1,errorMessage:null,quickLinksData:null};t.QuickLinksReducer=QuickLinksReducer},830:function(e,t,a){"use strict";function GenericReportReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"GENERIC_REPORTING":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=GenericReportReducer},831:function(e,t,a){"use strict";function unsavedDataChangeReducer(e,t){if(void 0===e&&(e={}),null==t)return null;var a=r({},e);switch(t.type){case i.RESET_STATE_COMMAND:return{};case n.ADD_UNSAVED_ITEM_DATA_CHANGE:return null==a[t.payload.changedSection]&&(a[t.payload.changedSection]=[]),a[t.payload.changedSection].includes(t.payload.changedItem)||a[t.payload.changedSection].push(t.payload.changedItem),a;case n.REMOVE_UNSAVED_ITEM_DATA_CHANGE:if(null!=a&&null!=a[t.payload.changedSection])if(Array.isArray(t.payload.changedItem))for(var o=0;o<t.payload.changedSection.length;o++)a[t.payload.changedSection]=a[t.payload.changedSection].filter(function(e){return e!==t.payload.changedItem[o]});else a[t.payload.changedSection]=a[t.payload.changedSection].filter(function(e){return e!==t.payload.changedItem});return a;case n.REMOVE_UNSAVED_SECTION_DATA_CHANGE:return console.log(a),null!=a&&null!=a[t.payload.changedSection]&&delete a[t.payload.changedSection],console.log(a),a;default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(225),i=a(61);t.default=unsavedDataChangeReducer},832:function(e,t,a){"use strict";function sendAppLink(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"SEND_APP_LINK":return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=sendAppLink},833:function(e,t,a){"use strict";function globalSignout(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"GLOBAL_SIGNOUT":return t.payload;case"RESET_SIGNOUT_STATE":return null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=globalSignout},834:function(e,t,a){"use strict";function globalUnblock(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case"GLOBAL_UNBLOCK":return t.payload;case"RESET_UNBLOCK_STATE":return null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=globalUnblock},835:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(836),i=a(837),o=a(927),s=a(928),l=function(e){return e.category+e.event+e.user+e.newValue+e.oldValue},c=function(e,t){return e.changedAt!==t.changedAt?t.changedAt-e.changedAt:l(e).localeCompare(l(t))},p=function(e){return null!=e.newValueFull||null!=e.oldValueFull||e.newValue!==e.oldValue},u=function(e){return e.newValue&&e.newValue.length>300&&(e.newValue=e.newValue.substr(0,300)+" ...",e.hasDetail=!0),e.oldValue.length>300&&(e.oldValue=e.oldValue.substr(0,300)+" ...",e.hasDetail=!0),e};t.generateHistoryList=function(e,t,a,l){var d=[];return n.generateHistoryForAttribute(e.filter(function(e){return e.changedSection===r.HistoryChangedSection.ATTRIBUTE}),d,a),i.generateHistoryForActor(e.filter(function(e){return e.changedSection===r.HistoryChangedSection.ACTOR}),d,t),o.generateHistoryForRule(e.filter(function(e){return e.changedSection===r.HistoryChangedSection.RULE}),d,a,l),e.forEach(function(e){s.generateHistory(e,d)}),d.filter(p).map(u).sort(c)}},836:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),n=a(4),i=a(73),o=function(e){return e?e.name+": "+r.getDisplayTextFromAttribute(e):""},s=function(e,t,a){if(null==t)return null;var r=JSON.parse(JSON.stringify(e||{}));return Object.keys(t).forEach(function(e){null!=t[e]&&(r[e]=t[e])}),null!=a&&Object.keys(a).forEach(function(e){null!=a[e]&&null==t[e]&&(r[e]=null)}),r};t.generateHistoryForAttribute=function(e,t,a){var r={};a.forEach(function(e){r[e.id]=e}),e.forEach(function(e){var a=e.attributeAfter,l=e.attributeBefore,c=(a||l).id,p=i.generateEmptyHistory(e);p.category=n.AuditLogCategory.KEY_DETAILS;var u=r[c],d=s(u,l,a);null==l?(p.event="Key detail added",p.newValue=o(u),t.push(p)):null==a?(p.event="Key detail deleted",p.oldValue=o(d),t.push(p)):(p.event="Key detail updated",p.newValue=o(u),p.oldValue=o(d),p.newValue!==p.oldValue&&t.push(p)),r[c]=d})}},837:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(170),n=a(4),i=a(73),o=a(13),s=a(926),l=a(608),c=a(1),p=function(e,t,a){if(null==t)return null;var r=JSON.parse(JSON.stringify(e||{}));return Object.keys(t).forEach(function(e){null!=t[e]&&(r[e]=t[e])}),null!=a&&Object.keys(a).forEach(function(e){null!=a[e]&&null==t[e]&&(r[e]=null)}),r},u=function(e){switch(e){case o.ActorRole.APPROVER:return n.ActorRoleDisplay.APPROVER;case o.ActorRole.APPROVAL_ADMIN:return n.ActorRoleDisplay.APPROVAL_ADMIN;case o.ActorRole.LEGAL_COUNSEL:return n.ActorRoleDisplay.LEGAL_COUNSEL;case o.ActorRole.REQUESTER:return n.ActorRoleDisplay.REQUESTER;case o.ActorRole.VIEWER:return n.ActorRoleDisplay.VIEWER;case o.ActorRole.PRIVATE_VIEWER:return n.AuditLogCategory.PRIVATE_VIEWER;case o.ActorRole.TEMPLATE_VIEWER:return n.ActorRoleDisplay.TEMPLATE_VIEWER;case o.ActorRole.TEMPLATE_ADMIN:return n.ActorRoleDisplay.TEMPLATE_ADMIN;case o.ActorRole.TEMPLATE_OWNER:return n.ActorRoleDisplay.TEMPLATE_OWNER;default:return n.ActorRoleDisplay.UNKNOWN}},d=function(e){switch(e){case o.ActorAssignmentStatus.APPROVER_REJECTED:return n.ApproverStatusDisplay.APPROVER_REJECTED;case o.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_REJECTION:return n.ApproverStatusDisplay.APPROVER_RECOMMEND_FOR_REJECTION;case o.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_APPROVAL:return n.ApproverStatusDisplay.APPROVER_RECOMMEND_FOR_APPROVAL;case o.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION:return n.ApproverStatusDisplay.APPROVER_APPROVED_WITH_CONDITION;case o.ActorAssignmentStatus.APPROVER_APPROVED:return n.ApproverStatusDisplay.APPROVER_APPROVED;case o.ActorAssignmentStatus.APPROVER_DRAFT:return n.ApproverStatusDisplay.APPROVER_DRAFT;case o.ActorAssignmentStatus.APPROVER_PENDING:return n.ApproverStatusDisplay.APPROVER_PENDING;case o.ActorAssignmentStatus.APPROVER_PENDING_IN_FUTURE:return n.ApproverStatusDisplay.APPROVER_PENDING_IN_FUTURE;default:return n.ApproverStatusDisplay.UNKNOWN}},m=function(e){switch(e){case o.ActorRole.APPROVER:return n.AuditLogCategory.APPROVAL_PLAN;case o.ActorRole.LEGAL_COUNSEL:return n.AuditLogCategory.LEGAL_COUNSEL;case o.ActorRole.REQUESTER:return n.AuditLogCategory.REQUESTER;case o.ActorRole.VIEWER:return n.AuditLogCategory.VIEWER;case o.ActorRole.PRIVATE_VIEWER:return n.AuditLogCategory.PRIVATE_VIEWER;case o.ActorRole.APPROVAL_ADMIN:return n.AuditLogCategory.APPROVAL_ADMIN;case o.ActorRole.TEMPLATE_VIEWER:return n.AuditLogCategory.TEMPLATE_VIEWER;case o.ActorRole.TEMPLATE_ADMIN:return n.AuditLogCategory.TEMPLATE_ADMIN;case o.ActorRole.TEMPLATE_OWNER:return n.AuditLogCategory.TEMPLATE_OWNER;default:return n.AuditLogCategory.EMPTY}},f=function(e){var t="";return e.actor?(null!=e.delegateAssignee?t+=e.delegateAssignee.displayName+" delegated by "+e.actor.displayName:t+=e.actor.displayName,"APPROVER"===e.role&&(t+=" with status: "+d(e.assignmentStatus)),t):t},E=function(e,t,a){var o=i.generateEmptyHistory(t);o.category=m(e.role),o.event=u(e.role)+" added",o.newValue=f(e),o.category===n.AuditLogCategory.APPROVAL_PLAN&&(o.hasDetail=!0,o.newValueFull=s.cloneDeep(e),o.valueType=r.AuditLogHistoryValueType.ACTOR),a.push(o)},h=function(e,t,a){var o=i.generateEmptyHistory(t);o.category=m(e.role),o.event=u(e.role)+" deleted",o.oldValue=f(e),o.category===n.AuditLogCategory.APPROVAL_PLAN&&(o.hasDetail=!0,o.oldValueFull=s.cloneDeep(e),o.valueType=r.AuditLogHistoryValueType.ACTOR),a.push(o)},v=function(e){return[o.ActorAssignmentStatus.APPROVER_APPROVED,o.ActorAssignmentStatus.APPROVER_APPROVED_WITH_CONDITION,o.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_APPROVAL,o.ActorAssignmentStatus.APPROVER_RECOMMEND_FOR_REJECTION,o.ActorAssignmentStatus.APPROVER_REJECTED].indexOf(e)>-1},A=function(e,t,a,o){var p=a.actorBefore,d=a.actorAfter,E=i.generateEmptyHistory(a);if(E.newValue=f(e),E.oldValue=f(t),E.category=m(e.role),E.category===n.AuditLogCategory.APPROVAL_PLAN&&(E.hasDetail=!0,E.oldValueFull=s.cloneDeep(t),E.newValueFull=s.cloneDeep(e),E.valueType=r.AuditLogHistoryValueType.ACTOR,null!=e.escalatedAt&&(null==t||null==t.escalatedAt))){var h=i.generateEmptyHistory(a);h.category=n.AuditLogCategory.ESCALATIONS,h.event="Escalation sent",h.date=c(e.escalatedAt).format("MM-DD-YYYY hh:mm a"),h.newValue="Escalated to "+e.escalatedTo,h.oldValue=e.actor.displayName+" has been Escalated",o.push(h)}null!=d.assignmentStatus?v(e.assignmentStatus)?E.event="Approver took an action":E.event="Approver status updated":null!=d.actor?E.event=u(t.role)+" transferred":null!=d.delegateAssignee?null==p.delegateAssignee?E.event="Approver delegatee added":E.event="Approver delegatee updated":null!=p.delegateAssignee&&(E.event="Approver delegatee removed"),l.isNotEmpty(E.event)&&o.push(E)};t.generateHistoryForActor=function(e,t,a){var r={};a.forEach(function(e){"object"==typeof e&&(r[e.id]=e)}),e.forEach(function(e){var a=e.actorBefore,n=e.actorAfter,i=(n||a).id,o=r[i]||{},s=p(o,a,n);null==a?E(o,e,t):null==n?h(s,e,t):A(o,s,e,t),r[i]=s})}},927:function(e,t,a){"use strict";function getActionDisplay(e,t){return e&&t?e.map(JSON.parse).reduce(function(e,a){var i=a.parameters||[];return 0===i.length?e:e.concat([r.createElement("div",null,r.createElement("b",null,n.RuleActionTypeDisplayText[a.type]),r.createElement("div",{className:"awsui-util-clearfix"}))],i.map(function(e){var a=t[e.entityId];return a?r.createElement("div",null,r.createElement("span",{key:e.entityId},r.createElement("b",null,n.ActionParameterTargetStateDisplayText[e.targetState]),a.approver&&r.createElement("span",{className:"awsui-util-ml-xs"},"Approver ",r.createElement("b",null,a.approver.name)," in"),a.route&&r.createElement("span",{className:"awsui-util-ml-xs"},"Group ",r.createElement("b",null,a.route.name)," in"),a.level&&r.createElement("span",{className:"awsui-util-ml-xs"},"Level ",r.createElement("b",null,a.level.name)),a.viewer&&r.createElement("span",{className:"awsui-util-ml-xs"},"Viewer ",r.createElement("b",null,a.viewer.name))),r.createElement("div",{className:"awsui-util-clearfix"})):r.createElement("div",null,r.createElement("span",{style:{color:"red"},key:e.entityId},r.createElement("b",null,n.ActionParameterTargetStateDisplayText[e.targetState]),r.createElement("i",{className:"awsui-util-ml-xs"},e.type," ",e.entityId," doesn't exist.")),r.createElement("div",{className:"awsui-util-clearfix"}))}))},[]):""}function getRuleName(e,t){return e&&e.name?e.name:e&&e.ruleId&&t&&t[e.ruleId]?t[e.ruleId].rule.name:s}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=a(4),i=a(73),o=a(609),s="Unknown";t.generateHistoryForRule=function(e,t,a,s){e.forEach(function(e){var l=e.ruleBefore,c=e.ruleAfter,p=i.generateEmptyHistory(e);if(p.category=n.AuditLogCategory.RULE,p.hasDetail=!0,null==l&&null!=c){p.event="Rule added",p.newValue=getRuleName(c,s);var u={rule:c,attributeList:a,actionDisplay:getActionDisplay(c.actions,s)};p.newValueFull=r.createElement(o.default,{info:u})}else if(null==c&&null!=l){p.event="Rule deleted",p.oldValue=getRuleName(l,s);var u={rule:l,attributeList:a,actionDisplay:getActionDisplay(l.actions,s)};p.oldValueFull=r.createElement(o.default,{info:u})}else if(null!=c&&null!=l){p.event="Rule updated",p.newValue=getRuleName(c,s);var d={rule:c,actionDisplay:getActionDisplay(c.actions,s),attributeList:a};p.newValueFull=r.createElement(o.default,{info:d}),p.oldValue=getRuleName(l,s);var m={rule:l,actionDisplay:getActionDisplay(l.actions,s),attributeList:a};p.oldValueFull=r.createElement(o.default,{info:m})}t.push(p)})}},928:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(929),i=a(931),o=a(932),s=a(933),l=a(935),c=a(936);t.generateHistory=function(e,t){switch(e.changedSection){case r.HistoryChangedSection.APPROVAL:return void n.generateHistoryForApproval(e,t);case r.HistoryChangedSection.TEMPLATE:return void n.generateHistoryForTemplate(e,t);case r.HistoryChangedSection.ATTACHMENT:case r.HistoryChangedSection.DOCUMENT:return void i.generateHistoryForAttachment(e,t);case r.HistoryChangedSection.CORRESPONDENCE:return void s.generateHistoryForCorrespondence(e,t);case r.HistoryChangedSection.ROUTE:return void o.generateHistoryForRoute(e,t);case r.HistoryChangedSection.RELATION:return void l.generateHistoryForRelation(e,t);case r.HistoryChangedSection.TAG:return void c.generateHistoryForTag(e,t);default:return}}},929:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(13),i=a(170),o=a(230),s=a(930),l=function(e){return e?"Checked":"Unchecked"},c=function(e){return e?"YES":"NO"},p=function(e){return c(e)},u=function(e){return c(!e)},d=function(e){return n.getDisplayApprovalStatus(e)||"Unknown"},m=function(e){switch(e){case r.PriorityType.NONE:return r.DisplayPriority.NONE;case r.PriorityType.LOW:return r.DisplayPriority.LOW;case r.PriorityType.MEDIUM:return r.DisplayPriority.MEDIUM;case r.PriorityType.HIGH:return r.DisplayPriority.HIGH;default:return r.DisplayPriority.UNKNOWN}},f=function(e){return e?"Escalation Enabled":"Escalation Disabled"},E=[{key:"title",label:"Title",category:r.AuditLogCategory.BASIC_DETAILS,transform:o.getStringFromHtmlString},{key:"summary",label:"Summary",category:r.AuditLogCategory.BASIC_DETAILS,transform:function(e){return e&&o.getStringFromHtmlString(e.join(""))},transformFull:function(e){return e&&e.join("")},valueType:i.AuditLogHistoryValueType.HTML},{key:"neededOnDate",label:"Date needed by",category:r.AuditLogCategory.BASIC_DETAILS,transform:function(e){return new Date(e).toString()}},{key:"priority",label:"Priority",category:r.AuditLogCategory.BASIC_DETAILS,transform:m},{key:"status",label:"Status",category:r.AuditLogCategory.BASIC_DETAILS,transform:d},{key:"privilegedAndConfidential",label:"Legally privileged",category:r.AuditLogCategory.QUESTIONNAIRE,transform:l},{key:"transactionAboveUsd100M",label:"High value transaction",category:r.AuditLogCategory.QUESTIONNAIRE,transform:p},{key:"restartCount",label:"Approval has been restarted",labelReplace:!0,category:r.AuditLogCategory.APPROVAL_PLAN,transform:function(e){return"Restart Count: "+e.toString()}},{key:"blockRequesterFromMakingApproverDecision",label:"Allow approving by requestor",category:r.AuditLogCategory.QUESTIONNAIRE,transform:u},{key:"blockRequesterFromMakingApproverDecisionFromTemplate",label:"Allow approving by requestor from template",category:r.AuditLogCategory.QUESTIONNAIRE,transform:u},{key:"requesterMadeApproverDecisionAt",label:"Requester decision date",category:r.AuditLogCategory.BASIC_DETAILS,transform:function(e){return new Date(e).toString()}},{key:"escalationEnabled",label:"Escalations",category:r.AuditLogCategory.ESCALATIONS,transform:f},{key:"escalationPeriodInDays",label:"Escalation Period in days",category:r.AuditLogCategory.ESCALATIONS,transform:function(e){return e+" days"}},{key:"isPrivate",label:"Privacy Type",category:r.AuditLogCategory.BASIC_DETAILS,transform:function(e){return e?"Private":"General"}}],h=[{key:"description",label:"Description",category:r.AuditLogCategory.BASIC_DETAILS,transform:function(e){return e&&o.getStringFromHtmlString(e.join(""))},transformFull:function(e){return e&&e.join("")},valueType:i.AuditLogHistoryValueType.HTML},{key:"approvalTitle",label:"Approval Title",category:r.AuditLogCategory.BASIC_DETAILS,transform:o.getStringFromHtmlString},{key:"approvalSummary",label:"Approval Summary",category:r.AuditLogCategory.BASIC_DETAILS,transform:function(e){return e&&o.getStringFromHtmlString(e.join(""))},transformFull:function(e){return e&&e.join("")},valueType:i.AuditLogHistoryValueType.HTML},{key:"templatePublic",label:"Template Public",category:r.AuditLogCategory.BASIC_DETAILS,transform:c},{key:"active",label:"Template Active",category:r.AuditLogCategory.BASIC_DETAILS,transform:c},{key:"lockApprovalAdminSection",label:"Admin locked on approvals",category:r.AuditLogCategory.QUESTIONNAIRE,transform:c},{key:"disableCopyToNewOnApprovals",label:"Copy to new disabled on approvals",category:r.AuditLogCategory.QUESTIONNAIRE,transform:c},{key:"approvalPlanLocked",label:"Plan locked on approvals",category:r.AuditLogCategory.QUESTIONNAIRE,transform:c}];t.generateHistoryForApproval=function(e,t){s.transformHistory(e,E,"approvalBefore","approvalAfter").forEach(function(e){return t.push(e)})},t.generateHistoryForTemplate=function(e,t){s.transformHistory(e,E.concat(h),"templateBefore","templateAfter").forEach(function(e){return t.push(e)})}},930:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(73);t.transformHistory=function(e,t,a,i){var o=e[i],s=e[a];return t.filter(function(e){var t=e.key;return o&&o[t]||s&&s[t]}).map(function(t){var a=t.category,i=t.key,l=t.label,c=t.labelReplace,p=t.transform,u=t.transformFull,d=t.valueType,m=s&&null!=s[i],f=p||function(e){return e},E=u&&m?{oldValueFull:u(s[i])}:{},h=u?{newValueFull:u(o[i]),hasDetail:!0}:{};return r({},n.generateEmptyHistory(e),E,h,{category:a,event:c?l:l+" "+(m?"changed":"added"),newValue:f(o[i]),oldValue:m?f(s[i]):"",valueType:d})})}},931:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(73),i=function(e){return e.name+" (V"+e.version+")"};t.generateHistoryForAttachment=function(e,t){var a=e.documentAfter,o=e.documentBefore,s=e.templateAttachmentBefore,l=e.templateAttachmentAfter,c=n.generateEmptyHistory(e);c.category=r.AuditLogCategory.ATTACHMENT;var p=o||s,u=a||l;null==p?(c.event="Attachment added",c.newValue=i(u.versions[u.versions.length-1])):null==u?(c.event="Attachment deleted",c.oldValue=i(p.versions[p.versions.length-1])):(c.event="Attachment updated",u.versions&&u.versions.length>2&&(c.newValue=i(u.versions[u.versions.length-1]),c.oldValue=i(u.versions[u.versions.length-2]))),t.push(c)}},932:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(73);t.generateHistoryForRoute=function(e,t){var a=e.routeAfter,i=e.routeBefore,o=n.generateEmptyHistory(e);o.category=r.AuditLogCategory.APPROVAL_PLAN,null==i?(o.event="Route added",o.newValue=a.name,t.push(o)):null==a&&(o.event="Route deleted",o.oldValue=i.name,t.push(o))}},933:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n=a(170),i=a(73),o=a(230),s=a(934);t.generateHistoryForCorrespondence=function(e,t){var a=e.correspondenceAfter,l=e.correspondenceBefore,c=i.generateEmptyHistory(e);c.category=r.AuditLogCategory.CORRESPONDENCE,null==l&&(c.event="Correspondence added",c.newValueFull=s.replaceNewlineWithBr(a.comment.join("")),c.newValue=o.getStringFromHtmlString(c.newValueFull),c.valueType=n.AuditLogHistoryValueType.HTML,c.hasDetail=!0,t.push(c))}},934:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceNewlineWithBr=function(e){return e.replace(/\n/g,"<br/>")}},935:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(73),n=a(4),i=function(e){var t=e.entityType,a=e.entityId;return""+t[0]+t.substring(1).toLowerCase()+" : "+a};t.generateHistoryForRelation=function(e,t){var a=e.relationBefore,o=e.relationAfter,s=r.generateEmptyHistory(e);s.category=n.AuditLogCategory.RELATED,null==a?(s.event="Relation created",s.newValue=i(o)):null==o&&(s.event="Relation deleted",s.oldValue=i(a)),t.push(s)}},936:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(73),n=a(4);t.generateHistoryForTag=function(e,t){var a=e.tagBefore,i=e.tagAfter,o=r.generateEmptyHistory(e);o.category=n.AuditLogCategory.TAGS,null==a?(o.event="Tag added",o.newValue=i.tagName):null==i&&(o.event="Tag removed",o.oldValue=a.tagName),t.push(o)}},937:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHistorySearchString=function(e){return[e.user,e.category,e.event,e.date,e.oldValue,e.newValue].join(" ")}},938:function(e,t,a){"use strict";function NotificationFeedReducer(e,t){if(void 0===e&&(e=null),null==t)return null;switch(t.type){case r.UPDATE_NOTIFICATION_FEED:return t.feed;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(610);t.default=NotificationFeedReducer},939:function(e,t,a){"use strict";function AnnouncementsReducer(e,t){switch(void 0===e&&(e=null),t?t.type:t){case r.UPDATE_ANNOUNCEMENTS:return t.announcements;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(612);t.default=AnnouncementsReducer},940:function(e,t,a){"use strict";function removePermission(e,t){var a=e.input.permissionsTo.alias.toLowerCase();return t.reportingPermissions.filter(function(e){return e.employee.alias.toLowerCase()!==a})}function givePermissions(e,t){var a=t.reportingPermissions;return a.push({employee:e.input.permissionsTo,addedOn:e.result.addedOn,addedBy:e.result.addedBy}),a}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(232),i={reportingPermissions:null};t.templateReportingPermissionsReducer=function(e,t){void 0===e&&(e=i);var a=t.type,o=t.payload,s=r({},e);switch(a){case n.GIVE_TEMPLATE_PERMISSIONS:return null!==o.result&&(s.reportingPermissions=givePermissions(o,e)),s;case n.REMOVE_TEMPLATE_PERMISSION:return null!==o.result&&(s.reportingPermissions=removePermission(o,e)),s;case n.GET_TEMPLATE_PERMISSIONS:return s.reportingPermissions=o||[],s}return e}},941:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var n=a(233),i=a(4),o={allowToGeneratePreSignedLinkForImage:!1,generatePreSignedLinkForImageState:i.LoadingState.NOT_LOADED,accessPermissionGranted:!1};t.permissionReducer=function(e,t){void 0===e&&(e=o);var a=t.type,i=t.payload,s=r({},e);switch(a){case n.UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_ACTION:return s.allowToGeneratePreSignedLinkForImage=i,s;case n.UPDATE_GENERATE_PRE_SINGED_LINK_FOR_IMAGE_PERMISSION_STATE_ACTION:return s.generatePreSignedLinkForImageState=i,s;case n.GET_ACCESS_PERMISSIONS:return s.accessPermissionGranted=i,s}return e}},942:function(e,t,a){"use strict";function NotificationSettingsReducer(e,t){switch(void 0===e&&(e=r),t.type){case"GetNotificationSettings_Succeeded":return Object.assign({},e,{succeeded:!0,notificationPreferences:t.payload});case"GetNotificationSettings_Failed":return Object.assign({},e,{succeeded:!1,notificationPreferences:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r={succeeded:!1,notificationPreferences:null};t.NotificationSettingsReducer=NotificationSettingsReducer},943:function(e,t,a){"use strict";function default_1(e,t){if(void 0===e&&(e=n),null==t)return e;switch(t.type){case r.FETCH_ALL_APPROVAL_RELATIONS:return{relations:t.payload};case r.ADD_APPROVAL_RELATION:return{relations:[t.payload].concat(e.relations)};case r.DELETE_APPROVAL_RELATION:return{relations:e.relations.filter(function(e){return e.entityId!==t.payload})};default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(174),n={relations:[]};t.default=default_1},944:function(e,t,a){"use strict";function TemplateFavoritesReducer(e,t){switch(void 0===e&&(e=r),t.type){case"GetFavoriteTemplatesList_Succeeded":return Object.assign({},e,{isLoading:!1,isError:!1,isSucceeded:!0,preferencesData:t.payload});case"GetFavoriteTemplatesList_Failed":return Object.assign({},e,{isLoading:!1,isError:!0,isSucceeded:!1,preferencesData:null});case"GetFavoriteTemplatesList_Pending":return Object.assign({},e,{isLoading:!0,isError:!1,isSucceeded:!1,preferencesData:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r={isLoading:!1,isError:!1,isSucceeded:!1,preferencesData:null};t.TemplateFavoritesReducer=TemplateFavoritesReducer},945:function(e,t,a){"use strict";function GenericExportsReducer(e,t){switch(void 0===e&&(e=n),t.type){case r.GenericExportsActionType.GetGenericExportsList_Succeeded:return Object.assign({},e,{isLoading:!1,isError:!1,isSucceeded:!0,genericExportsPreferencesList:t.payload});case r.GenericExportsActionType.GetGenericExportsList_Failed:return Object.assign({},e,{isLoading:!1,isError:!0,isSucceeded:!1,genericExportsPreferencesList:null});case r.GenericExportsActionType.GetGenericExportsList_Pending:return Object.assign({},e,{isLoading:!0,isError:!1,isSucceeded:!1,genericExportsPreferencesList:null});case r.GenericExportsActionType.CreateGenericExportsList_Succeeded:return Object.assign({},e,{isLoading:!1,isError:!1,isSucceeded:!0,genericExportsPreference:t.payload});case r.GenericExportsActionType.CreateGenericExportsList_Failed:return Object.assign({},e,{isLoading:!1,isError:!0,isSucceeded:!1,genericExportsPreference:null});case r.GenericExportsActionType.CreateGenericExportsList_Pending:return Object.assign({},e,{isLoading:!0,isError:!1,isSucceeded:!1,genericExportsPreference:null});case r.GenericExportsActionType.DeleteGenericExportsList_Succeeded:return Object.assign({},e,{isLoading:!1,isError:!1,isSucceeded:!0,deleteResponseMessage:t.payload});case r.GenericExportsActionType.DeleteGenericExportsList_Failed:return Object.assign({},e,{isLoading:!1,isError:!0,isSucceeded:!1,deleteResponseMessage:t.payload});case r.GenericExportsActionType.DeleteGenericExportsList_Pending:return Object.assign({},e,{isLoading:!0,isError:!1,isSucceeded:!1,deleteResponseMessage:null});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),n={isLoading:!1,isError:!1,isSucceeded:!1,genericExportsPreferencesList:null,genericExportsPreference:null,deleteResponseMessage:""};t.GenericExportsReducer=GenericExportsReducer},946:function(e,t,a){"use strict";function tasksReducer(e,t){if(void 0===e&&(e={}),null==t)return e;switch(t.type){case"GET_TASK_REQUEST":case"GET_ALL_TASKS_REQUEST":case"CREATE_TASK_REQUEST":case"UPDATE_TASK_REQUEST":return r({},e,{loading:!0});case"GET_TASK_SUCCESS":case"CREATE_TASK_SUCCESS":case"UPDATE_TASK_SUCCESS":return r({},e,{loading:!1,task:t.payload});case"GET_ALL_TASKS_SUCCESS":return r({},e,{loading:!1,tasks:t.payload});case"GET_TASK_FAILURE":case"GET_ALL_TASKS_FAILURE":case"CREATE_TASK_FAILURE":case"UPDATE_TASK_FAILURE":return r({},e,{loading:!1,error:t.payload});default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=tasksReducer},947:function(e,t,a){"use strict";function taskConfigsReducer(e,t){if(void 0===e&&(e={}),null==t)return e;switch(t.type){case"GET_TASK_CONFIG_REQUEST":case"GET_ALL_TASK_CONFIGS_REQUEST":case"CREATE_TASK_CONFIG_REQUEST":case"UPDATE_TASK_CONFIG_REQUEST":return r({},e,{loading:!0});case"GET_TASK_CONFIG_SUCCESS":case"CREATE_TASK_CONFIG_SUCCESS":case"UPDATE_TASK_CONFIG_SUCCESS":return r({},e,{loading:!1,taskConfig:t.payload});case"GET_ALL_TASK_CONFIGS_SUCCESS":return r({},e,{loading:!1,taskConfigs:t.payload});case"GET_TASK_CONFIG_FAILURE":case"GET_ALL_TASK_CONFIGS_FAILURE":case"CREATE_TASK_CONFIG_FAILURE":case"UPDATE_TASK_CONFIG_FAILURE":return r({},e,{loading:!1,error:t.payload});default:return e}}var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=taskConfigsReducer},99:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function __(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(__.prototype=a.prototype,new __)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a(300),s=a(1380),l=a(1381),c=a(6),p=function(e){function ActorCard(){return null!==e&&e.apply(this,arguments)||this}return r(ActorCard,e),ActorCard.prototype.render=function(){var e=this.props,t=e.actor,a=e.delegate,r=e.internalProps,p=a?a.type:t.type;return p==c.ActorType.PRINCIPAL?i.createElement(o.default,n({},r,{employee:t,delegate:a})):p==c.ActorType.DYNAMIC_ACTOR?i.createElement(l.default,n({},r,{group:t})):a?i.createElement(s.default,n({},r,{group:a,delegatedBy:t})):i.createElement(s.default,n({},r,{group:t}))},ActorCard}(i.Component);t.default=p}},[767]);
